---
title: GRC Billing user story 20251230
---

## Initiative: System Foundation & Global Configuration

### Epic: Billing Configuration & Domain Setup

#### Feature: Configure Billing Rate Plans and Cycles
- **Role**: Billing Administrator
- **Action**: establish and manage billing rate structures and invoice generation schedules
- **Value**: the organization can automate accurate, timely invoice generation aligned with business agreements and product offerings

**Description:**

As a **Billing Administrator**,
I want to **establish and manage billing rate structures and invoice generation schedules**,
So that **the organization can automate accurate, timely invoice generation aligned with business agreements and product offerings**


**Key Capabilities:**

**1. Rate Plan Definition**
Administrator configures billing product structures defining pricing models, frequency parameters, and calculation rules applicable across member populations.

**2. Invoice Cycle Scheduling**
Administrator establishes invoice generation timing using offset parameters (advance/arrears), generation day specifications, and optional date ranges to control when invoices are created relative to billing periods.

**3. Multi-Product Consolidation Rules**
When managing group sponsors with multiple product lines, administrator defines aggregation logic to consolidate billing information across products into unified account views.

**4. Billing Status Tracking Configuration**
System enables definition of account lifecycle states and status indicators that control invoicing progression and visibility throughout the billing cycle.


**Acceptance Criteria:**

**1. Rate Plan Activation**
Given valid rate plan configuration is submitted, When administrator activates the plan, Then system applies pricing rules to designated member populations and enables invoice generation.

**2. Schedule Offset Validation**
Given invoice timing parameters are configured, When offset values specify generation timing (advance/arrears with day/date specifications), Then system calculates accurate invoice generation dates relative to billing periods.

**3. Consolidated Billing Rules**
Given group sponsor manages multiple products, When billing cycle executes, Then system aggregates amounts, amendments, and balances according to defined consolidation rules.

**4. Configuration Completeness Check**
Given incomplete billing configuration, When administrator attempts activation, Then system prevents enablement and identifies missing required parameters without exposing technical field names.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=509875116"
]

---

#### Feature: Establish Tax Rules and Calculation Parameters
- **Role**: Billing Administrator
- **Action**: configure tax calculation rules and parameters for billing operations
- **Value**: invoices accurately reflect jurisdictional tax requirements and support third-party product billing compliance

**Description:**

As a **Billing Administrator**,
I want to **configure tax calculation rules and parameters for billing operations**,
So that **invoices accurately reflect jurisdictional tax requirements and support third-party product billing compliance**


**Key Capabilities:**

**Tax Rule Configuration**
User is able to establish tax calculation rules aligned with jurisdictional requirements, including rate structures and applicability conditions for billing products.

**Parameter Assignment to Products**
User is able to assign tax calculation parameters to third-party and standalone billing products, ensuring appropriate tax treatment during invoice generation.

**Calculation Logic Validation**
User is able to validate configured tax rules through system calculations, confirming accuracy before production deployment.

**Tax Configuration Updates**
When regulatory changes occur, user is able to update tax parameters and rules to maintain ongoing compliance across all billing accounts.


**Acceptance Criteria:**

**Valid Tax Configuration Applied**
Given tax rules are configured, when billing account generates invoice, then system applies correct tax calculations based on product and jurisdiction parameters.

**Third-Party Product Tax Handling**
Given third-party product has assigned tax parameters, when invoice is created, then system accurately computes and displays tax amounts without manual intervention.

**Invalid Configuration Prevention**
Given incomplete or conflicting tax parameters, when user attempts to save configuration, then system prevents activation and identifies missing requirements.

**Regulatory Update Compliance**
Given tax rules are updated, when new invoices are generated, then system applies updated calculations while preserving historical invoice integrity.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=799345485"
]

---

#### Feature: Define Domain-Specific Billing Configuration
- **Role**: Billing Administrator
- **Action**: establish and configure domain-specific billing architecture and entity relationships
- **Value**: the billing system operates with proper structural foundation, enabling accurate payment processing, invoice management, and cross-domain integration across policy, customer, and payment operations

**Description:**

As a **Billing Administrator**,
I want to **establish and configure domain-specific billing architecture and entity relationships**,
So that **the billing system operates with proper structural foundation, enabling accurate payment processing, invoice management, and cross-domain integration across policy, customer, and payment operations**


**Key Capabilities:**

**1. Domain Architecture Definition**
Administrator defines billing domain structure including relationships with Policy Domain (member/master policies), CEM Domain (customer/payment methods), Payment Hub (payment flows), and Task Management System.

**2. Business Entity Configuration**
Administrator configures core billing entities (products, invoices, accounts, payments) with appropriate cardinality rules (one-to-one, one-to-many, many-to-many) and relationship constraints.

**3. Cross-Domain Integration Setup**
Administrator establishes integration points between billing domain and external domains, defining data exchange patterns and entity linkages.

**4. Configuration Validation**
System validates domain configuration ensuring all mandatory relationships are defined and structural integrity is maintained across interconnected domains.


**Acceptance Criteria:**

**1. Domain Structure Establishment**
Given administrator accesses billing configuration, When domain-specific architecture is defined with all required entity relationships, Then system validates and activates the billing domain structure.

**2. Cross-Domain Integration**
Given external domains (Policy, CEM, Payment Hub) exist, When billing domain configuration is completed, Then system establishes proper integration channels and entity linkages across all domains.

**3. Entity Relationship Integrity**
Given business entities are configured, When cardinality rules and relationship constraints are applied, Then system enforces structural integrity preventing invalid entity associations.

**4. Configuration Persistence**
Given domain configuration is validated, When administrator saves the billing architecture, Then system persists configuration and makes it available for billing operations and payment processing.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=511120026"
]

---

#### Feature: Configure Performance and Resource Utilization Thresholds
- **Role**: Billing Administrator
- **Action**: define and maintain system-wide performance boundaries and resource consumption limits
- **Value**: the platform operates efficiently under peak loads while meeting service level commitments across UI interactions, batch operations, and concurrent processing

**Description:**

As a **Billing Administrator**,
I want to **define and maintain system-wide performance boundaries and resource consumption limits**,
So that **the platform operates efficiently under peak loads while meeting service level commitments across UI interactions, batch operations, and concurrent processing**


**Key Capabilities:**

**1. UI Performance Threshold Configuration**
Define response time limits for user interactions: average 2s, 95th percentile 3s, maximum 5s under expected concurrent load scenarios.

**2. Batch Process Time Boundaries**
Establish completion windows for batch jobs (recommended 30min, maximum 5hrs) and asynchronous processes (recommended 1min, maximum 10min) independent of data volume.

**3. Resource Consumption Controls**
Set CPU utilization ceiling at 80% and memory footprint cap at 200MB during peak operations with automatic resource release during idle periods.

**4. Capacity Volume Parameters**
Specify supported volumes for concurrent users, billing accounts, policies per account, daily payments, and monthly refunds with annual growth projections.

**5. Horizontal Scalability Enablement**
Configure scaling parameters for invoice generation, payment operations, enrollment transactions, and reporting data preparation to maintain performance under increasing load.


**Acceptance Criteria:**

**1. Performance Limits Enforcement**
Given configured response time thresholds, When load testing executes representative user interactions under peak concurrent load, Then 95% of transactions complete within 3 seconds and none exceed 5 seconds.

**2. Batch Execution Compliance**
Given defined completion windows, When batch jobs process volumes within capacity specifications, Then invoice generation completes within 30 minutes and no batch exceeds 5-hour maximum.

**3. Resource Utilization Boundaries**
Given configured consumption limits, When system operates under normal and peak conditions, Then CPU utilization remains at or below 80% and memory footprint stays within 200MB threshold.

**4. Capacity Accommodation**
Given specified volume parameters, When system handles maximum concurrent users, billing accounts, and daily transaction volumes, Then all performance and resource thresholds remain satisfied.

**5. Scaling Responsiveness**
Given horizontal scalability configuration, When concurrent user load or data volume increases, Then system scales components automatically while maintaining UI response times and batch completion windows.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=660063352"
]

---

#### Feature: Manage Billing Account Status and Consolidated Views
- **Role**: Billing Administrator
- **Action**: monitor and configure billing account status, consolidated views, and invoice scheduling parameters
- **Value**: I can maintain visibility over billing operations, ensure timely invoice generation, and provide group sponsors with aggregated financial oversight across member accounts

**Description:**

As a **Billing Administrator**,
I want to **monitor and configure billing account status, consolidated views, and invoice scheduling parameters**,
So that **I can maintain visibility over billing operations, ensure timely invoice generation, and provide group sponsors with aggregated financial oversight across member accounts**


**Key Capabilities:**

**1. Billing Account Status Monitoring**
User is able to view real-time billing status indicators including payment frequency, invoice due dates, remaining balances, and invoicing progress flags within account headers.

**2. Consolidated Billing Views**
When accessing as group sponsor, user is able to review aggregated financial data across associated member accounts including total balances, unpaid amounts, and pending amendments.

**3. Invoice Distribution Visualization**
User is able to view proportional status distribution of invoices across states (overdue, issued, partially paid) and navigate to filtered invoice listings.

**4. Invoice Schedule Configuration**
User is able to configure advanced scheduling parameters including due date offsets, generation timing rules, offset period types, and flexible time units for invoice automation.


**Acceptance Criteria:**

**1. Account Status Visibility**
Given billing accounts exist, when administrator accesses account header, then system displays current payment frequency, due dates, remaining balance, and invoicing status indicator.

**2. Consolidated View Access**
Given group sponsor role assignment, when accessing consolidated billing view, then system aggregates and displays total balances, unpaid amounts, and associated member records with product types.

**3. Invoice Status Navigation**
Given invoices exist in multiple states, when user interacts with status bar counts, then system navigates to invoice list with corresponding status filter pre-applied.

**4. Schedule Configuration Persistence**
Given administrator configures invoice scheduling parameters, when settings are saved, then system applies offset rules, generation timing, and flexible time units to subsequent invoice generation processes.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=509875116"
]

---

### Epic: Billing Calendar & Frequency Management

#### Feature: Configure Billing Calendars with Working Days and Holidays
- **Role**: Billing Administrator
- **Action**: configure billing calendars with working days and holiday schedules
- **Value**: billing operations align with organizational work schedules and regulatory requirements

**Description:**

As a **Billing Administrator**,
I want to **configure billing calendars with working days and holiday schedules**,
So that **billing operations align with organizational work schedules and regulatory requirements**


**Key Capabilities:**

**Calendar Initialization**
User is able to initiate a new billing calendar entity within the system foundation.

**Calendar Configuration**
User is able to define calendar parameters including unique identifier, standard weekends, exceptional non-working days, working weekends, and schedule execution timing.

**Data Validation & Persistence**
Upon submission, system validates calendar integrity including uniqueness, length constraints, date validity, and logical consistency between weekend and working day definitions. When validation succeeds, system persists calendar configuration for operational use.

**Error Handling**
If validation detects missing attributes, duplicate names, excessive length, or conflicting date definitions, system provides diagnostic feedback and prevents incomplete configuration.


**Acceptance Criteria:**

**1. Successful Calendar Creation**
Given valid calendar parameters with unique name and consistent date definitions, When administrator submits configuration, Then system persists calendar and confirms successful creation.

**2. Duplicate Prevention**
Given existing calendar with specific name, When administrator attempts to create calendar with identical name, Then system rejects submission with uniqueness constraint violation.

**3. Data Integrity Enforcement**
Given calendar configuration with conflicting date definitions or invalid weekday values, When administrator submits configuration, Then system prevents persistence and provides specific validation failure details.

**4. Length Constraint Compliance**
Given calendar name exceeding 255 characters, When administrator submits configuration, Then system rejects submission with length constraint violation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=240517976"
]

---

#### Feature: Retrieve Available Billing Calendars
- **Role**: Billing Administrator
- **Action**: retrieve available billing calendars
- **Value**: I can access and review all configured billing schedules to support billing cycle management and operational planning

**Description:**

As a **Billing Administrator**,
I want to **retrieve available billing calendars**,
So that **I can access and review all configured billing schedules to support billing cycle management and operational planning**


**Key Capabilities:**

**Calendar Retrieval Initiation**
User initiates request to load all available billing calendars from the system repository with proper authorization.

**Calendar Data Retrieval**
System retrieves complete calendar configurations including schedule names, weekend definitions, non-working day exclusions, working weekend exceptions, and execution timing parameters.

**Calendar Information Availability**
System returns all billing calendar records with their associated scheduling attributes for user review and operational use.


**Acceptance Criteria:**

**Successful Calendar Retrieval**
Given the user has valid authorization, When they request available billing calendars, Then the system returns all configured calendars with complete scheduling attributes.

**Authorization Enforcement**
Given the user lacks proper authorization, When they attempt calendar retrieval, Then the system denies access and prevents data disclosure.

**Empty Calendar Set Handling**
Given no billing calendars exist in the system, When retrieval is requested, Then the system returns an empty result set without errors.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=240517985"
]

---

#### Feature: Manage Default Billing Calendar for Invoice Generation
- **Role**: Billing Administrator
- **Action**: configure default billing calendar parameters for automated invoice generation
- **Value**: invoices are generated consistently according to organizational billing cycles without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **configure default billing calendar parameters for automated invoice generation**,
So that **invoices are generated consistently according to organizational billing cycles without manual intervention**


**Key Capabilities:**

**1. Account Initialization with Calendar Defaults**
Upon billing account creation, system automatically assigns default invoicing calendar parameters based on organizational configuration.

**2. Bulk Account Provisioning**
When accounts are imported via data definition (CFGEN-BAC-0000), system applies default billing calendar settings to all imported accounts.

**3. Calendar Parameter Governance**
System enforces billing frequency, cycle dates, and generation timing rules according to predefined organizational calendar standards.


**Acceptance Criteria:**

**1. Automated Calendar Assignment**
Given a new billing account is created, When the creation process completes, Then system assigns default billing calendar without user intervention.

**2. Import Process Calendar Application**
Given accounts are imported via CFGEN-BAC-0000, When import executes successfully, Then all accounts receive default calendar parameters.

**3. Calendar Integrity Validation**
Given default calendar parameters exist, When account creation occurs, Then system prevents account activation if calendar assignment fails.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=508667630"
]

---

#### Feature: Configure Advanced Invoice Schedules with Offset Periods and Generation Rules
- **Role**: Billing Administrator
- **Action**: configure advanced invoice scheduling parameters with flexible offset periods and generation timing rules
- **Value**: the system automatically generates invoices at precise intervals aligned with business billing cycles and customer payment arrangements

**Description:**

As a **Billing Administrator**,
I want to **configure advanced invoice scheduling parameters with flexible offset periods and generation timing rules**,
So that **the system automatically generates invoices at precise intervals aligned with business billing cycles and customer payment arrangements**


**Key Capabilities:**

**1. Invoice Due Date Offset Configuration**
User is able to define invoice due date offset in months, specifying whether invoices are generated in advance or arrears relative to billing period.

**2. Generation Timing Parameters**
User is able to set generation day, generation date offset, and offset type/period to control precise invoice creation timing.

**3. Date Range Allowance**
User is able to optionally configure date range allowance in days to provide scheduling flexibility for generation windows.

**4. Integrated Generation Rules**
When all parameters are configured, system calculates final invoice generation timing by combining offset periods, generation dates, and range allowances into unified scheduling logic.


**Acceptance Criteria:**

**1. Offset Period Validation**
Given valid offset configuration inputs, When administrator saves scheduling parameters, Then system accepts and stores advance/arrears settings with specified month offsets.

**2. Generation Date Calculation**
Given configured generation day and offset values, When invoice schedule is activated, Then system calculates precise generation dates respecting offset type and period rules.

**3. Optional Range Handling**
Given date range allowance is configured, When generation window is determined, Then system applies allowance days to create flexible generation timeframe.

**4. Complete Schedule Persistence**
Given all required parameters are provided, When configuration is saved, Then system persists complete scheduling ruleset for automated invoice generation execution.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=509875116"
]

---
## Initiative: Account Management & Billing Setup

### Epic: Billing Address & Invoice Configuration

#### Feature: Configure Split Billing by Location or Division
- **Role**: Billing Administrator
- **Action**: configure split billing arrangements across organizational dimensions
- **Value**: enable flexible invoicing aligned with organizational structure and payment preferences

**Description:**

As a **Billing Administrator**,
I want to **configure split billing arrangements across organizational dimensions**,
So that **enable flexible invoicing aligned with organizational structure and payment preferences**


**Key Capabilities:**

**1. Access Billing Configuration Workspace**
User is able to access billing setup interface and select organizational dimension (location/division, class, or payroll frequency) for configuration.

**2. Enable Invoicing for Organizational Units**
User is able to activate billing for specific organizational units using master or individual toggles, with policyholder invoicing always enabled for List Bill products.

**3. Associate Billing Accounts**
User is able to create or link billing accounts to selected organizational units, defining account attributes including frequency, payment method, and due dates.
    3.1 Upon selecting combined view, user is able to configure billing with both location and class dimensions simultaneously.
    3.2 When configuring payroll frequency view (List Bill only), user is able to associate billing accounts per frequency cycle.

**4. Validate Configuration Completeness**
System validates billing setup and provides status indicators, preventing submission when required information is incomplete.

**5. Finalize Billing Setup**
User is able to save validated billing configuration for operational use.


**Acceptance Criteria:**

**1. Organizational Dimension Selection**
Given billing setup is accessed, When administrator selects an organizational dimension, Then system displays appropriate configuration interface with relevant organizational units.

**2. Invoicing Activation**
Given organizational units are displayed, When administrator enables invoicing for specific units, Then system activates billing for those units and enforces mandatory policyholder invoicing for List Bill products.

**3. Billing Account Association**
Given invoicing is enabled, When administrator associates billing accounts with organizational units, Then system links accounts and captures frequency, payment method, and due date details.

**4. Configuration Validation**
Given billing setup is configured, When system validates completeness, Then incomplete configurations are flagged and prevent finalization.

**5. Privilege-Based Access Control**
Given user lacks billing account creation privilege, When attempting to create new accounts, Then system restricts access to creation functionality.

**6. Multi-Account Management**
Given multiple billing accounts exist, When administrator configures different payment methods and schedules, Then system supports simultaneous management across all accounts.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=533634314"
]

---

#### Feature: Configure Split Billing by Class
- **Role**: Billing Administrator
- **Action**: configure split billing arrangements across organizational dimensions
- **Value**: invoicing flexibility aligns with organizational structure and business requirements

**Description:**

As a **Billing Administrator**,
I want to **configure split billing arrangements across organizational dimensions**,
So that **invoicing flexibility aligns with organizational structure and business requirements**


**Key Capabilities:**

**1. Billing View Selection**
User selects appropriate billing structure (Per Location/Division, Per Class, Combined, or Per Payroll Frequency) based on product type and organizational needs.

**2. Invoicing Enablement**
User activates invoicing at master or granular levels using hierarchical toggles. Policyholder invoicing remains mandatory for List Bill products.

**3. Billing Account Assignment**
User assigns existing billing accounts or creates new accounts for enabled organizational segments, subject to security privileges.

**4. Configuration Validation**
System validates completeness of billing setup, displaying status indicators for each enabled segment requiring account assignment.

**5. Split Billing Finalization**
User saves validated configuration establishing operational billing structure across selected organizational dimensions.


**Acceptance Criteria:**

**1. View-Based Configuration**
Given product type is selected, When user chooses billing view, Then system displays appropriate organizational structure with dimension-specific options.

**2. Mandatory Policyholder Billing**
Given List Bill product type, When user configures billing setup, Then system enforces Policyholder invoicing as permanently enabled and requires billing account assignment.

**3. Account Assignment Validation**
Given invoicing is enabled for segment, When required billing account is missing, Then system prevents configuration save and displays validation error indicators.

**4. Hierarchical Toggle Behavior**
Given master toggle is activated, When any child segment is disabled, Then system automatically disables master toggle reflecting mixed state.

**5. Privilege-Based Account Creation**
Given user lacks creation privilege, When billing account assignment is needed, Then system restricts user to selecting existing accounts only.

**6. Configuration Completeness**
Given all enabled segments have valid billing accounts, When user saves configuration, Then system confirms successful split billing establishment.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=533634314"
]

---

#### Feature: Manage Billing Accounts per Location or Division
- **Role**: Billing Administrator
- **Action**: organize and configure billing accounts by organizational structure
- **Value**: ensure accurate financial tracking and invoice distribution across locations or divisions

**Description:**

As a **Billing Administrator**,
I want to **organize and configure billing accounts by organizational structure**,
So that **ensure accurate financial tracking and invoice distribution across locations or divisions**


**Key Capabilities:**

**1. Access Location/Division Billing Structure**
User navigates to the billing account management workspace where all organizational locations or divisions are presented hierarchically with expand/collapse capabilities.

**2. Evaluate Existing Billing Configuration**
Upon selecting a location or division, system determines current billing account status and presents appropriate creation or management options.

**3. Perform Billing Account Operations**
User is able to create new billing accounts, update existing account details, modify invoice schedules, or adjust payor information for the selected organizational unit.

**4. Confirm and Navigate**
System displays updated billing account configuration and provides navigation paths to related billing functions or customer profiles.


**Acceptance Criteria:**

**1. Organizational Structure Display**
Given a group sponsor with multiple locations or divisions, When the user accesses the management workspace, Then all organizational units are displayed with their current billing account status.

**2. Conditional Account Creation**
Given a location or division without existing billing accounts, When the user selects that unit, Then the system presents the new account creation workflow.

**3. Multiple Account Management**
Given a location or division with existing accounts, When the user expands that unit, Then all associated billing accounts are displayed with modification capabilities.

**4. Configuration Persistence**
Given any billing account operation is completed, When the user confirms changes, Then the updated configuration is saved and reflected immediately in the organizational hierarchy.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=466109264"
]

---

#### Feature: Configure Invoice Delivery Preferences per Billing Account
- **Role**: Billing Administrator
- **Action**: configure invoice delivery preferences and billing account associations across multiple billing structures
- **Value**: each policy's invoicing is properly routed and billing setup aligns with organizational hierarchy and payment cadence

**Description:**

As a **Billing Administrator**,
I want to **configure invoice delivery preferences and billing account associations across multiple billing structures**,
So that **each policy's invoicing is properly routed and billing setup aligns with organizational hierarchy and payment cadence**


**Key Capabilities:**

**1. Billing Structure Selection**
User determines appropriate billing mode (location/division, class, combined, or payroll frequency) based on master policy configuration and product requirements.

**2. Entity Invoicing Enablement**
User activates billing for relevant organizational entities using master toggles and granular controls; validates policyholder invoicing requirements per product type.

**3. Billing Account Association**
User assigns existing billing accounts or creates new accounts for enabled entities; system enforces privilege-based access controls.

**4. Configuration Validation**
System continuously validates completeness of billing setup across all enabled entities; provides visual indicators for incomplete configurations requiring attention.


**Acceptance Criteria:**

**1. Mode-Based Configuration**
Given a master policy requires specific billing mode, When user accesses billing setup, Then system presents appropriate configuration interface matching product requirements.

**2. Account Assignment Validation**
Given invoicing is enabled for an entity, When billing account is not assigned, Then system prevents completion and displays validation indicator.

**3. Privilege-Based Access**
Given user lacks account creation privilege, When accessing billing setup, Then system restricts user to selecting existing billing accounts only.

**4. Setup Completion Verification**
Given all enabled entities have assigned billing accounts, When user completes configuration, Then system confirms setup validity and enables billing processing.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=533634314"
]

---

#### Feature: Enable or Disable Invoicing by Location or Division
- **Role**: Billing Administrator
- **Action**: enable or disable invoicing for organizational locations and divisions within group billing structures
- **Value**: I can flexibly control which entities generate invoices and ensure billing setup aligns with organizational invoicing policies

**Description:**

As a **Billing Administrator**,
I want to **enable or disable invoicing for organizational locations and divisions within group billing structures**,
So that **I can flexibly control which entities generate invoices and ensure billing setup aligns with organizational invoicing policies**


**Key Capabilities:**

**1. Master Invoicing Control Initialization**
User accesses invoicing control system with default state where all locations and divisions have invoicing enabled; system differentiates between Self-Bill products (all entities controllable) and List Bill products (group sponsor permanently enabled)

**2. Global Invoicing Deactivation**
When user disables master invoicing toggle, system deactivates invoicing for all controllable entities, collapses billing setup sections, restricts access to configuration, and removes validation requirements except for mandatory group sponsors

**3. Selective Entity Invoicing Management**
User toggles individual entity invoicing status; system maintains independent control while synchronizing master toggle state when all entities reach uniform status, preserving billing configurations during session

**4. Invoicing Reactivation and Configuration Recovery**
Upon re-enabling invoicing (master or individual), system restores expand/collapse controls, reapplies validation requirements, and recovers previously configured billing settings within current session


**Acceptance Criteria:**

**1. Product-Specific Initialization**
Given a List Bill product, when billing administrator accesses invoicing controls, then group sponsor invoicing remains permanently enabled and individual toggle is disabled

**2. Master Toggle Deactivation Cascade**
Given master invoicing is enabled, when administrator switches master toggle OFF, then all controllable entities have invoicing disabled, billing setup sections collapse, and validation icons become non-applicable

**3. Partial Entity Deactivation Handling**
Given multiple entities with invoicing enabled, when administrator disables invoicing for subset of entities, then master toggle reflects mixed state, disabled entities collapse, and enabled entities remain accessible

**4. Session-Based Configuration Recovery**
Given entity had billing configuration before invoicing was disabled, when administrator re-enables invoicing within same session, then system recovers billing account, payment modality, and reporting period selections

**5. Complete Reactivation Synchronization**
Given all entities have invoicing disabled, when administrator enables invoicing for all entities individually, then master toggle automatically synchronizes to ON state and all validation icons become applicable


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=534812491"
]

---

#### Feature: Configure Billing Address for Invoicing
- **Role**: Billing Administrator
- **Action**: configure billing addresses for customer invoicing accounts
- **Value**: invoices are delivered to the correct business locations and payment processing is accurate

**Description:**

As a **Billing Administrator**,
I want to **configure billing addresses for customer invoicing accounts**,
So that **invoices are delivered to the correct business locations and payment processing is accurate**


**Key Capabilities:**

**1. Billing Setup Intake**
User is able to initiate billing configuration during policy issuance, selecting between creating new billing setups or reusing existing configurations based on customer requirements.

**2. Address Configuration Management**
User is able to define or update billing addresses that persist at customer entity level, creating multiple address records to support diverse invoicing needs across product lines.

**3. Bill Setup Validation & Association**
Upon completing address configuration, system validates billing data completeness and associates all selected products with the configured billing setup.

**4. Invoicing Account Activation**
When policy issuance is finalized, system creates invoicing account linked to validated billing setup, enabling invoice generation and delivery workflows.


**Acceptance Criteria:**

**1. New Billing Address Creation**
Given billing setup requires new address, When user provides complete address information, Then system saves address at customer level and makes it available for future billing configurations.

**2. Existing Setup Reuse**
Given unused billing setup exists, When user selects existing configuration, Then system associates products with setup without requiring re-entry of billing details.

**3. Multi-Address Customer Support**
Given customer has multiple billing addresses, When user creates additional address, Then system maintains all addresses independently at customer master level for selective use.

**4. Incomplete Data Prevention**
Given billing setup lacks required information, When user attempts to save, Then system prevents progression and requires complete billing data before enabling policy issuance.

**5. Invoicing Account Linkage**
Given validated billing setup exists, When policy issuance completes, Then system creates invoicing account associated with configured billing setup for downstream invoice processing.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=441724370"
]

---

#### Feature: Validate Billing Setup Completeness
- **Role**: Billing Administrator
- **Action**: validate completeness of billing account configuration during purchase workflows
- **Value**: I can ensure all required billing information is captured before finalizing transactions, preventing downstream invoicing errors and revenue leakage

**Description:**

As a **Billing Administrator**,
I want to **validate completeness of billing account configuration during purchase workflows**,
So that **I can ensure all required billing information is captured before finalizing transactions, preventing downstream invoicing errors and revenue leakage**


**Key Capabilities:**

**1. Billing Configuration Activation**
Upon enabling invoicing for a purchase transaction, system initiates validation process for billing account completeness

**2. Account Selection Verification**
User is able to associate existing billing accounts or create new accounts, with system validating mandatory information capture for customer records

**3. Completeness Status Indication**
System provides visual confirmation when all required billing elements are properly configured and associated with customer

**4. Incomplete Configuration Detection**
When billing account selection or required information is missing, system alerts user before workflow progression

**5. Real-time Validation Updates**
System dynamically reassesses completeness status when user modifies or removes previously configured billing information


**Acceptance Criteria:**

**1. Valid Configuration Confirmation**
Given invoicing is enabled and billing account is selected with complete required information, When user finalizes configuration, Then system confirms completeness status

**2. Incomplete Setup Prevention**
Given invoicing is enabled and billing account information is missing, When user attempts to proceed, Then system prevents progression and indicates incomplete status

**3. Configuration Removal Detection**
Given previously complete billing setup, When user removes required information, Then system immediately reflects incomplete status

**4. Multi-Entity Validation**
Given multiple locations or divisions in purchase workflow, When each entity requires billing configuration, Then system validates completeness independently for each entity


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=459481881"
]

---

#### Feature: Expand or Collapse Location and Division Hierarchies
- **Role**: Billing Administrator
- **Action**: toggle visibility of organizational billing hierarchies to efficiently navigate and configure multi-location invoice settings
- **Value**: I can quickly access and manage billing configurations across complex organizational structures without manual navigation overhead

**Description:**

As a **Billing Administrator**,
I want to **toggle visibility of organizational billing hierarchies to efficiently navigate and configure multi-location invoice settings**,
So that **I can quickly access and manage billing configurations across complex organizational structures without manual navigation overhead**


**Key Capabilities:**

**1. Bulk Visibility Control Activation**
User is able to expand or collapse all billable organizational units simultaneously through a toggle mechanism, streamlining navigation across complex hierarchies.

**2. Intelligent State Synchronization**
When user manually adjusts individual section visibility, system automatically detects and reflects the aggregate state in the bulk control interface.

**3. Invoicing-Aware Filtering**
Upon toggling visibility, system applies operations exclusively to entities with active invoicing enablement, excluding non-billable units from bulk actions.

**4. Contextual Account Display**
When expanding entities containing multiple billing accounts, system prioritizes selected accounts while providing progressive disclosure for unselected items.


**Acceptance Criteria:**

**1. Bulk Expansion Operation**
Given billable locations exist, When user activates expand control, Then all invoicing-enabled entities reveal their configuration sections while non-billable entities remain collapsed.

**2. State Consistency Detection**
Given user manually collapses all sections, When final section closes, Then bulk control automatically updates to reflect collapsed state without user intervention.

**3. Invoicing Dependency Handling**
Given all-location invoicing is disabled, When only group sponsor remains billable, Then bulk control remains functional and reflects current group sponsor visibility state.

**4. Account Visibility Prioritization**
Given expanded section contains unselected accounts, When section opens, Then system displays selected accounts prominently with progressive disclosure mechanism for remaining items.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=459481488"
]

---

#### Feature: Configure Single Bill Setup for Master Policy
- **Role**: Billing Administrator
- **Action**: establish consolidated billing for group master policy holders
- **Value**: all employees under a group sponsor receive a unified invoice, simplifying payment reconciliation and administrative overhead

**Description:**

As a **Billing Administrator**,
I want to **establish consolidated billing for group master policy holders**,
So that **all employees under a group sponsor receive a unified invoice, simplifying payment reconciliation and administrative overhead**


**Key Capabilities:**

**1. Product Selection & Billing Option Configuration**
User initiates group product purchase and selects Single Bill setup combined with appropriate payment allocation mode (Group or Individual Accounting).

**2. Billing Account Establishment**
Upon setup confirmation, user creates or links an existing billing account and validates account configuration against master policy requirements.

**3. Billing Parameter Definition**
User configures billing execution parameters including reporting period length, execution calendar, and payment modality based on selected bill type.

**4. Policy Issuance & Finalization**
When sponsor approval is obtained (if required), system issues member records and master policy, then confirms Single Bill setup completion.


**Acceptance Criteria:**

**1. Successful Single Bill Configuration**
Given a List Bill or Self Bill group product is selected, When user completes billing account setup and defines all required parameters, Then system issues master policy with consolidated billing account.

**2. Billing Account Validation**
Given billing account details are provided, When validation executes, Then system prevents finalization if account configuration conflicts with master policy requirements.

**3. Multi-Member Aggregation**
Given multiple member records exist under master policy, When billing cycle executes, Then system aggregates all member premiums into single invoice with optional subtotals by grouping criteria.

**4. Setup Cancellation Handling**
Given user is in billing setup workflow, When user decides not to proceed at decision checkpoint, Then system returns to configuration options without creating billing account.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=573310674"
]

---

#### Feature: Configure Invoice Schedule Parameters per Billing Account
- **Role**: Billing Administrator
- **Action**: configure billing and invoice schedules for group sponsors across organizational hierarchies
- **Value**: accurate, location-specific invoicing aligns with each business unit's payment structure and operational requirements

**Description:**

As a **Billing Administrator**,
I want to **configure billing and invoice schedules for group sponsors across organizational hierarchies**,
So that **accurate, location-specific invoicing aligns with each business unit's payment structure and operational requirements**


**Key Capabilities:**

**1. Billing Structure Assessment**
System retrieves organizational hierarchy from Customer Enterprise Management and presents eligible billing configuration options (single, per location, per division, per class, per payroll frequency) based on sponsor structure and product characteristics.

**2. Organizational Unit Selection & Account Assignment**
User selects organizational segmentation model and assigns billing accounts to each billable entity (sponsor, locations, divisions). System validates account eligibility excluding seasonal gap restrictions.

**3. Payment Configuration per Entity**
User configures payment parameters for each organizational unit: modality settings for group-level allocation, payroll deduction calendars for individual allocation, or reporting periods for self-bill arrangements based on policy bill type.

**4. Cross-Entity Validation & Commitment**
System validates completeness across all enabled billing entities, ensures required parameters are established for each billable unit, and commits configuration upon user confirmation.


**Acceptance Criteria:**

**1. Organizational Options Display**
Given group sponsor has location/division structure in CEM, When user initiates billing setup, Then system presents applicable configuration options filtered by organizational hierarchy and product class availability.

**2. Seasonal Billing Constraint Enforcement**
Given selected billing account has seasonal gap enabled, When user assigns account to organizational unit, Then system auto-configures modality to match invoicing frequency and restricts payroll deduction calendar modifications.

**3. Conditional Parameter Requirements**
Given payment allocation is group-level for list bill policies, When user completes entity setup, Then system requires modality configuration and validates completion before enabling confirmation.

**4. Bulk Enablement Controls**
Given multiple locations require invoicing, When user toggles all-locations invoicing enablement, Then system preserves previous configurations upon re-enablement and maintains sponsor-level settings independently.

**5. Incomplete Setup Prevention**
Given billable entities lack assigned accounts or payment parameters, When user attempts confirmation, Then system prevents progression and identifies incomplete organizational units with validation indicators.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=451808785"
]

---

#### Feature: Associate Billing Products with Billing Accounts by Segmentation Type
- **Role**: Billing Administrator
- **Action**: associate billing products with billing accounts based on organizational segmentation criteria
- **Value**: premium collection accurately reflects organizational structures and enables flexible billing configurations aligned with master policy requirements

**Description:**

As a **Billing Administrator**,
I want to **associate billing products with billing accounts based on organizational segmentation criteria**,
So that **premium collection accurately reflects organizational structures and enables flexible billing configurations aligned with master policy requirements**


**Key Capabilities:**

**1. Master Policy Product Foundation**
Establish product relationships connecting master policy entities with billing product components, creating the foundation for segmented billing configurations.

**2. Organizational Segmentation Mapping**
Define associations between organizational structures (census classes, customer hierarchies) and billing account configurations to support segmented premium collection.

**3. Billing Account Configuration**
Configure billing accounts with modality specifications, account associations, payroll deduction parameters, and class-level detail assignments.

**4. Class-Level Billing Enablement**
When billing by class is required, system enables granular account details containing class-specific configurations for list bill processing.


**Acceptance Criteria:**

**1. Product Association Validation**
Given a master policy with organizational segmentation, When billing products are associated with accounts, Then each account reflects accurate class and modality configurations without orphaned relationships.

**2. Segmentation Integrity**
Given multiple census classes under an organization, When billing accounts are configured, Then system prevents conflicting assignments and maintains one-to-one class-to-account mappings where required.

**3. Configuration Completeness**
Given a billing account association request, When mandatory components (modality, account association, class details) are incomplete, Then system prevents activation until all required segmentation parameters are defined.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=521340279"
]

---

#### Feature: Display Billing Account Balances and Payment Status
- **Role**: Billing Administrator
- **Action**: view comprehensive billing account balances and payment status across organizational locations
- **Value**: I can monitor financial health, track payment obligations, and make informed billing decisions across all customer divisions

**Description:**

As a **Billing Administrator**,
I want to **view comprehensive billing account balances and payment status across organizational locations**,
So that **I can monitor financial health, track payment obligations, and make informed billing decisions across all customer divisions**


**Key Capabilities:**

**1. Access Billing Account Overview**
User navigates to billing account management from customer profile or billing home page. System presents hierarchical view of all customer locations and divisions with expandable sections.

**2. Review Balance Metrics by Billing Type**
System calculates and displays real-time balances differentiated by billing type (True Group, IPA, Self-Bill) with visual indicators during computation.

**3. Monitor Account Status and Payment History**
User views account details including status, frequency, invoice information, and payment history through expandable billing account cards for each location.


**Acceptance Criteria:**

**1. Multi-Location Balance Display**
Given multiple customer locations exist, When user accesses billing account page, Then system displays flattened hierarchy with first location expanded and calculated balances for each billing type.

**2. Real-Time Balance Calculation**
Given user views billing account card, When balance calculation is triggered, Then system displays spinner during computation and updates with accurate balance metrics upon completion.

**3. Comprehensive Account Information Access**
Given user reviews account status, When viewing expanded billing account card, Then system presents account ID, status, frequency, invoice details, and payment history relevant to billing type.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=466107894"
]

---

### Epic: General Domain Capabilities

#### Feature: Process Employment Change Transactions with Missing Billing Setup
- **Role**: Billing Administrator
- **Action**: process employment change transactions when destination billing setup is incomplete or invalid
- **Value**: member billing assignments remain accurate and traceable even when organizational structures or billing configurations are not yet finalized

**Description:**

As a **Billing Administrator**,
I want to **process employment change transactions when destination billing setup is incomplete or invalid**,
So that **member billing assignments remain accurate and traceable even when organizational structures or billing configurations are not yet finalized**


**Key Capabilities:**

**1. Receive and Validate Employment Updates**
System receives member employment change events containing location/division information and validates destination customer existence, hierarchy membership, and billing setup completion status.

**2. Apply Intelligent Routing Logic**
When destination validation fails (non-existent customer, invalid hierarchy, incomplete setup), system assigns member to root customer billing account while preserving original location/division data for display and audit purposes.

**3. Execute Correction Workflows**
User is able to trigger member reassignment to corrected destinations by issuing employment updates with proper effective dates or amendments to enable previously disabled locations.


**Acceptance Criteria:**

**1. Fallback Assignment on Invalid Destination**
Given destination customer does not exist or lacks hierarchy membership, When employment change is processed, Then member is assigned to root customer billing account with original location/division preserved.

**2. Incomplete Setup Handling**
Given destination customer is valid but billing setup incomplete, When transaction is processed, Then member routes to root account while retaining destination identifier for future correction.

**3. Correction Trigger**
Given member assigned to root account with invalid location, When employment update or amendment is issued with valid destination, Then member moves to correct billing account effective on specified date.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=713700485"
]

---

#### Feature: Manage Deduction Start Date Adjustments for Policy Effective Date Changes
- **Role**: Billing Administrator
- **Action**: automatically adjust deduction start dates when master policy effective dates change
- **Value**: billing schedules remain aligned with policy coverage periods without manual recalculation

**Description:**

As a **Billing Administrator**,
I want to **automatically adjust deduction start dates when master policy effective dates change**,
So that **billing schedules remain aligned with policy coverage periods without manual recalculation**.


**Key Capabilities:**

**1. Policy Effective Date Change Detection**
System monitors master policy effective date modifications and triggers adjustment workflow.

**2. Date Differential Calculation**
System calculates time difference using month-based logic when day-of-month matches, otherwise uses day-based calculation between original and new effective dates.

**3. Deduction Start Date Adjustment**
System applies calculated differential to initial deduction start date (adds for forward movements, subtracts for backward movements).
    3.1 Upon backward adjustment where new date exceeds deduction day, system defers first deduction to following billing period.

**4. Deduction Schedule Recalculation**
System regenerates all future deduction dates based on adjusted start date, payroll frequency, and configured deduction day rules.

**5. Billing Configuration Update**
System persists adjusted deduction start date and updated schedule to billing setup.


**Acceptance Criteria:**

**1. Forward Date Movement Processing**
Given master policy effective date moves forward, When differential is calculated, Then deduction start date advances by equivalent time period and schedule regenerates.

**2. Backward Date Movement Processing**
Given master policy effective date moves backward, When differential is calculated, Then deduction start date recedes by equivalent time period.

**3. Deduction Day Boundary Handling**
Given backward adjustment results in start date after configured deduction day, When schedule recalculates, Then first deduction occurs in subsequent billing period.

**4. Calculation Method Selection**
Given effective date change, When day-of-month matches between dates, Then system uses month-based calculation; otherwise uses day-based calculation.

**5. Schedule Synchronization**
Given deduction start date adjustment completes, When billing setup updates, Then all future deduction dates reflect new baseline across all payroll frequencies.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=671291397"
]

---

#### Feature: Handle Failed Member Record Transactions with Employment Data Issues
- **Role**: Billing Administrator
- **Action**: diagnose and resolve failed member record transactions caused by employment or billing configuration issues
- **Value**: member transactions process successfully and billing records remain accurate without manual intervention delays

**Description:**

As a **Billing Administrator**,
I want to **diagnose and resolve failed member record transactions caused by employment or billing configuration issues**,
So that **member transactions process successfully and billing records remain accurate without manual intervention delays**


**Key Capabilities:**

**1. Transaction Failure Detection**
System identifies member record transactions (new business, amendment, rewrite, renewal, cancel, reinstate) that fail employment or billing validation and routes messages to Dead Letter Queue for investigation.

**2. Employment Configuration Resolution**
User is able to resolve missing or multiple employment records by establishing single valid employment assignment or configuring employer billing setup.
    2.1 When member lacks employment and parent customer has no invoicing, user enables parent billing or assigns member to billing-enabled location/division
    2.2 When member has multiple employment records, user removes conflicting employment assignments retaining single valid record

**3. Billing Setup Correction**
User is able to enable invoicing for parent customers, locations, divisions, or location-class combinations based on split billing requirements.

**4. Payroll Calendar Configuration**
Upon payroll frequency billing failures, user establishes required payroll calendar for member payroll deduction processing.

**5. Transaction Reprocessing**
User is able to reprocess Dead Letter Queue messages after resolving underlying employment or billing configuration deficiencies.


**Acceptance Criteria:**

**1. Transaction Failure Routing**
Given member transaction fails employment or billing validation, When system detects configuration prerequisite gaps, Then transaction message is sent to Dead Letter Queue with failure reason.

**2. Employment Conflict Resolution**
Given member has multiple employment records, When user removes all but one employment assignment, Then reprocessed transaction completes successfully without employment conflicts.

**3. Billing Setup Validation**
Given employer lacks required billing configuration for split billing type, When user enables invoicing for applicable parent customer/location/division/class combination, Then subsequent reprocessing succeeds and member record updates.

**4. Payroll Calendar Requirement**
Given split bill per payroll frequency transaction fails, When user configures missing payroll calendar, Then reprocessed message completes payroll deduction billing setup.

**5. End-to-End Resolution**
Given Dead Letter Queue contains failed transaction, When user resolves root cause configuration issue and reprocesses message, Then member record transaction completes and billing records reflect accurate configuration.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=758582734"
]

---

#### Feature: Validate Billing Account Setup Before Member Record Transactions
- **Role**: Billing Administrator
- **Action**: validate billing account setup prerequisites before processing member record transactions
- **Value**: member records are successfully invoiced without transaction failures or dead letter queue errors

**Description:**

As a **Billing Administrator**,
I want to **validate billing account setup prerequisites before processing member record transactions**,
So that **member records are successfully invoiced without transaction failures or dead letter queue errors**


**Key Capabilities:**

**1. Transaction Verification Initiation**
Upon member record transaction submission, system validates existence of corresponding active billing account for invoicing.

**2. Billing Method-Specific Parameter Validation**
System performs targeted checks based on billing method type (Single Bill, Bill per Payroll Frequency, Bill per Class, Bill per Location/Division combinations), verifying payroll calendars, class assignments, and organizational hierarchy configurations.
    2.1 When IPA or True Group methods are detected, applies method-specific validation rules
    2.2 For version 25.100 onwards, bypasses location/division validations where mandatory group account setup exists

**3. Transaction Decisioning**
When all validation checks pass, system commits transaction for billing processing; if any check fails, system blocks transaction and prevents downstream errors.


**Acceptance Criteria:**

**1. Active Billing Account Verification**
Given a member record transaction is initiated, When no corresponding active billing account exists, Then system blocks transaction commitment.

**2. Billing Method Configuration Validation**
Given billing method requires specific parameters (payroll calendar, class, location), When required configuration is missing, Then system prevents transaction and alerts administrator.

**3. Successful Validation Path**
Given all billing method prerequisites are configured, When member record transaction is processed, Then system commits transaction without dead letter queue routing.

**4. Version-Specific Rule Application**
Given system version is 25.100 or later with mandatory group account setup, When location/division billing method is used, Then system bypasses legacy validation rules and processes transaction normally.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=836862534"
]

---

#### Feature: Roll On Premium Waiver Transactions After Member Record Changes
- **Role**: Billing Administrator
- **Action**: automatically apply premium waiver transactions when member records are amended
- **Value**: accurate billing reflects coverage changes without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **automatically apply premium waiver transactions when member records are amended**,
So that **accurate billing reflects coverage changes without manual intervention**


**Key Capabilities:**

**1. Member Record Amendment Detection**
System identifies member record amendments and evaluates effective dates against existing premium waiver transactions to determine roll-on eligibility.

**2. Claims Premium Waiver Roll-On Processing**
When waiver effective date is on or after amendment date, system automatically rolls on both add and remove transactions without separate notification, creating new modal premium versions.

**3. Waiver Period Splitting**
If waiver period spans amendment date, system splits the waiver by rolling on only the effective portion from amendment date forward, preserving historical accuracy.

**4. Policy Domain Waiver Coordination**
Upon policy-configured waiver detection, system performs transaction backoff and awaits explicit roll-on instructions from Policy domain before applying changes.

**5. Invoice Impact Management**
System excludes members from invoices during waived periods and restores billing upon removal transaction roll-on.


**Acceptance Criteria:**

**1. Pre-Amendment Transaction Preservation**
Given premium waiver effective date precedes amendment date, When amendment is processed, Then system retains original waiver timing without roll-on.

**2. Future Waiver Automatic Roll-On**
Given premium waiver effective date equals or follows amendment date, When amendment occurs, Then system rolls on waiver transactions creating new modal versions from amendment date.

**3. Spanning Period Split Processing**
Given waiver starts before but ends after amendment date, When amendment processes, Then system rolls on waiver effective only from amendment date forward.

**4. Policy Domain Coordination**
Given policy-configured premium waiver exists, When member record rewrites, Then system backs off transactions and awaits Policy domain instructions before roll-on.

**5. Invoice Generation Accuracy**
Given rolled-on premium waiver, When invoice period overlaps waiver, Then system excludes member from billing for waived periods.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=836864548"
]

---

#### Feature: Process Stop Billing Transactions for Non-Forfeiture Policy Changes
- **Role**: Billing Administrator
- **Action**: reconcile billing transactions when non-forfeiture policy events occur
- **Value**: premium calculations accurately reflect policy status changes and prevent incorrect billing

**Description:**

As a **Billing Administrator**,
I want to **reconcile billing transactions when non-forfeiture policy events occur**,
So that **premium calculations accurately reflect policy status changes and prevent incorrect billing**


**Key Capabilities:**

**1. Modal Premium Calculation**
System calculates modal premium amounts for active insurance policies based on policy terms and coverage details.

**2. Non-Forfeiture Event Detection**
Upon surrender, Reduced Paid-Up (RPU), or Extended Term Insurance (ETI) events, system triggers billing reconciliation workflow.

**3. Billing Reconciliation Execution**
System adjusts modal premiums and stops future billing transactions according to non-forfeiture terms and LifeProgram business rules.

**4. Premium History Maintenance**
System maintains complete historical records of premium changes and reconciliation events for audit purposes.


**Acceptance Criteria:**

**1. Successful Premium Calculation**
Given an active policy exists, When modal premium calculation is initiated, Then system computes and stores premium amount according to policy terms.

**2. Non-Forfeiture Event Processing**
Given a surrender/RPU/ETI event occurs, When billing reconciliation is triggered, Then system adjusts premiums and halts future billing transactions appropriately.

**3. Incomplete Data Handling**
Given required policy data is missing, When reconciliation is attempted, Then system prevents processing and notifies administrator of data deficiencies.

**4. Historical Record Creation**
Given billing reconciliation completes, When premium changes are finalized, Then system creates auditable historical records with timestamps and event details.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=730505183"
]

---

#### Feature: Process Resume Billing Transactions After Stop Billing Reversal
- **Role**: Billing Administrator
- **Action**: resume billing transactions following the reversal of a stop billing action
- **Value**: billing operations continue accurately and premium collections reflect current policy status

**Description:**

As a **Billing Administrator**,
I want to **resume billing transactions following the reversal of a stop billing action**,
So that **billing operations continue accurately and premium collections reflect current policy status**


**Key Capabilities:**

**1. Stop Billing Reversal Initiation**
User is able to trigger reversal of stop billing status for a policy account requiring resumed premium collection.

**2. Billing Transaction Restoration**
System resumes modal premium calculations and scheduled billing transactions based on current policy terms and billing frequency.

**3. Historical Record Reconciliation**
System records the reversal event and maintains complete audit trail of modal premium history and billing status changes.

**4. Transaction Processing Resumption**
System processes pending and future billing transactions according to restored billing schedule and premium amounts.


**Acceptance Criteria:**

**1. Successful Billing Resumption**
Given stop billing has been reversed, When the system processes the next billing cycle, Then modal premium transactions are generated according to the policy's billing schedule.

**2. Historical Integrity**
Given billing reversal is completed, When users access modal premium history, Then the system displays complete audit trail including stop billing period and reversal event.

**3. Transaction Accuracy**
Given billing is resumed, When premium calculations occur, Then amounts reflect current policy terms without manual adjustment requirements.

**4. Process Failure Handling**
Given reversal encounters system issues, When processing cannot complete, Then billing remains in stopped state until manual resolution occurs.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=770578275"
]

---

#### Feature: Process Self-Bill Renewal Transactions Across Billing Account Structures
- **Role**: Billing Administrator
- **Action**: process renewal and out-of-sequence renewal transactions across diverse billing account structures for self-bill master policies
- **Value**: policy renewals are accurately reflected across all billing accounts with proper premium adjustments and payment request updates without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **process renewal and out-of-sequence renewal transactions across diverse billing account structures for self-bill master policies**,
So that **policy renewals are accurately reflected across all billing accounts with proper premium adjustments and payment request updates without manual intervention**.


**Key Capabilities:**

**1. Renewal Eligibility Verification**
System validates master policy qualifies for self-bill renewal processing based on configuration and transaction type classification.

**2. Billing Structure Recognition and Application**
System determines billing setup type and applies renewal changes accordingly: centrally for Single Bill, uniformly across Location/Division accounts with identical structure, or selectively to Class accounts based on relevance.

**3. Renewal Change Processing**
System identifies start reporting period containing renewal effective date and applies all structural and non-structural changes to entire period without proration.

**4. Policy-to-Billing Data Synchronization**
System propagates premium amounts, volumes, lives counts, rates, and rate basis from policy subsystem to billing starting from affected reporting period.

**5. Payment Request Reconciliation**
System updates existing payment requests with new values for non-structural changes; applies structural changes only when invoices are not yet generated; removes discontinued segments from display while preserving backend records.

**6. Out-of-Sequence Renewal Handling**
When out-of-sequence renewal occurs alongside roll-on transactions, system sequences changes chronologically and applies each to respective reporting periods with appropriate roll-on adjustments.


**Acceptance Criteria:**

**1. Structural Change Protection**
Given existing payment requests have generated invoices, When structural renewal transaction is processed, Then system prevents modification of those invoiced payment requests and applies changes only to future periods.

**2. Non-Structural Change Application**
Given sequential renewal contains rate or premium adjustments, When transaction is processed for reporting period, Then system updates all affected payment requests within billing period with new values regardless of invoice status.

**3. Per-Class Selective Processing**
Given Per Class billing setup with different product structures, When renewal transaction is processed, Then system applies changes only to billing accounts containing relevant classes and ignores non-applicable accounts.

**4. Whole Period Application**
Given renewal effective date falls mid-reporting period, When system processes renewal, Then changes apply to entire reporting period from period start date without proration calculations.

**5. Out-of-Sequence Chronological Sequencing**
Given out-of-sequence renewal precedes existing roll-on transaction, When both are processed, Then system applies OOS changes from OOS effective date and roll-on changes from roll-on effective date with comparable transaction adjustments.

**6. Segment Removal Handling**
Given structural renewal removes product segment from existing payment request, When update occurs, Then system retains segment in backend, hides from user interface, and excludes from subsequently generated payment requests unless re-added.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=794690521"
]

---

#### Feature: Manage Employment Change Records from Customer Update Events
- **Role**: Billing Administrator
- **Action**: process employment change transactions to update member organizational assignments
- **Value**: member records remain synchronized across enterprise systems and reflect current employment status

**Description:**

As a **Billing Administrator**,
I want to **process employment change transactions to update member organizational assignments**,
So that **member records remain synchronized across enterprise systems and reflect current employment status**


**Key Capabilities:**

**1. Employment Change Intake**
System captures employment change transaction when member organizational assignment is modified

**2. Member Record Update**
System updates member record with new location and division information upon validated employment change

**3. Enterprise Event Publication**
System publishes UpdateCustomerEvent to CustomerCore to synchronize changes across integrated systems

**4. Cross-System Synchronization**
System ensures real-time propagation of organizational assignment changes to dependent enterprise applications


**Acceptance Criteria:**

**1. Successful Record Update**
Given a valid employment change transaction, When location or division modification is processed, Then member record reflects updated organizational assignment

**2. Event Publication**
Given updated member record, When changes are committed, Then UpdateCustomerEvent is published to CustomerCore with current assignment data

**3. Data Integrity**
Given incomplete employment change data, When system validates transaction, Then processing is prevented until required organizational information is provided

**4. Audit Trail**
Given completed employment change, When updates are synchronized, Then system maintains timestamp and source tracking for organizational assignment modifications


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=809863918"
]

---

#### Feature: Process Self-Bill Amendment Transactions with Payment Request Updates
- **Role**: Billing Administrator
- **Action**: process self-bill amendment transactions and synchronize payment requests across multiple billing accounts based on policy changes
- **Value**: policy amendments are accurately reflected in billing accounts and payment requests without manual intervention, ensuring billing accuracy and reducing reconciliation errors

**Description:**

As a **Billing Administrator**,
I want to **process self-bill amendment transactions and synchronize payment requests across multiple billing accounts based on policy changes**,
So that **policy amendments are accurately reflected in billing accounts and payment requests without manual intervention, ensuring billing accuracy and reducing reconciliation errors**


**Key Capabilities:**

**1. Amendment Transaction Intake**
System receives amendment or out-of-sequence amendment transactions from policy subsystem for master policies with self-bill enabled.

**2. Billing Structure Determination & Distribution**
System identifies billing setup type and applies changes to appropriate billing accounts: single account for consolidated billing, all location/division accounts with identical structure, or class-specific accounts with potentially different structures.

**3. Reporting Period Identification & Application**
System determines reporting period containing amendment effective date and applies changes to entire period without proration.

**4. Amendment Classification & Data Propagation**
System processes non-structural changes (rate, volume, lives, premium) and structural changes (plan, coverage, tier, class modifications), propagating relevant values to billing accounts.

**5. Payment Request Synchronization**
System updates existing payment requests based on amendment type: modifies values for non-structural changes; updates product structure and values for structural changes only when invoices have not been generated.

**6. Exception Handling & Event Notification**
System manages removed segments, out-of-sequence scenarios, and invoice-protected payment requests; generates amendment processed and payment request updated events.


**Acceptance Criteria:**

**1. Amendment Distribution Accuracy**
Given a self-bill master policy with specific billing setup type, When amendment transaction is received, Then system applies changes to correct billing account(s) according to setup rules (single, location/division, or class-specific).

**2. Reporting Period Application**
Given amendment with effective date falling within a reporting period, When system processes amendment, Then changes apply to entire reporting period starting from identified period without date-specific proration.

**3. Non-Structural Amendment Processing**
Given non-structural amendment (rate, volume, lives, premium changes), When system processes transaction, Then all affected payment requests within billing period(s) are updated with new values from policy subsystem.

**4. Structural Amendment with Invoice Protection**
Given structural amendment affecting product structure, When payment requests already have generated invoices, Then system does not modify those protected payment requests but updates only uninvoiced payment requests.

**5. Out-of-Sequence Amendment Handling**
Given out-of-sequence amendment with effective date preceding previously processed transactions, When system processes OOS amendment, Then changes apply from OOS effective date's reporting period forward, and subsequent roll-on transactions apply their own changes correctly.

**6. Removed Segment Management**
Given amendment removes product segment and payment requests already exist, When system processes removal, Then segment remains in backend but hidden from UI, and next generated payment request excludes removed segment unless subsequently re-added.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=719655199"
]

---

#### Feature: Generate Business Events for Policy Transaction Lifecycle
- **Role**: Billing Administrator
- **Action**: manage member billing lifecycle transitions through reinstatement and cancellation rescission events
- **Value**: billing continuity is maintained and member account status accurately reflects policy transactions without data loss

**Description:**

As a **Billing Administrator**,
I want to **manage member billing lifecycle transitions through reinstatement and cancellation rescission events**,
So that **billing continuity is maintained and member account status accurately reflects policy transactions without data loss**


**Key Capabilities:**

**1. Billing Reinstatement Initiation**
User is able to restore previously terminated member records to active billing status, re-establishing all associated billing operations and account configurations.

**2. Cancellation Rescission Processing**
When a cancellation reversal is required, user is able to nullify the pending cancellation action and restore the member record to pre-cancellation state within the allowable timeframe.

**3. Pre-Reinstatement Validation**
Upon initiating full reinstatement, system automatically processes any pending cancellation rescissions as preliminary steps to ensure clean account restoration.

**4. Billing Status Synchronization**
System generates appropriate business events to synchronize member billing status across dependent systems, maintaining transactional integrity throughout the lifecycle transition.


**Acceptance Criteria:**

**1. Successful Member Record Reinstatement**
Given a terminated member record exists, when billing administrator initiates reinstatement, then system restores active billing status and resumes all billing operations without data loss.

**2. Cancellation Rescission Before Effective Date**
Given a member cancellation is pending, when rescission is processed within allowed timeframe, then system nullifies cancellation and maintains continuous billing without interruption.

**3. Automated Pre-Reinstatement Rescission**
Given a member record has pending cancellation, when full reinstatement is initiated, then system automatically rescind cancellation before completing reinstatement workflow.

**4. Business Event Generation**
Given any lifecycle transition occurs, when the operation completes successfully, then system generates corresponding business events for downstream system synchronization and audit trails.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=622333899"
]

---

#### Feature: Validate Transaction Effective Dates Against Product Effective Dates
- **Role**: Billing Administrator
- **Action**: validate transaction effective dates against established product effective date ranges
- **Value**: billing transactions align with active product configurations and prevent processing errors from temporal mismatches

**Description:**

As a **Billing Administrator**,
I want to **validate transaction effective dates against established product effective date ranges**,
So that **billing transactions align with active product configurations and prevent processing errors from temporal mismatches**


**Key Capabilities:**

**1. Transaction Date Intake**
User is able to initiate billing transaction with specified effective date for processing against established billing product configuration

**2. Product Effective Range Retrieval**
System retrieves applicable billing product effective date boundaries based on policy type (Master List Bill, Member, Self-Bill Master)

**3. Temporal Validation Execution**
System validates transaction effective date falls within product's active effective date range
    3.1 When dates align, transaction proceeds to billing processing
    3.2 When dates conflict, system prevents transaction advancement

**4. Validation Outcome Communication**
System provides validation result indicating temporal alignment status for operational decision-making


**Acceptance Criteria:**

**1. Valid Date Range Acceptance**
Given a billing product with defined effective dates, When transaction effective date falls within product range, Then system accepts transaction for processing

**2. Pre-Effective Date Rejection**
Given transaction date precedes product effective start date, When validation executes, Then system prevents transaction submission with temporal mismatch notification

**3. Post-Expiration Date Rejection**
Given transaction date exceeds product effective end date, When validation executes, Then system blocks processing and flags expired product configuration

**4. Multi-Configuration Validation**
Given different policy types (Master List Bill, Member, Self-Bill), When validation runs, Then system applies configuration-specific effective date rules consistently


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=573316658"
]

---

### Epic: Customer & Member Record Management

#### Feature: Manage Customer Hierarchy and Billing Account Relationships
- **Role**: Billing Administrator
- **Action**: configure organizational billing hierarchies and account relationships
- **Value**: the system accurately reflects business structures and enables proper billing allocation across organizational units

**Description:**

As a **Billing Administrator**,
I want to **configure organizational billing hierarchies and account relationships**,
So that **the system accurately reflects business structures and enables proper billing allocation across organizational units**


**Key Capabilities:**

**1. Hierarchy Structure Selection**
User is able to establish billing hierarchy model based on organizational requirements (location-based, division-based, or consolidated single billing)

**2. Master Policy Configuration**
User is able to define group sponsor relationships and associate master policies with organizational entities

**3. Cost Center Allocation**
When organizational subdivision is required, user is able to create and assign cost centers representing physical locations or business divisions

**4. Member Association**
User is able to link covered members to appropriate master policies and cost center subdivisions

**5. Personal Policy Support**
User is able to manage individual policies without cost center requirements alongside organizational hierarchies


**Acceptance Criteria:**

**1. Location-Based Hierarchy Validation**
Given organization requires location-based billing, when hierarchy is configured with location cost centers, then system allocates billing by physical office locations under master policy

**2. Division-Based Hierarchy Validation**
Given organization requires division-based billing, when hierarchy is configured with division cost centers, then system organizes billing by business units while maintaining master policy connection

**3. Consolidated Billing Validation**
Given organization requires single billing or personal policy, when no cost centers are defined, then system consolidates billing at policy level

**4. Member Coverage Validation**
Given members are assigned to master policy, when cost centers exist, then system properly associates members with appropriate organizational subdivisions


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=485041356"
]

---

#### Feature: Create and Maintain Billing Customer Records
- **Role**: Billing Administrator
- **Action**: establish and register new billing customer entities within the system
- **Value**: customers can be properly identified, associated with appropriate payment mechanisms, and prepared for billing operations

**Description:**

As a **Billing Administrator**,
I want to **establish and register new billing customer entities within the system**,
So that **customers can be properly identified, associated with appropriate payment mechanisms, and prepared for billing operations**


**Key Capabilities:**

**Customer Record Initialization**
User is able to initiate customer entity creation through authenticated request, establishing baseline record with default payment options (cash and check)

**Payment Method Configuration**
User is able to customize payment mechanisms associated with the customer account based on business requirements

**Data Validation and Persistence**
Upon submission, system validates customer reference uniqueness and data integrity before persisting the billing customer entity

**Error Handling**
When validation failures occur (duplicate references or malformed data), system prevents record creation and returns actionable error details to support correction


**Acceptance Criteria:**

**Successful Customer Creation**
Given valid customer information, when the billing administrator submits the registration request, then the system persists the customer entity and returns the complete customer record with assigned reference and payment methods

**Duplicate Prevention**
Given an existing customer reference, when attempting to create another customer with the same reference, then the system rejects the request and notifies the administrator of the conflict

**Default Payment Assignment**
Given a new customer initialization, when no payment methods are explicitly specified, then the system automatically assigns cash and check as default options

**Validation Enforcement**
Given incomplete or malformed customer data, when the administrator attempts submission, then the system prevents persistence and returns specific validation error categories for resolution


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=254971520"
]

---

#### Feature: Retrieve Billing Customer Information
- **Role**: Billing Administrator
- **Action**: retrieve comprehensive billing customer entity details on demand
- **Value**: I can access accurate customer payment information to support billing operations and service inquiries

**Description:**

As a **Billing Administrator**,
I want to **retrieve comprehensive billing customer entity details on demand**,
So that **I can access accurate customer payment information to support billing operations and service inquiries**


**Key Capabilities:**

**1. Customer Entity Identification**
User is able to initiate retrieval request by providing customer reference through system interface or external integration endpoint.

**2. Request Authentication & Validation**
Upon submission, system authenticates performer credentials when initiated internally and validates request structure against business rules.
    2.1 If validation fails, system returns categorized error response indicating facade, command facade, or command validation issues.

**3. Data Retrieval & Response Delivery**
When validation succeeds, system retrieves customer reference and associated payment method configurations, then delivers structured response to requester.


**Acceptance Criteria:**

**1. Successful Customer Data Retrieval**
Given valid customer reference and authenticated request, When retrieval is initiated, Then system returns customer reference with complete payment methods configuration.

**2. Authentication Enforcement**
Given internal performer request without valid credentials, When retrieval is attempted, Then system denies access and requires authentication.

**3. Validation Error Handling**
Given invalid request structure or missing parameters, When validation executes, Then system returns categorized error message preventing data retrieval.

**4. External System Integration**
Given external system with valid API credentials, When retrieval request is submitted via REST endpoint, Then system processes request without performer login requirements.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=254972798"
]

---

#### Feature: View and Filter Member Records by Billing Account
- **Role**: Billing Administrator
- **Action**: view and filter member records associated with a billing account to assess financial positions and take corrective actions
- **Value**: I can efficiently monitor member-level balances, identify outstanding amounts, and initiate appropriate financial adjustments or refunds

**Description:**

As a **Billing Administrator**,
I want to **view and filter member records associated with a billing account to assess financial positions and take corrective actions**,
So that **I can efficiently monitor member-level balances, identify outstanding amounts, and initiate appropriate financial adjustments or refunds**


**Key Capabilities:**

**1. Account Portfolio Navigation and Overview Access**
User navigates to member records via billing account context. System presents aggregated account-level balances including due amounts, unapplied funds, overpayments, adjustments, and net balance with real-time calculation indicators.

**2. Member Record Discovery and Filtering**
User searches member records by identity attributes or applies global filters to isolate non-zero balances. System returns matching records with coverage, tier, and employee identification details as of current date.

**3. Balance Visibility and Calculation Status Monitoring**
System displays member-level financial metrics distinguishing dynamic calculations, static values, and job-based computations with timestamps. Confidential data is masked based on user privileges.

**4. Financial Action Initiation**
When unapplied balances exist, user initiates refunds. User reviews amendment transactions pending billing or triggers manual recalculation of not-yet-billed values for updated financial positions.


**Acceptance Criteria:**

**1. Account Context Establishment**
Given user has billing account access, When navigating via breadcrumb hierarchy, Then system displays account overview with all balance categories and member records table.

**2. Search and Filter Accuracy**
Given user performs identity-based search or applies non-zero balance filter, When criteria submitted, Then system returns only matching member records or displays empty state if none qualify.

**3. Balance Calculation Transparency**
Given member records contain various balance types, When page loads or recalculation triggered, Then system shows spinners during processing and timestamps for job-based values upon completion.

**4. Privilege-Based Data Protection**
Given user lacks confidential data access, When viewing member records, Then system masks sensitive identity information throughout the display.

**5. Conditional Action Availability**
Given member record with positive unapplied amount, When user has refund privileges, Then system enables refund initiation and processes request asynchronously with notification.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=624207559"
]

---

#### Feature: Display Member Record Balance Information
- **Role**: Billing Administrator
- **Action**: configure and filter member balance information to display only relevant non-zero financial positions
- **Value**: I can quickly identify accounts requiring attention and focus on actionable financial discrepancies rather than sorting through complete balance records

**Description:**

As a **Billing Administrator**,
I want to **configure and filter member balance information to display only relevant non-zero financial positions**,
So that **I can quickly identify accounts requiring attention and focus on actionable financial discrepancies rather than sorting through complete balance records**


**Key Capabilities:**

**1. Balance Filter Configuration**
User is able to select individual or multiple balance categories (amendments pending, overpayments, unapplied funds, outstanding amounts) for targeted review, with default view showing comprehensive balance information across all member records.

**2. Multi-Column Filtering Execution**
When filters are applied, system processes member records and displays only accounts where at least one selected balance category contains non-zero values, automatically excluding records with zero balances in all selected categories.

**3. Master Control Toggle**
User is able to activate consolidated filtering across all balance categories simultaneously through master control, with system maintaining synchronization between individual selections and master control state throughout filter adjustments.


**Acceptance Criteria:**

**1. Comprehensive Default Display**
Given no filtering criteria are applied, When user accesses member balance information, Then system displays all member records with complete balance data including zero-value entries across all financial categories.

**2. Single Category Filtering**
Given user selects one balance category filter, When system processes the request, Then only member records containing non-zero values in that specific category are displayed while records with zero balances are excluded.

**3. Multi-Category Filtering**
Given user selects multiple balance category filters, When system applies filtering logic, Then member records are displayed where at least one selected category contains non-zero balance values.

**4. Master Control Activation**
Given user activates master control filter, When system responds, Then all individual balance category filters are automatically enabled and display logic applies comprehensive non-zero filtering across all financial categories simultaneously.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=631138178"
]

---

#### Feature: Execute Member Record Actions from Billing Account View
- **Role**: Billing Administrator
- **Action**: access and execute contextual actions for member billing records
- **Value**: I can efficiently manage member-specific billing operations including refunds, amendments, and premium reviews from a centralized view

**Description:**

As a **Billing Administrator**,
I want to **access and execute contextual actions for member billing records**,
So that **I can efficiently manage member-specific billing operations including refunds, amendments, and premium reviews from a centralized view**


**Key Capabilities:**

**Member Record Selection & Action Discovery**
User navigates to member records interface, selects target member from billing account, and accesses available actions menu.

**Contextual Action Presentation**
System evaluates member record context and policy type, then displays eligible actions per authorization rules.

**Refund Initiation Pathway**
Upon selecting refund action, user is routed to refund processing workflow for the selected member.

**Amendment Review Pathway**
When amendment action selected, system presents unbilled amendments associated with member record.

**Premium Analysis Pathway**
If premium review selected, user accesses modal premium calculation details for the member.


**Acceptance Criteria:**

**Authorized Action Menu Display**
Given user has valid credentials and member record exists, when action menu accessed, then system displays only actions permitted by business rules and policy type.

**Refund Process Transition**
Given refund action available, when user selects initiate refund, then system transitions to refund workflow with member context pre-populated.

**Amendment Visibility**
Given unbilled amendments exist, when user selects view amendments, then system presents all pending amendments for the member.

**Premium Detail Access**
Given modal premium applicable, when user selects view premium, then system displays premium calculation components.

**Incomplete Data Handling**
Given billing account lacks required member data, when user attempts action, then system prevents execution until data completeness validated.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=645904563"
]

---

#### Feature: Move Member Records Between Billing Accounts (Portability/Continuation)
- **Role**: Billing Administrator
- **Action**: transfer member insurance records from group employer billing to individual direct billing accounts
- **Value**: employees can retain or continue their insurance coverage independently when leaving employment or taking authorized breaks

**Description:**

As a **Billing Administrator**,
I want to **transfer member insurance records from group employer billing to individual direct billing accounts**,
So that **employees can retain or continue their insurance coverage independently when leaving employment or taking authorized breaks**


**Key Capabilities:**

**1. Account Eligibility Assessment**
User validates or establishes individual direct billing account for member record transfer, creating new account through individual customer portal when none exists

**2. Member Record Transfer Execution**
User initiates portability or continuation transaction from policy subsystem, moving member record with transaction data (effective date, type, annual premium, coverage details)

**3. Premium Recalculation and Proration**
System automatically recalculates and prorates modal premiums across both originating group billing and destination individual direct accounts based on modalities and transaction effective dates

**4. Out-of-Sequence Transaction Management**
System handles amendments or transactions with effective dates preceding portability/continuation dates, performing automatic roll-on operations or archiving affected transactions per business rules

**5. Invoicing Schedule Redefinition**
System establishes new invoicing start date for individual direct billing account and updates amendments-not-yet-billed balances for list bill accounts


**Acceptance Criteria:**

**1. Successful Portability Transfer**
Given employee termination event, When user initiates portability with valid member record and coverage details, Then system transfers record to individual direct account with recalculated premiums

**2. Successful Continuation Transfer**
Given employment break scenario, When user initiates continuation transaction, Then system adds continuation flag and transfers record without modifying policy data

**3. Premium Proration Accuracy**
Given member record movement between account types, When effective date and modalities differ, Then system prorates premiums correctly on both accounts per transaction date

**4. Out-of-Sequence Amendment Handling**
Given amendment effective date precedes portability date, When roll-on is performed, Then system archives affected transactions and transfers updated premium amounts

**5. New Account Creation**
Given no existing individual billing account, When user creates account through customer portal, Then system establishes account with defined invoicing start date


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=547981681"
]

---

#### Feature: Return Member Records to Group Billing After Continuation
- **Role**: Billing Administrator
- **Action**: return member records from individual direct billing to group billing account after employee reinstatement
- **Value**: reinstated employees maintain insurance continuity and billing accounts reflect accurate premium allocations

**Description:**

As a **Billing Administrator**,
I want to **return member records from individual direct billing to group billing account after employee reinstatement**,
So that **reinstated employees maintain insurance continuity and billing accounts reflect accurate premium allocations**


**Key Capabilities:**

**Member Record Transfer Initiation**
Upon receiving member record number and transaction effective date from policy subsystem, user reviews previous group billing account details and confirms member record movement back to employer's list bill account.

**Premium Recalculation and Proration**
System automatically recalculates and prorates modal premiums across both individual direct and group billing accounts based on transaction effective date, ensuring accurate financial adjustments.

**Billing Balance Reconciliation**
System updates amendments not yet billed balance values for both billing accounts to reflect pending charges and credits from the member record transition.

**Invoicing Schedule Reset**
System automatically establishes new invoicing start date for group billing account where member record is transferred, aligning with employer's billing cycle.


**Acceptance Criteria:**

**1. Successful Member Record Transfer**
Given a reinstated employee with existing individual direct billing, when billing administrator confirms transfer to group billing, then member record moves to previous list bill account and both accounts reflect updated membership.

**2. Accurate Premium Proration**
Given a member record transition with specific effective date, when system recalculates premiums, then both individual and group billing accounts show prorated modal premium amounts reflecting partial period coverage.

**3. Balanced Financial Reconciliation**
Given completed member record transfer, when system updates amendments not yet billed values, then both billing accounts display accurate pending charges with no duplicate or missing amounts.

**4. Blocked Invalid Transfers**
Given business rule violations or incomplete data, when system validates transfer eligibility, then system prevents member record transition and displays appropriate error message.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=560975177",
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=545593449",
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=545593419"
]

---

#### Feature: Process Employment Changes and Update Member Record Location/Division
- **Role**: Billing Administrator
- **Action**: process employment changes for member records across billing accounts
- **Value**: member records remain aligned with current employment hierarchies and billing is calculated accurately across organizational structures

**Description:**

As a **Billing Administrator**,
I want to **process employment changes for member records across billing accounts**,
So that **member records remain aligned with current employment hierarchies and billing is calculated accurately across organizational structures**


**Key Capabilities:**

**1. Employment Event Intake and Validation**
System receives employment update events and validates unprocessed location, division, and effective date combinations against existing member records

**2. Hierarchy and Configuration Verification**
System validates employment exists within customer hierarchy and checks billing setup configuration for split bill requirements

**3. Transaction Sequencing and Effective Dating**
System validates effective dates against member record dates and identifies conflicts with future-dated transactions requiring rollback

**4. Member Record Relocation**
When split billing is configured and destination customer exists, system moves member records between billing accounts based on new employment assignment

**5. Premium Recalculation and Invoice Impact Assessment**
System recalculates modal premiums for affected accounts and determines whether changes impact invoiced or uninvoiced periods

**6. Transaction Recording and Audit Trail**
System generates employment change transactions and updates premium history records for user visibility and compliance tracking


**Acceptance Criteria:**

**1. Valid Employment Change Processing**
Given employment change event with valid hierarchy and configuration, When effective date is within acceptable range and no future transactions exist, Then system generates employment change transaction and recalculates modal premium

**2. Split Bill Account Movement**
Given split billing configuration with destination customer setup, When employment change requires relocation, Then member record moves to appropriate billing account with updated premium calculation

**3. Effective Date Precedence Handling**
Given employment change effective date earlier than member record date, When processing transaction, Then system reflects change with modal premium effective date equal to new business date

**4. Future Transaction Conflict Resolution**
Given existing transaction with future effective date, When employment change is processed, Then system recalculates premiums, preserves classification segments, and maintains future transaction timing

**5. Invalid Hierarchy Handling**
Given employment not in customer hierarchy or destination customer not configured, When split billing is active, Then system executes appropriate processing rule without disrupting member record

**6. Invoiced Period Amendment**
Given employment change in invoiced period, When processing completes, Then system validates and updates amendments not yet billed value accordingly


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=657897515"
]

---

#### Feature: Update Member Record Name from Customer Data Changes
- **Role**: Billing Administrator
- **Action**: synchronize member record names automatically when customer data is updated
- **Value**: member information remains accurate and consistent across all billing operations without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **synchronize member record names automatically when customer data is updated**,
So that **member information remains accurate and consistent across all billing operations without manual intervention**.


**Key Capabilities:**

**Customer Data Change Detection**
System monitors customer entity management events for individual customer name or employment identifier modifications initiated through customer updates or policy transactions.

**Automated Member Record Update**
Upon receiving customer update notification, system instantly propagates name changes to all associated member records without requiring user intervention.

**Real-Time Display Synchronization**
System reflects updated member names immediately across all billing interfaces including premium views, invoices, payment applications, refunds, and write-off operations.

**Historical Document Preservation**
When member name changes occur, system maintains original names in previously generated export files while applying new names to all subsequently created documents.


**Acceptance Criteria:**

**Successful Name Propagation**
Given customer name is updated in customer management system, When billing receives the change event, Then all associated member records reflect new name instantly.

**Cross-Interface Consistency**
Given member record name is updated, When user accesses any billing interface displaying member information, Then new name appears uniformly across premium views, invoices, payments, and refunds.

**Historical Document Integrity**
Given name change occurs after document generation, When user accesses previously exported files, Then original name remains unchanged in historical documents.

**Future Document Accuracy**
Given member name was updated, When system generates new billing documents, Then new member name appears in all subsequently created invoices and reports.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=828511209"
]

---

#### Feature: Configure and Manage Individual Benefits Billing Setup
- **Role**: Billing Administrator
- **Action**: establish and manage billing arrangements for individual benefits policies throughout the purchase-to-payment lifecycle
- **Value**: policies are properly monetized with automated invoice generation and payment allocation ensuring revenue collection and policy activation

**Description:**

As a **Billing Administrator**,
I want to **establish and manage billing arrangements for individual benefits policies throughout the purchase-to-payment lifecycle**,
So that **policies are properly monetized with automated invoice generation and payment allocation ensuring revenue collection and policy activation**.


**Key Capabilities:**

**1. Policy Origination and Underwriting**
User gathers policy data and obtains underwriting decision, resulting in policy status of Proposed, Issued, or Issue Failed

**2. Billing Account Association**
User establishes billing account relationship by creating new Individual Direct account or linking to existing account during purchase flow

**3. Billing Product Issuance**
Upon successful policy issuance, system creates billing product with payment frequency matching policy attributes and generates first invoice

**4. Payment Recovery and Allocation**
System locates payment in general suspense when made at purchase, or processes received payment, then allocates funds to invoice
    4.1 If payment deadline passes without allocation, system flags policy for flat-cancellation

**5. Policy Activation Resolution**
When payment successfully allocated, policy remains active; when payment fails, policy undergoes flat-cancellation process


**Acceptance Criteria:**

**1. Successful Billing Setup Integration**
Given policy reaches issued status, When billing product attributes match policy payment frequency, Then system creates billing product and generates first invoice automatically

**2. Payment Allocation from Purchase**
Given payment was submitted during purchase, When invoice is generated, Then system locates funds in general suspense and allocates to invoice

**3. Account Linking Flexibility**
Given user accesses billing setup during purchase, When existing eligible account is available, Then user can select existing account instead of creating new account

**4. Mandatory Payment Enforcement**
Given first invoice remains unpaid past deadline, When system checks payment status, Then policy is flagged for flat-cancellation preventing coverage without payment

**5. Issuance Failure Protection**
Given policy status changes to Issue Failed, When billing product creation is triggered, Then system prevents billing product generation and invoice creation


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=766215789"
]

---

#### Feature: Process Automated Cancellation for Non-Payment on Individual Direct Accounts
- **Role**: Billing Administrator
- **Action**: automatically cancel individual direct accounts when first invoice remains unpaid beyond grace period
- **Value**: the organization eliminates manual intervention for non-responsive members while ensuring timely closure of inactive coverage

**Description:**

As a **Billing Administrator**,
I want to **automatically cancel individual direct accounts when first invoice remains unpaid beyond grace period**,
So that **the organization eliminates manual intervention for non-responsive members while ensuring timely closure of inactive coverage**.


**Key Capabilities:**

**1. Member Record Transition**
When employee separates from employer or takes employment break, member record transitions to individual direct billing account with continuation flag.

**2. Initial Invoice Issuance**
System generates and issues first invoice to member under individual direct billing arrangement.

**3. Payment Monitoring Period**
Upon invoice due date passage, configurable grace period begins for payment acceptance.

**4. Eligibility Identification**
Automated job identifies records eligible for cancellation when first post-transition invoice remains unpaid after grace period.

**5. Automated Cancellation Execution**
System executes cancellation transaction and generates confirmation message for downstream systems.


**Acceptance Criteria:**

**1. Successful Automatic Cancellation**
Given member record transitioned to individual direct account, When first invoice remains unpaid beyond grace period, Then system automatically cancels member record and generates cancellation confirmation message.

**2. Payment Within Allowable Period**
Given first invoice issued to transitioned member, When payment received within due date or grace period, Then member record maintains active status and cancellation process does not trigger.

**3. Grace Period Configuration**
Given organizational payment policies, When grace period configuration is defined, Then system applies configured duration before initiating cancellation eligibility assessment.

**4. Cancellation Scope Restriction**
Given various account types exist, When cancellation job executes, Then only member records flagged with continuation status are evaluated for automatic cancellation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=583830123"
]

---

#### Feature: Display Billing Overview Panel in Customer Portfolio
- **Role**: Billing Administrator
- **Action**: view consolidated billing account summary within customer portfolio context
- **Value**: I can quickly assess customer billing status and navigate to detailed account information without leaving the portfolio view

**Description:**

As a **Billing Administrator**,
I want to **view consolidated billing account summary within customer portfolio context**,
So that **I can quickly assess customer billing status and navigate to detailed account information without leaving the portfolio view**


**Key Capabilities:**

**Billing Overview Display**
System presents billing account summary panel when v20 Billing is enabled, showing total account count and up to three most recent accounts with key identifiers and financial data.

**Prioritized Account Presentation**
System displays accounts in descending chronological order, highlighting newest relationships and current balances to support immediate assessment.

**Seamless Navigation**
User is able to access full billing account details or comprehensive billing home page through embedded navigation links within the summary panel.

**Configuration-Driven Visibility**
Upon system configuration check, billing panel appears only when v20 Billing capability is activated in environment settings.


**Acceptance Criteria:**

**Billing System Enabled**
Given v20 Billing is configured as enabled, When user views customer portfolio, Then system displays billing panel with account count header and up to three most recent billing accounts.

**Extended Account List**
Given customer has more than three billing accounts, When billing panel renders, Then system shows three newest accounts and provides navigation link to view complete account listing.

**Empty State Handling**
Given customer has zero billing accounts, When billing panel loads, Then system displays panel with zero count header and no-accounts message without navigation links.

**Billing System Disabled**
Given v20 Billing is not enabled in environment configuration, When user views customer portfolio, Then system completely hides billing panel and related navigation elements.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=534822136"
]

---

#### Feature: Manage Billing Party Creation for Organizations and Individuals
- **Role**: Billing Administrator
- **Action**: establish billing parties and assign billable products
- **Value**: financial transactions can be accurately tracked and processed for organizational and individual customers

**Description:**

As a **Billing Administrator**,
I want to **establish billing parties and assign billable products**,
So that **financial transactions can be accurately tracked and processed for organizational and individual customers**


**Key Capabilities:**

**1. Billing Entity Establishment**
User is able to create billing customers as organizations or individuals with identity and billing address information, with organizations supporting hierarchical location structures

**2. Location Hierarchy Management**
When organization type is selected, user is able to establish subsidiary locations as related billing entities to support decentralized billing arrangements

**3. Product Portfolio Assignment**
User is able to assemble product baskets with billing characteristics including policy types, premium amounts, billing method selection, and coverage periods
    3.1 Upon mixing incompatible billing methods, system prevents proceeding to issuance
    3.2 System calculates annual premium amounts automatically

**4. Billing Configuration Finalization**
User is able to proceed to either product issuance or detailed billing arrangement setup based on basket completeness


**Acceptance Criteria:**

**1. Organization Entity Creation**
Given valid organization identity and address data, When administrator saves billing customer, Then system establishes billing party record and enables location and product management capabilities

**2. Individual Entity Constraint**
Given person type selection, When administrator saves billing customer, Then system restricts location and product assignment actions

**3. Product Basket Validation**
Given products with conflicting billing methods in basket, When administrator attempts issuance, Then system prevents progression until billing method consistency is achieved

**4. Date Consistency Enforcement**
Given product with expiration preceding effective date, When administrator attempts basket addition, Then system rejects entry and requires correction

**5. Location Hierarchy Establishment**
Given saved organization customer, When administrator adds locations, Then system creates related billing entities with parent-child relationship

**6. Workflow Progression**
Given completed product basket with consistent billing type, When administrator proceeds, Then system enables transition to issuance or billing setup processes


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=435403913"
]

---

#### Feature: Filter and Hide Inactive Member Records
- **Role**: Billing Administrator
- **Action**: control the visibility of inactive member records through automated filtering rules
- **Value**: the system displays only relevant active members, reducing clutter and improving billing accuracy during premium review

**Description:**

As a **Billing Administrator**,
I want to **control the visibility of inactive member records through automated filtering rules**,
So that **the system displays only relevant active members, reducing clutter and improving billing accuracy during premium review**


**Key Capabilities:**

**1. Toggle-Based Visibility Control**
User is able to activate or deactivate automated filtering of inactive member records, with filtering enabled by default to display only current active members

**2. Cancellation and Out-of-Service Filtering**
When a member cancellation becomes effective on or before the current date, the system automatically removes that member from the active view for both list bill and individual direct billing accounts

**3. Movement Transaction Processing**
Upon detecting portability or continuation transactions with effective dates on or before current date, the system hides affected member records from their original billing account view

**4. Future Business Date Management**
If new business transactions have future effective dates, the system suppresses their display until the effective date arrives

**5. Reinstatement Exception Handling**
When reinstatement transactions exist with future effective dates differing from cancellation dates, the system maintains visibility until reinstatement becomes effective


**Acceptance Criteria:**

**1. Default Filtering Activation**
Given the toggle control is in default state, When the billing administrator accesses the premium view, Then the system automatically hides all member records meeting inactivity conditions without manual intervention

**2. Past-Effective Cancellation Filtering**
Given a member has cancellation effective date on or before current system date, When the toggle is enabled, Then the system excludes that member from the active records display

**3. Future-Effective Transaction Visibility**
Given a member has cancellation or movement with future effective date, When the current date is before effective date, Then the system continues displaying the member record in the active view

**4. Complete Historical Access**
Given the toggle is turned off by the user, When viewing premium records, Then the system displays all member records regardless of transaction status or effective dates

**5. Stop Billing Exception Rule**
Given a member has active stop billing amendment, When filtering is enabled, Then the system maintains that member's visibility regardless of other inactivity conditions


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=671293321"
]

---

#### Feature: Generate Business Activity Messages for Member Record Movements
- **Role**: Billing Administrator
- **Action**: transfer member records from group to individual direct billing arrangements
- **Value**: billing responsibility transitions are executed with full transactional integrity and proper system synchronization

**Description:**

As a **Billing Administrator**,
I want to **transfer member records from group to individual direct billing arrangements**,
So that **billing responsibility transitions are executed with full transactional integrity and proper system synchronization**


**Key Capabilities:**

**1. Billing Arrangement Transition Initiation**
User is able to initiate transfer of member record from existing group billing arrangement to individual direct billing structure.

**2. Billing Relationship Update**
Upon initiation, system updates billing relationships and reassigns billing responsibility from group level to individual member level.

**3. Transaction Mapping Synchronization**
System synchronizes transaction mappings between Policy and Billing systems according to domain model rules, ensuring data consistency.

**4. Business Activity Message Generation**
When transfer completes, system generates business activity messages documenting the member record movement for downstream system consumption and audit trail.


**Acceptance Criteria:**

**1. Successful Individual Billing Transition**
Given member record exists under group billing, When transfer to individual direct billing is completed, Then member is associated with individual billing arrangement and transaction mappings are updated.

**2. Transaction Integrity Preservation**
Given active billing transactions exist, When member record movement occurs, Then all Policy-to-Billing transaction mappings remain consistent per domain model rules.

**3. Business Activity Message Creation**
Given member transfer completes successfully, When system processes the movement, Then business activity messages are generated capturing the billing arrangement change.

**4. Incomplete Transfer Prevention**
Given mandatory data elements are missing, When transfer is attempted, Then system prevents movement until all required information is provided.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=533638932"
]

---

#### Feature: Generate Business Activity Messages for Member Record Returns to Group Billing
- **Role**: Billing Administrator
- **Action**: generate business activity messages for member record returns to group billing
- **Value**: group billing administrators are notified of member record changes and can maintain accurate billing records

**Description:**

As a **Billing Administrator**,
I want to **generate business activity messages for member record returns to group billing**,
So that **group billing administrators are notified of member record changes and can maintain accurate billing records**


**Key Capabilities:**

**1. Member Record Return Detection**
System identifies when member records are returned from processing and require group billing notification

**2. Business Activity Message Creation**
System generates standardized business activity messages containing member record return details for billing reconciliation

**3. Message Routing to Group Billing**
System routes generated messages to appropriate group billing administrators for review and action

**4. Message Tracking and Audit**
System maintains audit trail of all generated messages for compliance and troubleshooting purposes


**Acceptance Criteria:**

**1. Message Generation Trigger**
Given a member record is returned, When the return process completes, Then a business activity message is automatically generated

**2. Message Content Completeness**
Given message generation is triggered, When system creates the message, Then all required member return details are included

**3. Successful Message Delivery**
Given a message is generated, When routing occurs, Then the message reaches the designated group billing administrator

**4. Audit Trail Creation**
Given any message activity, When generation or delivery occurs, Then system records complete audit information


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=545593419"
]

---

#### Feature: Generate Business Activity Messages for Employment Change Failures
- **Role**: Billing Administrator
- **Action**: generate business activity messages when employment change processing fails
- **Value**: stakeholders are promptly notified of exceptions requiring manual intervention to maintain data integrity and compliance

**Description:**

As a **Billing Administrator**,
I want to **generate business activity messages when employment change processing fails**,
So that **stakeholders are promptly notified of exceptions requiring manual intervention to maintain data integrity and compliance**


**Key Capabilities:**

**1. Employment Change Processing Initiation**
System receives employment change transactions from upstream sources for member records

**2. Transaction Validation & Failure Detection**
System validates employment data against business rules; upon validation failure, system captures failure context and error classification

**3. Business Activity Message Generation**
System automatically generates structured business activity messages containing failure details, affected member identifiers, and recommended remediation actions

**4. Notification Distribution**
System routes generated messages to designated stakeholders based on failure type and organizational workflows


**Acceptance Criteria:**

**1. Failure Detection Accuracy**
Given an employment change transaction violates business rules, When validation completes, Then system identifies failure and prevents erroneous data commits

**2. Message Generation Completeness**
Given employment processing failure occurs, When failure is detected, Then system generates business activity message containing failure classification, member context, and timestamp

**3. Stakeholder Notification**
Given business activity message is generated, When message creation completes, Then system delivers notification to appropriate parties without manual intervention

**4. Audit Trail Preservation**
Given any employment change failure, When message is generated, Then system maintains complete audit log for compliance tracking


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=833656555"
]

---

### Epic: Product & Service Configuration

#### Feature: Configure Product Billing Setup Options
- **Role**: Billing Administrator
- **Action**: configure billing setup options for third-party products under Flexi Bill accounts
- **Value**: customers are automatically enrolled in a standardized single billing account structure that ensures consistent billing operations and prevents account fragmentation

**Description:**

As a **Billing Administrator**,
I want to **configure billing setup options for third-party products under Flexi Bill accounts**,
So that **customers are automatically enrolled in a standardized single billing account structure that ensures consistent billing operations and prevents account fragmentation**


**Key Capabilities:**

**1. Billing Account Structure Enforcement**
System enforces Single Bill configuration as the default and only supported option for Flexi Bill billing accounts, restricting customers to one billing account per customer.

**2. Automatic Account Provisioning**
Upon receiving third-party product requests, system automatically creates the Flexi Bill billing account and consolidates all products under this single account.

**3. Configuration Scope Management**
System applies billing setup rules exclusively to Flexi Bill accounts, excluding Empty, List bill, Self bill, and Direct bill account types from configuration enforcement.

**4. Alternative Option Restriction**
System disables and prevents activation of unsupported billing structures including Bill per Product, Class, Location, Division, and Payroll Frequency options.


**Acceptance Criteria:**

**1. Single Bill Enforcement**
Given a customer with third-party products, When the billing account setup is initiated, Then the system creates exactly one Flexi Bill billing account and prevents creation of additional Flexi Bill accounts.

**2. Automatic Provisioning Success**
Given a third-party product request, When the request is received, Then the system automatically generates the Flexi Bill billing account without manual intervention.

**3. Scope Limitation Validation**
Given billing accounts of types Empty, List bill, Self bill, or Direct bill, When configuration rules are applied, Then these account types remain unaffected by Flexi Bill setup options.

**4. Unsupported Option Prevention**
Given attempts to enable alternative billing structures, When administrator accesses configuration, Then system prevents activation of all non-Single Bill options.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=800753240"
]

---

#### Feature: Manage Service Product Lifecycle and Expiration
- **Role**: Billing Administrator
- **Action**: manage service product expiration and billing validity periods
- **Value**: I can ensure accurate billing cycles and prevent revenue leakage by maintaining product lifecycle boundaries

**Description:**

As a **Billing Administrator**,
I want to **manage service product expiration and billing validity periods**,
So that **I can ensure accurate billing cycles and prevent revenue leakage by maintaining product lifecycle boundaries**


**Key Capabilities:**

**1. Product Expiration Configuration**
System captures and stores mandatory expiration dates for each service product as core lifecycle data

**2. Billing Validity Tracking**
System references expiration dates to calculate billing periods and determine active billing eligibility

**3. Lifecycle Status Monitoring**
System maintains real-time awareness of product expiration boundaries to support billing cycle operations

**4. Billing Cycle Alignment**
System ensures billed-to-date calculations respect product expiration constraints to prevent overbilling


**Acceptance Criteria:**

**1. Expiration Date Enforcement**
Given a service product is configured, When the expiration date is not provided, Then the system prevents product activation

**2. Billing Period Validation**
Given a product has an expiration date, When billing calculations execute, Then the system ensures billed-to-date does not exceed expiration boundaries

**3. Lifecycle Reference Integrity**
Given expiration dates are stored, When billing processes reference these dates, Then the system maintains accurate billing validity periods without manual intervention


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=211620178"
]

---

#### Feature: Define Billable Service Periods for Products
- **Role**: Billing Administrator
- **Action**: configure temporal boundaries for service product billing cycles
- **Value**: revenue is accurately captured within defined service timeframes and billing operations align with product terms

**Description:**

As a **Billing Administrator**,
I want to **configure temporal boundaries for service product billing cycles**,
So that **revenue is accurately captured within defined service timeframes and billing operations align with product terms**


**Key Capabilities:**

**1. Service Period Initialization**
User is able to establish billable service periods by associating temporal boundaries with existing service product terms.

**2. Temporal Boundary Definition**
User is able to specify effective and expiration dates that govern when service products generate billable transactions.

**3. Multi-Period Association**
User is able to define multiple service periods for a single service product term to accommodate evolving billing requirements.

**4. Period Collection Management**
System maintains the relationship between service periods and product terms, ensuring temporal data integrity across billing cycles.


**Acceptance Criteria:**

**1. Valid Period Creation**
Given a service product term exists, When the administrator defines effective and expiration dates, Then the system creates a billable service period with complete temporal boundaries.

**2. Multiple Period Support**
Given an existing service product, When multiple periods are configured with non-overlapping dates, Then all periods are associated and tracked independently.

**3. Incomplete Data Prevention**
Given period configuration is initiated, When required temporal boundaries are missing, Then the system prevents period creation and requires complete date specifications.

**4. Term Association Validation**
Given period definition is attempted, When no valid service product term exists, Then the system blocks period creation until term association is established.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=220202100"
]

---

#### Feature: Create and Manage Billing Accounts for Customers
- **Role**: Billing Administrator
- **Action**: create billing accounts and configure product offerings for customers
- **Value**: I can establish complete billing relationships with proper account structure, location hierarchy, and product assignments to enable accurate invoicing and payment processing

**Description:**

As a **Billing Administrator**,
I want to **create billing accounts and configure product offerings for customers**,
So that **I can establish complete billing relationships with proper account structure, location hierarchy, and product assignments to enable accurate invoicing and payment processing**


**Key Capabilities:**

**1. Customer Account Establishment**
User is able to create billing customers by selecting entity type and providing identity information with validated billing address, supporting both organizational and individual customer structures.

**2. Location Hierarchy Management**
When organizational structure requires multiple locations, user is able to establish location entities with independent billing addresses and relate them to parent customer accounts.

**3. Product Portfolio Configuration**
User is able to add insurance products to billing accounts by specifying product classification, billing methodology, payment allocation strategy, coverage amounts, and coverage periods in a shopping basket.

**4. Bill Type Validation and Issuance**
Upon completing product configuration, system validates bill type consistency across all products and enables progression to policy issuance workflow when business rules are satisfied.


**Acceptance Criteria:**

**1. Customer Creation Success**
Given valid identity and address information is provided, When user submits customer account creation, Then system persists billing party entity and displays confirmation with account reference number.

**2. Location Relationship Establishment**
Given organizational customer exists, When user completes location setup with valid address, Then system creates location entity and establishes parent-child relationship with billing customer.

**3. Product Configuration Validation**
Given products with consistent billing methodology are added, When user attempts to proceed to issuance, Then system enables workflow progression to policy purchase interface.

**4. Bill Type Mismatch Prevention**
Given shopping basket contains products with different billing methodologies, When user attempts to proceed to issuance, Then system prevents progression and requires billing alignment correction.

**5. Data Integrity Enforcement**
Given incomplete or invalid information is submitted, When system performs validation, Then submission is blocked with clear indication of data quality issues requiring resolution.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=435403913"
]

---

#### Feature: Associate Products with Billing Accounts by Class
- **Role**: Billing Administrator
- **Action**: configure product associations with billing accounts based on classification rules
- **Value**: I can ensure accurate billing setup and streamlined account management across product portfolios

**Description:**

As a **Billing Administrator**,
I want to **configure product associations with billing accounts based on classification rules**,
So that **I can ensure accurate billing setup and streamlined account management across product portfolios**


**Key Capabilities:**

**1. Product Classification Management**
User is able to define and manage product classification categories that determine billing account associations.

**2. Account Association Configuration**
User is able to establish linkages between product classes and billing accounts according to business rules.

**3. Association Rule Application**
When products are enrolled, the system automatically assigns them to appropriate billing accounts based on configured classification criteria.

**4. Configuration Validation**
Upon setup completion, the system validates product-account associations to ensure compliance with business policies.


**Acceptance Criteria:**

**1. Successful Product Association**
Given valid product classification criteria are defined, When a product is assigned to a billing account class, Then the system establishes the association and confirms configuration.

**2. Rule-Based Assignment**
Given classification rules exist, When new products are introduced, Then the system automatically routes them to designated billing accounts.

**3. Configuration Integrity**
Given incomplete or conflicting classification data, When association is attempted, Then the system prevents configuration and notifies the administrator of required corrections.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=536095940"
]

---

#### Feature: Process Premium Sequences for Modal Premium Calculation
- **Role**: Billing Administrator
- **Action**: process premium sequences and apply splits to modal premium amounts
- **Value**: accurate premium distribution is calculated across multiple sequences and downstream billing operations reflect current policy changes

**Description:**

As a **Billing Administrator**,
I want to **process premium sequences and apply splits to modal premium amounts**,
So that **accurate premium distribution is calculated across multiple sequences and downstream billing operations reflect current policy changes**


**Key Capabilities:**

**1. Policy Transaction Receipt**
Upon receiving policy event with premium sequence calculation data, system validates transaction eligibility including policy type and configuration enablement.

**2. Premium Sequence Registration**
System processes premium sequences and holder information, mapping them to affected billing product items while preserving historical entities.

**3. Effective Date Alignment Validation**
System determines whether transaction effective date aligns with first day of modal period.
    3.1 If aligned, system applies splits to full modal amounts.
    3.2 If misaligned, system applies splits to prorated amounts.

**4. Billed Invoice Verification**
System checks for existing billed invoices in affected periods and calculates Amendments Not Yet Billed at premium sequence level when found.


**Acceptance Criteria:**

**1. Premium Sequence Registration**
Given multiple premium sequences configuration is enabled, When policy transaction is published, Then system registers sequences and holders mapped to billing product items.

**2. Modal Period Alignment**
Given transaction effective date, When date aligns with first day of modal period, Then system applies splits to full modal amounts; When date misaligns, Then system applies splits to prorated amounts.

**3. Historical Data Preservation**
Given existing premium sequences, When new sequences are processed, Then system preserves previous sequence entities while reflecting current information.

**4. Non-Rateable Transaction Handling**
Given non-rateable policy transaction, When processing premium sequences, Then system reuses split information from previous product revision.

**5. Downstream Process Enablement**
Given completed premium sequence processing, When downstream operations execute, Then projection, draft bill generation, and invoice generation utilize updated split data.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=696500203"
]

---

#### Feature: Validate Member Quote Purchase Prerequisites
- **Role**: Billing Administrator
- **Action**: validate member eligibility and prerequisites before quote purchase
- **Value**: ensure only qualified members proceed to purchase, reducing processing errors and compliance risks

**Description:**

As a **Billing Administrator**,
I want to **validate member eligibility and prerequisites before quote purchase**,
So that **ensure only qualified members proceed to purchase, reducing processing errors and compliance risks**


**Key Capabilities:**

**Eligibility Assessment Initiation**
User is able to trigger prerequisite validation checks when member attempts quote purchase.

**Member Status Verification**
System evaluates membership standing, account status, and outstanding obligations.

**Product Eligibility Confirmation**
System validates member qualification against product-specific requirements and restrictions.

**Decision Routing**
Upon successful validation, system permits purchase progression. When prerequisites fail, system blocks transaction and provides business rationale.

**Navigation to Resolution**
System enables navigation to remediation workflows or alternative product offerings when validation fails.


**Acceptance Criteria:**

**Valid Member Progression**
Given an eligible member with active status, When all prerequisites are satisfied, Then system authorizes quote purchase workflow.

**Ineligible Member Blocking**
Given a member failing prerequisites, When validation executes, Then system prevents purchase and documents disqualification reason.

**Outstanding Obligations Detection**
Given unresolved account obligations exist, When validation runs, Then system blocks purchase until obligations resolved.

**Product Restriction Enforcement**
Given product-specific restrictions apply, When member lacks qualifications, Then system denies access and suggests alternatives.

**Bidirectional Navigation Support**
Given validation results displayed, When user requires context or remediation, Then system provides navigation to relevant workflows.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=516399708"
]

---

#### Feature: Configure Billing Setup per Location and Division
- **Role**: Billing Administrator
- **Action**: configure billing account assignments across organizational hierarchies
- **Value**: ensure accurate invoicing and payment collection aligned with group structure and product requirements

**Description:**

As a **Billing Administrator**,
I want to **configure billing account assignments across organizational hierarchies**,
So that **ensure accurate invoicing and payment collection aligned with group structure and product requirements**


**Key Capabilities:**

**1. Billing Strategy Selection**
User selects billing configuration approach based on product type (Self-Bill or List-Bill) and organizational dimension (Location, Division, Class, or combinations).

**2. Hierarchical Entity Review**
System displays organizational hierarchy with invoicing eligibility controls, automatically enabling invoicing for all entities while enforcing mandatory invoicing for group sponsors under List-Bill products.

**3. Batch Navigation Control**
User expands or collapses all invoicing-enabled entities simultaneously to manage workspace visibility across complex hierarchies.

**4. Account Assignment**
User assigns existing billing accounts or initiates new account creation for each invoicing-enabled entity where suitable accounts are unavailable.


**Acceptance Criteria:**

**1. Billing Option Availability**
Given a master quote with product type defined, When user accesses billing setup, Then system presents applicable billing configuration options restricted to valid product-hierarchy combinations.

**2. Hierarchy Invoicing Rules**
Given List-Bill products are selected, When system displays hierarchy, Then group sponsor invoicing remains mandatory and non-editable while subordinate entities allow invoicing toggle.

**3. Bulk Expansion Behavior**
Given multiple entities with invoicing enabled, When user activates expand-all control, Then system reveals all enabled entity sections and updates control label to collapse mode.

**4. Account Association Validation**
Given invoicing-enabled entities without assigned accounts, When user attempts progression, Then system prevents advancement until all entities have valid account assignments or creation forms completed.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=456503103"
]

---

#### Feature: Set Default Modality Based on Payroll Frequency
- **Role**: Billing Administrator
- **Action**: automatically assign default billing modality when transferring member records to Individual Direct
- **Value**: the system ensures billing continuity and prevents configuration errors during member transitions

**Description:**

As a **Billing Administrator**,
I want to **automatically assign default billing modality when transferring member records to Individual Direct**,
So that **the system ensures billing continuity and prevents configuration errors during member transitions**


**Key Capabilities:**

**Member Context Retrieval**
System retrieves payroll frequency from member record and identifies association with List Bill accounts

**List Bill Configuration Assessment**
When member is associated with List Bill account, system retrieves invoicing frequency and payment allocation mode

**Modality Determination Logic**
System evaluates applicability of payroll frequency versus invoicing frequency based on billing account configuration and payment mode

**Default Value Assignment**
System calculates and assigns default modality matching current member modality, ensuring configuration consistency during transfer


**Acceptance Criteria:**

**1. Consistent Modality Preservation**
Given a member record transfer via Port Policy or Add Continuation, when default modality is assigned, then it equals the member's current modality before transfer

**2. List Bill Account Handling**
Given member associated with List Bill account, when determining modality, then system considers both invoicing frequency and payment allocation mode

**3. Non-List Bill Account Handling**
Given member not associated with List Bill account, when determining modality, then system bases assignment solely on payroll frequency

**4. Group Payment Mode Processing**
Given List Bill with Group Payment Mode, when invoicing frequency is applicable, then modality derives from invoicing frequency rather than payroll frequency


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=543261210"
]

---

#### Feature: Create Billing Product Structures for Member Policies
- **Role**: Billing Administrator
- **Action**: configure and validate billing product hierarchies linking member policies to organizational structures
- **Value**: billing accounts maintain accurate policy-product-customer relationships across business units and group sponsors with enforced data integrity

**Description:**

As a **Billing Administrator**,
I want to **configure and validate billing product hierarchies linking member policies to organizational structures**,
So that **billing accounts maintain accurate policy-product-customer relationships across business units and group sponsors with enforced data integrity**


**Key Capabilities:**

**1. Billing Product Hierarchy Establishment**
User is able to establish hierarchical billing structures linking billing accounts at Business Unit and Group Sponsor levels to Master Policies and Member Policies with associated product catalogs.

**2. Business Unit Level Product Association**
When associating billing accounts with members at Business Unit level, system validates mandatory three-attribute exact match: Business Unit, Census Class, and Master Product alignment.

**3. Group Sponsor Level Product Association**
When associating billing accounts with members at Group Sponsor level, system enforces member relationship validation requiring matching Census Class and Master Product attributes.

**4. Premium Structure Configuration**
User is able to configure premium attributes capturing Plan, Coverage, Class, Tier, and Amount across the established policy-product hierarchy.

**5. Multi-Level Product Tracking**
System maintains separate product tracking at both Member Policy and Master Policy levels supporting organizational billing requirements.


**Acceptance Criteria:**

**1. Business Unit Association Validation**
Given a billing account exists at Business Unit level, When administrator attempts member association, Then system prevents completion unless Business Unit, Census Class, and Master Product attributes exactly match across all three dimensions.

**2. Group Sponsor Association Validation**
Given a billing account exists at Group Sponsor level, When administrator attempts member association, Then system validates member relationship to Group Sponsor with matching Census Class and Master Product or rejects the association.

**3. Hierarchical Integrity Enforcement**
Given billing product structures span multiple organizational levels, When any policy-product-customer association is created, Then system enforces hierarchical data integrity preventing orphaned relationships.

**4. Dual-Level Product Tracking**
Given products exist in the catalog, When billing structures are established, Then system maintains distinct product associations at both Member Policy and Master Policy levels supporting independent tracking requirements.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=549098128"
]

---

#### Feature: Manage Product Items on Billing Accounts
- **Role**: Billing Administrator
- **Action**: register product items on customer billing accounts through automated integration
- **Value**: customers are accurately billed for subscribed products and services with proper financial controls

**Description:**

As a **Billing Administrator**,
I want to **register product items on customer billing accounts through automated integration**,
So that **customers are accurately billed for subscribed products and services with proper financial controls**


**Key Capabilities:**

**1. Product Data Ingestion**
System receives product registration requests from external systems containing product identification, pricing, currency, and account assignment details

**2. Account Eligibility Validation**
System verifies billing account exists, supports flexible billing model, matches product currency, and has compatible payment terms
    2.1 Upon account having empty bill type, system automatically converts to flexible billing with derived invoicing parameters
    2.2 When validation fails, system returns specific error to requesting system

**3. Product Item Registration**
System creates product item, assigns to validated account, generates integration events, and displays contract linkage when applicable


**Acceptance Criteria:**

**1. Successful Product Registration**
Given valid product data with existing flexible billing account, When currency and payment terms align, Then system registers product item and generates confirmation events

**2. Automatic Account Conversion**
Given product assignment to empty billing account, When all validations pass, Then system converts account to flexible billing model with derived configuration

**3. Account Compatibility Validation**
Given product registration request, When account type is incompatible or currency mismatches, Then system rejects registration with specific reason

**4. Payment Term Constraints**
Given billing account with advance payment configuration, When product registration is attempted, Then system prevents registration due to incompatible payment terms


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=805082538"
]

---

#### Feature: Control Access to Billing Setup Functions
- **Role**: Billing Administrator
- **Action**: manage authorized access to product and service configuration capabilities within billing setup
- **Value**: only qualified personnel can modify critical billing arrangements and maintain system integrity

**Description:**

As a **Billing Administrator**,
I want to **manage authorized access to product and service configuration capabilities within billing setup**,
So that **only qualified personnel can modify critical billing arrangements and maintain system integrity**


**Key Capabilities:**

**Access Authorization Management**
User is able to define role-based permissions for billing setup modification functions including product addition and removal capabilities.

**Product Configuration Control**
Upon receiving modification request, system validates user authorization before allowing changes to billing product assignments.

**Audit Trail Maintenance**
When access-controlled actions are performed, system records user identity, timestamp, and scope of changes for compliance tracking.


**Acceptance Criteria:**

**Authorized Access Validation**
Given a user with appropriate permissions, When attempting to remove products from billing setup, Then system permits the operation and records the transaction.

**Unauthorized Access Prevention**
Given a user without required privileges, When attempting billing configuration changes, Then system denies access and logs the attempt.

**Cross-Reference Integrity**
Given product removal action, When configuration dependencies exist, Then system maintains referential integrity across related billing specifications and tracking systems.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=563874871"
]

---

#### Feature: Retrieve Billing Product Item Details by Identifier
- **Role**: Billing Administrator
- **Action**: retrieve billing product item details using unique identifiers
- **Value**: system users and integrated applications can access current or historical product configuration data for billing operations and decision-making

**Description:**

As a **Billing Administrator**,
I want to **retrieve billing product item details using unique identifiers**,
So that **system users and integrated applications can access current or historical product configuration data for billing operations and decision-making**


**Key Capabilities:**

**1. Initiate Product Item Retrieval**
User or external system submits retrieval request with product identifier through REST endpoints, authenticated via basic authorization for internal users.

**2. Specify Retrieval Scope**
User provides product rootId for latest revision retrieval.
    2.1 Upon requesting specific version, user provides both rootId and revisionNo for historical data access.

**3. Execute System Validation**
System validates request format and identifier structure before processing.

**4. Verify Product Existence**
System confirms requested product item exists in billing repository.

**5. Return Product Configuration**
System delivers complete product item details including all attributes and metadata for requested version.


**Acceptance Criteria:**

**1. Successful Latest Version Retrieval**
Given a valid product rootId exists, When user requests product item without specifying revision, Then system returns latest revision with complete configuration details.

**2. Successful Specific Version Retrieval**
Given a valid rootId and revisionNo combination exists, When user requests specific product version, Then system returns exact historical revision requested.

**3. Invalid Request Handling**
Given request contains malformed identifiers or missing parameters, When system validates input, Then retrieval is prevented with descriptive error response.

**4. Non-Existent Product Handling**
Given provided rootId or rootId/revisionNo combination does not exist, When system searches repository, Then error message indicating entity not found is returned.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=437881864"
]

---

#### Feature: Route Member Products to Appropriate Billing Accounts
- **Role**: Billing Administrator
- **Action**: route member insurance products to appropriate billing accounts with premium allocation
- **Value**: ensure accurate premium collection and support complex billing arrangements including split billing scenarios

**Description:**

As a **Billing Administrator**,
I want to **route member insurance products to appropriate billing accounts with premium allocation**,
So that **I can ensure accurate premium collection and support complex billing arrangements including split billing scenarios**


**Key Capabilities:**

**1. Billing Product Establishment**
User is able to create billing products linked to member policies with defined premium structures and payment rules

**2. Account Assignment Logic**
System routes products to designated billing accounts based on sponsor relationships, location hierarchies, and billing arrangement configurations

**3. Split Billing Configuration**
When group sponsor arrangements exist, system allocates premium components across multiple billing accounts per defined split rules

**4. Premium Management Integration**
System associates premium entities with products ensuring accurate billing calculations and payment tracking throughout policy lifecycle


**Acceptance Criteria:**

**1. Product Routing Validation**
Given a member policy with assigned products, When billing setup is initiated, Then system correctly identifies target billing account(s) based on configuration rules

**2. Split Billing Allocation**
Given a split billing arrangement, When premium is calculated, Then system accurately distributes amounts across sponsor and member accounts per defined percentages

**3. Configuration Integrity**
Given incomplete billing product setup, When attempting to route products, Then system prevents processing and identifies missing configuration requirements

**4. Premium Association Verification**
Given established product-account routing, When premiums are generated, Then system correctly links premium entities to corresponding billing accounts for collection


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=528748010"
]

---

#### Feature: Manage Coverage Classes, Tiers, and Subgroups
- **Role**: Billing Administrator
- **Action**: configure and manage coverage classifications for premium calculation and invoice generation
- **Value**: premiums are accurately calculated and billed according to organizational segments, coverage levels, and individual rating criteria

**Description:**

As a **Billing Administrator**,
I want to **configure and manage coverage classifications for premium calculation and invoice generation**,
So that **premiums are accurately calculated and billed according to organizational segments, coverage levels, and individual rating criteria**


**Key Capabilities:**

**1. Classification Dimension Establishment**
User is able to configure three classification dimensions: Class (organizational billing segments), Tier (coverage levels for insured groups), and Subgroup (rating classifications based on demographic or geographic criteria).

**2. Master Policy Integration**
Upon policy issuance or amendment, classification information is retrieved from the master policy and assigned to appropriate member records.

**3. Multi-Account Billing Execution**
When Bill per Class option is enabled for eligible products, the system generates separate invoices per classification group under a single master policy.

**4. Premium Calculation Processing**
Classification dimensions are applied throughout premium calculations, billing period details, balance computations, and invoice generation to ensure accurate rate application.


**Acceptance Criteria:**

**1. Classification Configuration Validation**
Given applicable product types, When classification dimensions are configured, Then system validates applicability rules and stores configurations for billing operations.

**2. Separate Invoice Generation**
Given Bill per Class is enabled for List Bill products with True Group or Individual Premium Accounting modes, When billing cycle executes, Then system generates distinct invoices per classification group with correct member distributions.

**3. Dynamic Rate Application**
Given Coverage Subgroups are assigned based on demographic criteria, When policy amendments occur, Then system reassigns subgroups and recalculates premiums using updated classifications.

**4. Integrated Calculation Accuracy**
Given Tiers and Subgroups are applicable, When premium calculations execute, Then classifications correctly influence billing period details, balance calculations, and invoice presentation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=811443517"
]

---

#### Feature: Calculate and Store Premium with Classification Segments
- **Role**: Billing Administrator
- **Action**: configure premium calculation structures using classification segments and billing parameters
- **Value**: accurate premium amounts are computed and stored for both self-billed and list-billed policies across diverse member segments

**Description:**

As a **Billing Administrator**,
I want to **configure premium calculation structures using classification segments and billing parameters**,
So that **accurate premium amounts are computed and stored for both self-billed and list-billed policies across diverse member segments**


**Key Capabilities:**

**1. Product Identification and Coverage Assignment**
User is able to define product structure through plan name and coverage details (coverage number, product name, policy number) establishing the foundation for premium calculation hierarchy.

**2. Classification Dimension Application**
User is able to apply segmentation criteria including class, tier, count, and sub-group to categorize members and create unique premium calculation combinations.

**3. Self-Bill Calculation Parameter Configuration**
When configuring self-bill policies, user is able to specify reporting period per coverage and define rate basis, lives, volume, and rate for each unique combination of plan, coverage, and classification dimensions.

**4. Premium Amount Determination**
User is able to establish annual and monthly premium amounts at appropriate levels (coverage or tier) with type, code, currency, and periodicity, ensuring amounts align at consistent hierarchy levels.

**5. Modal Premium Calculation**
Upon billing product creation, system is able to automatically calculate product modal amount based on modality (list-bill) or reporting period length (self-bill) for premium-bearing levels.


**Acceptance Criteria:**

**1. Self-Bill Premium Uniqueness**
Given a master policy with self-bill mode, when classification dimensions are applied, then system enforces uniqueness identifiers combining product number, plan name, coverage, class, tier, and sub-group where applicable.

**2. Billing Mode Conditional Requirements**
Given policy billing mode selection, when self-bill is chosen, then reporting period becomes required per coverage; when list-bill is chosen, then premium amount is required at member record level and reporting period becomes not applicable.

**3. Premium Amount Level Consistency**
Given premium configuration at coverage level, when annual and monthly amounts are entered, then system validates both amounts exist at the same hierarchical level (coverage or tier), with tier-level support restricted to pet products only.

**4. Classification Default Handling**
Given count field is not provided during member segmentation, when premium calculation is processed, then system applies default value of zero and displays as unavailable indicator in representations.

**5. Modal Amount Automation**
Given billing product creation is initiated, when all required premium parameters are present, then system automatically calculates product modal amount using modality for list-bill or reporting period length for self-bill without manual intervention.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=521344525"
]

---

#### Feature: Update and Edit Existing Billing Setups
- **Role**: Billing Administrator
- **Action**: modify existing billing arrangements to reflect organizational or policy changes
- **Value**: billing operations remain accurate and aligned with current customer structure and payment requirements

**Description:**

As a **Billing Administrator**,
I want to **modify existing billing arrangements to reflect organizational or policy changes**,
So that **billing operations remain accurate and aligned with current customer structure and payment requirements**


**Key Capabilities:**

**1. Billing Setup Selection**
User initiates update from billing home or during policy amendment flow. System presents eligible master policies based on authorization and existing setup status.

**2. Configuration Pathway Determination**
Upon selection, system identifies setup type (location-based, division-based, class-based, payroll frequency, or single bill) and presents appropriate configuration interface.

**3. Organizational Structure Alignment**
User maps new or unmapped locations, divisions, or classes to billing accounts. System validates completeness and prevents gaps in coverage.

**4. Payment Mode Configuration**
When payment allocation mode is individual, user establishes payroll deduction calendars. System auto-configures seasonal billing constraints and restricts incompatible options.

**5. Amendment Integration**
For self-bill amendments, user defines reporting periods for newly added product segments. System validates period alignment with invoicing frequency.

**6. Update Finalization**
User confirms changes. System commits modifications to billing setup and master policy, maintaining audit trail and configuration integrity.


**Acceptance Criteria:**

**1. Configuration Access Control**
Given user lacks billing setup privileges, When attempting to update existing setup, Then system denies access and maintains current configuration.

**2. Structural Completeness Validation**
Given billing accounts exist for some but not all organizational units, When user submits update, Then system prevents completion until all active units have assigned billing accounts.

**3. Seasonal Billing Constraint Enforcement**
Given seasonal gap is enabled and payment allocation is group mode, When user configures modality, Then system automatically sets matching invoicing frequency and disables alternative selections.

**4. Amendment Period Alignment**
Given self-bill amendment adds product segments, When user specifies reporting period exceeding invoicing frequency, Then system prevents submission and highlights validation failures.

**5. Payroll Calendar Requirement**
Given individual premium accounting mode, When billing account lacks payroll deduction calendar, Then system blocks completion until calendar is configured.

**6. Update Persistence**
Given valid configuration changes, When user confirms update, Then system commits modifications and reflects changes immediately in billing operations.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=657898863"
]

---

#### Feature: Perform Interim Save of Incomplete Billing Setup
- **Role**: Billing Administrator
- **Action**: save incomplete billing configurations to preserve work in progress and resume setup later
- **Value**: I can manage complex billing setups incrementally without losing work when complete information is unavailable, enabling flexible workflow management and reduced rework

**Description:**

As a **Billing Administrator**,
I want to **save incomplete billing configurations to preserve work in progress and resume setup later**,
So that **I can manage complex billing setups incrementally without losing work when complete information is unavailable, enabling flexible workflow management and reduced rework**


**Key Capabilities:**

**Initiate Billing Configuration**
User accesses billing setup interface, selects products requiring billing configuration, and begins parameter definition for payment allocation, reporting periods, and payment modalities.

**Preserve Incomplete Work**
User is able to save partially configured billing setup without completing mandatory purchase validation, storing collected product billing data, account associations, and configuration parameters in an 'In Progress' state.

**Resume Suspended Configuration**
Upon returning to saved billing setup, system retrieves previously captured billing data and configuration parameters, enabling user to continue from the point of interruption.

**Finalize or Modify Setup**
User completes remaining configuration steps, validates comprehensive billing parameters, and system stores finalized billing setup data including invoicing, modality, and reporting period information.


**Acceptance Criteria:**

**Partial Configuration Preservation**
Given user has entered incomplete billing configuration data, When user initiates interim save action, Then system persists collected parameters with 'In Progress' status without requiring comprehensive validation.

**Work Resumption Integrity**
Given billing setup exists in 'In Progress' state, When user reopens the configuration, Then system retrieves and presents all previously saved parameters for continued editing.

**Incomplete Setup Handling**
Given billing setup remains incomplete, When user attempts final submission without required data, Then system prevents finalization and indicates missing information requirements.

**Configuration Removal Capability**
Given billing setup exists in any state, When user removes the configuration, Then system disassociates billing parameters from products and enables alternative setup approaches.

**Validation Enforcement**
Given user completes all billing parameters, When comprehensive validation executes, Then system confirms data integrity before storing finalized configuration or displays specific correction requirements.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=547980322"
]

---

#### Feature: Configure Billing per Class with Modality and Payroll Calendars
- **Role**: Billing Administrator
- **Action**: configure class-based billing arrangements with dedicated payment schedules for group policy classifications
- **Value**: I can allocate billing responsibilities across organizational segments and streamline payment processing for diverse workforce classifications

**Description:**

As a **Billing Administrator**,
I want to **configure class-based billing arrangements with dedicated payment schedules for group policy classifications**,
So that **I can allocate billing responsibilities across organizational segments and streamline payment processing for diverse workforce classifications**


**Key Capabilities:**

**1. Initiate Class-Based Billing Configuration**
User activates billing-per-class setup for list-billed group products with multiple personnel classifications.

**2. Associate Classifications with Billing Accounts**
User maps selected personnel classes to designated billing accounts and assigns corresponding payment calendars or payroll deduction schedules.

**3. Validate and Finalize Billing Structure**
System validates configuration completeness and business rule compliance before confirming setup.

**4. Issue Policy and Generate Segmented Invoices**
Upon policy issuance, system generates classification-specific invoices linked to respective billing accounts under the master policy.


**Acceptance Criteria:**

**1. Classification-Account Association**
Given multiple personnel classes exist, When user maps classes to billing accounts with payment calendars, Then system persists associations for invoice generation.

**2. Invoice Segregation**
Given billing-per-class is configured, When policy issues and billing cycle triggers, Then system generates separate invoices per classification-account combination.

**3. Configuration Validation**
Given incomplete class-account mappings, When user attempts finalization, Then system prevents confirmation and identifies missing associations.

**4. Master Policy Integrity**
Given segmented billing setup, When policy issues, Then all classification groups remain unified under single master policy contract.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=563900020"
]

---

#### Feature: Process Multiple Premium Sequences End-to-End
- **Role**: Billing Administrator
- **Action**: orchestrate premium allocation across multiple sequences throughout the policy lifecycle
- **Value**: accurate financial tracking and proportional distribution of payments across distinct coverage components

**Description:**

As a **Billing Administrator**,
I want to **orchestrate premium allocation across multiple sequences throughout the policy lifecycle**,
So that **accurate financial tracking and proportional distribution of payments across distinct coverage components** is maintained.


**Key Capabilities:**

**1. Policy Initiation & Sequence Creation**
Upon new business issuance, system establishes product items, calculates modal premiums, splits premium across sequences, and creates sequence holders with effective dates.

**2. Invoice Generation & Payment Processing**
System generates invoice items at sequence level, allocates payments proportionally across active sequences, and fires distribution events capturing allocation details.

**3. Policy Transaction Processing**
When amendments occur, system recalculates modal premiums, expires/creates sequence holders based on amount changes, flags removed sequences, and applies proration for mid-period effective dates.

**4. Backdated Transaction Reconciliation**
If effective date falls within billed periods, system calculates adjustments, unallocates affected payments, regenerates invoices reflecting unbilled changes, and fires reallocation events.

**5. Out-of-Sequence Amendment Management**
When transactions occur between existing amendments, system backs off subsequent transactions, expires affected holder revisions, assigns new sequence identifiers to removed sequences during roll-on, and maintains removed flags in historical records.

**6. Cancellation & Reinstatement Handling**
System sets sequence amounts to zero upon cancellation while preserving historical records, includes removed sequences in cancellation events with appropriate flags, and renews sequence holders with reinstatement transactions.


**Acceptance Criteria:**

**1. New Business Processing**
Given a policy with multiple coverages is issued, When billing processes the transaction, Then sequence holders are created for each coverage with calculated modal premium splits and invoice items reference all active sequences.

**2. Amendment with Amount Changes**
Given an amendment modifies premium amounts, When effective date is outside billed periods, Then existing sequence holders are expired, new revisions created with updated amounts, and modal premium split recalculated without unallocation.

**3. Backdated Amendment Reconciliation**
Given an amendment's effective date falls within a billed modal period, When the transaction is processed, Then system calculates adjustments for billed periods, unallocates affected payments, and subsequent invoices include unbilled changes with distribution events fired.

**4. Out-of-Sequence Transaction Management**
Given an OOS amendment occurs between existing transactions, When back-off and roll-on processes execute, Then affected sequences receive new identifiers, removed sequences maintain removed flags, and invoices contain only currently active sequences.

**5. Payment Allocation Across Sequences**
Given an invoice covers multiple active premium sequences, When payment is applied, Then allocation is proportional to sequence amounts and distribution event contains itemized allocation per sequence.

**6. Cancellation Event Accuracy**
Given a policy is cancelled with historical sequence changes, When cancellation event is fired, Then event includes all sequences billed for any period with removed flags and zero amounts for removed sequences.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=758591679"
]

---

#### Feature: Create Billing Products for Self-Bill Master Policies
- **Role**: Billing Administrator
- **Action**: configure billing products for self-bill master policies across multiple billing structures
- **Value**: accurate premium collection is established based on organizational structures and coverage combinations

**Description:**

As a **Billing Administrator**,
I want to **configure billing products for self-bill master policies across multiple billing structures**,
So that **accurate premium collection is established based on organizational structures and coverage combinations**


**Key Capabilities:**

**1. Billing Product Initialization**
Upon master policy issuance or billing setup update, system validates self-bill configuration and creates master billing product entity linked to the policy quote.

**2. Product Item Generation**
System generates billing product items based on selected structure:
    2.1 Single/Per-Class: Creates consolidated items per plan-coverage-class-tier-subgroup combination
    2.2 Per-Location: Creates separate items for each location/division with identical coverage combinations

**3. Premium Calculation & Allocation**
System calculates modal premium amounts using reporting period length, annual/monthly estimates, and reapplies premium sequence splits (except new business).

**4. Data Association & Activation**
System associates billing products with designated accounts, assigns to policyholder organization, sets invoicing start date, and establishes next payment due date.


**Acceptance Criteria:**

**1. Product Creation Validation**
Given a master quote with self-bill enabled and validated data, When user initiates issue action, Then system creates billing product matching effective date to transaction date.

**2. Structure-Based Item Generation**
Given billing setup option selected (Single/Per-Class/Per-Location), When product items are generated, Then system creates items following selected structure logic with appropriate lives/volume/premium aggregation.

**3. Premium Calculation Accuracy**
Given reporting period length and estimated amounts, When modal amounts are calculated, Then system applies correct calculation logic and reapplies premium splits (excluding new business scenarios).

**4. Account Association Completion**
Given successful product creation, When association process completes, Then billing products link to designated accounts, invoicing start date is set, and BAM message generates confirming account association.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=523017075"
]

---

#### Feature: Select Modality for Product Item Amount Calculation
- **Role**: Billing Administrator
- **Action**: configure modality selection logic for product item amount calculation through hierarchical billing structures
- **Value**: accurate billing amounts are calculated based on the correct payment frequency and organizational structure

**Description:**

As a **Billing Administrator**,
I want to **configure modality selection logic for product item amount calculation through hierarchical billing structures**,
So that **accurate billing amounts are calculated based on the correct payment frequency and organizational structure**


**Key Capabilities:**

**1. Billing Product Hierarchy Identification**
System identifies parent master policy and retrieves associated billing product hierarchy and groups linked to billing party structure.

**2. Main Insured Configuration Resolution**
System locates main insured billing party and validates invoicing configuration against retrieved billing product groups.

**3. Hierarchical Fallback Processing**
When direct invoicing configuration is unavailable, system traverses upward through billing party hierarchy until matching configuration is found.

**4. Modality Assignment**
Upon locating valid invoicing configuration, system extracts modality from billing product group and applies it to product item amount calculation.


**Acceptance Criteria:**

**1. Direct Configuration Match**
Given main insured has invoicing configuration linked to billing product group, when system validates configuration, then modality is extracted and applied without hierarchy traversal.

**2. Hierarchical Resolution**
Given main insured lacks direct invoicing configuration, when system traverses parent billing parties, then modality from first matching ancestor configuration is applied.

**3. Prerequisites Enforcement**
Given billing party location has multiple invoicing configurations or unlinked groups, when modality selection initiates, then system prevents processing until single valid configuration exists.

**4. Calculation Integration**
Given modality is successfully determined, when product modal amount calculation executes, then assigned modality governs payment frequency logic.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=486253512"
]

---

#### Feature: Simulate Product Purchases for Billing Setup Testing
- **Role**: Billing Administrator
- **Action**: simulate product purchases with varying billing configurations for testing purposes
- **Value**: I can validate billing setup workflows and account allocation rules before live deployment

**Description:**

As a **Billing Administrator**,
I want to **simulate product purchases with varying billing configurations for testing purposes**,
So that **I can validate billing setup workflows and account allocation rules before live deployment**


**Key Capabilities:**

**Product Configuration Intake**
User associates products to group sponsor customer, specifying self-bill status and payment allocation level (Group vs. Member)

**Dynamic Configuration Management**
Upon toggling self-bill setting, system adjusts available payment allocation options; user can add multiple products with mixed configurations

**Product Portfolio Review**
User reviews added products and removes items as needed regardless of bill type

**Billing Setup Pathway Selection**
User chooses between immediate purchase flow (uniform configurations) or advanced billing setup (supports mixed configurations with account filtering)

**Simulation Reset**
When cancellation occurs, system destroys simulated products and returns to customer management view


**Acceptance Criteria:**

**Self-Bill Configuration Constraint**
Given self-bill is enabled, When user views configuration options, Then payment allocation dropdown is hidden

**Mixed Product Support**
Given products with different bill types exist, When user proceeds to billing setup pathway, Then system displays all products with appropriate account filtering rules

**Purchase Pathway Limitation**
Given products have different bill types or payment allocations, When user selects immediate purchase flow, Then system restricts billing setup to uniform configurations only

**Simulation Cleanup**
Given user cancels simulation, When cancellation is confirmed, Then system removes all simulated products and redirects to customer list


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=490612759"
]

---

#### Feature: Integrate Billing Setup Widget for Policy Purchase
- **Role**: Billing Administrator
- **Action**: configure and finalize billing arrangements during policy purchase workflows
- **Value**: policies are issued with valid payment structures, reducing post-purchase billing conflicts and ensuring revenue collection

**Description:**

As a **Billing Administrator**,
I want to **configure and finalize billing arrangements during policy purchase workflows**,
So that **policies are issued with valid payment structures, reducing post-purchase billing conflicts and ensuring revenue collection**


**Key Capabilities:**

**1. Billing Setup Initialization**
System initializes billing widget with installation process context and product identifiers to establish billing scope.

**2. Billing Account Configuration**
User is able to create new billing accounts or select from existing accounts to associate with the policy purchase.

**3. Draft Billing Setup Persistence**
When user saves billing setup, system persists configuration without enforcing account selection validation, enabling incremental progress.

**4. Validated Billing Finalization**
Upon user initiating issuance, system validates billing account selection and finalizes billing setup, preventing policy issuance without payment arrangements.

**5. Response and Reference Management**
System returns billing setup reference identifier for downstream policy integration and audit tracking.


**Acceptance Criteria:**

**1. Successful Billing Setup Initialization**
Given valid installation process and product identifiers, When widget is initialized, Then billing setup interface renders with configuration options.

**2. Draft Save Without Validation**
Given incomplete billing account selection, When user saves setup, Then system persists draft configuration without validation errors.

**3. Issue Validation Enforcement**
Given no billing account selected, When user attempts issuance, Then system prevents operation and returns actionable error message.

**4. Successful Billing Finalization**
Given valid billing account selected, When user issues setup, Then system returns billing setup reference identifier.

**5. Integration Reference Availability**
Given successful save or issue operation, When response is processed, Then billing setup reference URI is available for policy linking.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=761796029"
]

---

#### Feature: Manage Full Admin Product Structure in Billing
- **Role**: Billing Administrator
- **Action**: configure and maintain hierarchical product structures for master policies and their associated certificates
- **Value**: the billing system accurately reflects complex policy relationships and enables independent management of coverage and amounts across multiple certificate instances

**Description:**

As a **Billing Administrator**,
I want to **configure and maintain hierarchical product structures for master policies and their associated certificates**,
So that **the billing system accurately reflects complex policy relationships and enables independent management of coverage and amounts across multiple certificate instances**


**Key Capabilities:**

**Master Policy Structure Establishment**
User is able to define the top-level master policy billing product containing foundational policy item configurations.

**Certificate Generation and Linking**
User is able to create multiple certificate-level billing products that inherit from and link to the master policy structure.

**Independent Coverage Assignment**
User is able to configure distinct coverage items and associated billing amounts for each certificate while maintaining hierarchical relationships.

**Product Hierarchy Validation**
Upon structure configuration, system validates completeness of master-to-certificate relationships and ensures all required product items and amounts are established.


**Acceptance Criteria:**

**Complete Hierarchy Creation**
Given billing administrator initiates product structure setup, When master policy product with certificate branches is configured, Then system establishes full hierarchy including master policy item, multiple certificates, and associated coverage items with amounts.

**Independent Certificate Management**
Given multiple certificates exist under master policy, When administrator modifies coverage or amounts for one certificate, Then changes apply only to targeted certificate without affecting sibling certificates or master policy structure.

**Structure Integrity Enforcement**
Given incomplete product hierarchy configuration, When administrator attempts to finalize setup, Then system prevents activation and identifies missing master policy items, certificate products, or coverage configurations requiring completion.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=473406620"
]

---

### Epic: Account Invoicing Schedule & Preferences

#### Feature: Configure Invoice Schedule and Timing Parameters
- **Role**: Billing Administrator
- **Action**: configure and update invoice schedule parameters for billing accounts
- **Value**: invoicing cycles align with business requirements and customer payment preferences while maintaining billing accuracy

**Description:**

As a **Billing Administrator**,
I want to **configure and update invoice schedule parameters for billing accounts**,
So that **invoicing cycles align with business requirements and customer payment preferences while maintaining billing accuracy**


**Key Capabilities:**

**1. Initiate Schedule Configuration**
User accesses billing account configuration from account management interface to modify invoice timing parameters.

**2. Define Invoicing Frequency and Timing**
User establishes core schedule including frequency cycle, due date methodology, and offset parameters. System automatically adjusts available options based on frequency selection.
    2.1 Upon selecting high-frequency cycles (weekly/bi-weekly/28-day), system restricts due date options and invoice generation methods
    2.2 When payment allocation mode involves master policies, system validates and adjusts member record modality to match frequency changes

**3. Configure Seasonal Billing Exclusions**
User designates billing periods to exclude from premium invoicing when seasonal gaps are required. System validates at least one active billing period remains.

**4. Set Invoice Generation Rules**
User defines generation timing using offset-based or date-based parameters and establishes draft invoice preferences.

**5. Apply and Validate Changes**
System recalculates modal premiums when modality changes, processes future-dated transactions, generates audit events, and persists updated configuration.


**Acceptance Criteria:**

**1. Schedule Update Persistence**
Given valid invoice schedule changes, When user submits configuration, Then system persists all parameters, generates billing account updated event, and reflects changes immediately.

**2. High-Frequency Cycle Constraints**
Given invoicing frequency is weekly/bi-weekly/28-day, When user configures due dates, Then system restricts calendar-based options and enforces offset-based generation methods.

**3. Modality Synchronization**
Given payment allocation mode with matching master policy modality, When invoicing frequency changes, Then system recalculates modal premiums, adjusts member records, processes future transactions, and generates modality change events.

**4. Seasonal Billing Validation**
Given seasonal gap enabled, When user selects billing exclusion periods, Then system prevents all-period or zero-period selection and restricts edits if issued invoices exist.

**5. Unsaved Changes Protection**
Given user modifies critical schedule parameters, When user attempts to cancel, Then system warns about unsaved changes and allows confirmation before discarding modifications.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=460691568"
]

---

#### Feature: Display Consolidated Billing Account Views and Balances
- **Role**: Billing Administrator
- **Action**: access consolidated billing information for group sponsor accounts to monitor aggregated financial status across organizational hierarchy
- **Value**: I can efficiently oversee billing performance, outstanding balances, and payment obligations for multiple business units from a unified view

**Description:**

As a **Billing Administrator**,
I want to **access consolidated billing information for group sponsor accounts to monitor aggregated financial status across organizational hierarchy**,
So that **I can efficiently oversee billing performance, outstanding balances, and payment obligations for multiple business units from a unified view**


**Key Capabilities:**

**1. Access Consolidated Billing Hub**
User navigates to billing section from organization customer portfolio to initiate consolidated view access for non-individual customer accounts.

**2. Review Aggregated Financial Summary**
User expands consolidated billing view to examine aggregated balance figures including due and unpaid amounts, amendments not yet billed, and total account balances across group sponsor and business units.

**3. Navigate Hierarchical Account Structure**
User switches between organizational tabs (Group Sponsor, Location, Division) to access billing accounts filtered by customer type, with default display of five accounts and expandable view-all functionality.

**4. Examine Individual Account Details**
User expands specific billing account cards to review detailed balance figures, invoice status indicators, payment history, and associated product information.
    4.1 Upon expansion, system displays account-specific metrics including unapplied payments, overdue/issued/partially-paid invoice counts, and product cards.

**5. Maintain Navigation Context**
User collapses and re-expands consolidated views while system preserves tab selection and card expansion states to support continuous workflow.


**Acceptance Criteria:**

**1. Consolidated View Initialization**
Given user has accessed organization customer portfolio for non-individual customer, When user navigates to billing section, Then system displays collapsed consolidated billing view with customer context and action menu.

**2. Aggregated Balance Calculation**
Given consolidated billing view is expanded, When system loads aggregated data, Then system displays accurate summation of due and unpaid amounts, amendments not yet billed, and account balances across all billing accounts within hierarchy.

**3. Hierarchical Tab Filtering**
Given multiple billing accounts exist across organizational levels, When user selects specific tab (Group Sponsor/Location/Division), Then system filters and displays only billing accounts associated with selected customer type with default limit of five accounts.

**4. Account Detail Expansion**
Given billing account card is displayed, When user expands card, Then system reveals detailed balance figures, invoice status bar with categorized counts, and associated product information appropriate to account type (True Group or Individual Premium Accounting).

**5. State Persistence**
Given user has expanded accounts and selected specific tab, When user collapses then re-expands consolidated view, Then system maintains previously active tab selection and individual account card expansion states.

**6. Conditional Field Display**
Given account type is determined, When system displays balance figures, Then system shows account-type-specific fields (e.g., Paid To Date for True Group; Member Records Overpayments for Individual Premium Accounting) per business rules.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=456496163"
]

---

#### Feature: Manage Self-Bill Payment Requests and Reporting Periods
- **Role**: Billing Administrator
- **Action**: manage self-bill payment requests, reporting periods, and associated financial transactions for billing accounts
- **Value**: I can monitor account health, track premium obligations, process payments efficiently, and maintain accurate billing period reconciliation

**Description:**

As a **Billing Administrator**,
I want to **manage self-bill payment requests, reporting periods, and associated financial transactions for billing accounts**,
So that **I can monitor account health, track premium obligations, process payments efficiently, and maintain accurate billing period reconciliation**


**Key Capabilities:**

**1. Account Financial Status Assessment**
User accesses billing account overview displaying consolidated balance metrics, payment history, hold status, and billing frequency. System calculates net account balance using due/unpaid amounts minus unapplied funds.

**2. Payment Transaction Monitoring**
User reviews recent payment and refund transactions with status indicators. System highlights incomplete drafts and refunds in progress.
    2.1 Upon selecting transaction, system reveals detailed invoice allocations

**3. Reporting Period Management**
User navigates premium obligations by billing period or invoice view. System displays period amounts, due dates, payment request identifiers, and process status tags for delinquency or discarded requests.
    3.1 When delinquency detected, system applies visual indicators
    3.2 User initiates payment request generation, premium adjustments, or invoice regeneration workflows


**Acceptance Criteria:**

**1. Balance Accuracy**
Given multiple transactions exist, When user views account summary, Then system displays accurate calculated balance reflecting unapplied credits against unpaid obligations

**2. Period Status Transparency**
Given reporting periods have varied statuses, When user reviews premium obligations, Then system clearly identifies delinquent periods and discarded payment requests with distinct indicators

**3. Transaction Traceability**
Given payments allocated to invoices, When user expands transaction details, Then system reveals complete allocation breakdown linking payments to specific billing periods

**4. Conditional Action Availability**
Given user security privileges, When user accesses action menus, Then system displays only authorized operations for payment processing, adjustments, and refunds


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=489401735"
]

---

#### Feature: Process Internal and External Payment Transactions
- **Role**: Billing Administrator
- **Action**: process and manage payment transactions across billing accounts
- **Value**: I can ensure accurate payment allocation, maintain account balance integrity, and provide transparent payment tracking for internal and external stakeholders

**Description:**

As a **Billing Administrator**,
I want to **process and manage payment transactions across billing accounts**,
So that **I can ensure accurate payment allocation, maintain account balance integrity, and provide transparent payment tracking for internal and external stakeholders**


**Key Capabilities:**

**Payment Transaction Intake**
User is able to capture payment details including transaction type, subtype, effective dates, and amounts for both internal and external payment sources.

**Payment Allocation Management**
User is able to allocate payments to outstanding invoices, preset allocation rules, or reallocate existing payments based on business priorities and account hierarchy.

**Payment Status Administration**
User is able to manage payment lifecycle actions including decline, suspend, reverse, transfer, or unallocate transactions with proper authorization controls.

**Balance Reconciliation**
When payments are processed, system recalculates account balances including unapplied amounts, overpayments, and paid-to-date figures with timestamp tracking for audit purposes.


**Acceptance Criteria:**

**1. Payment Transaction Capture**
Given a billing account requires payment processing, When the administrator submits payment transaction details, Then the system validates completeness and creates a payment record with draft status pending allocation.

**2. Payment Allocation Execution**
Given an unallocated payment exists, When the administrator applies allocation rules to outstanding invoices, Then the system updates invoice balances and payment status reflecting allocation linkages with transaction timestamps.

**3. Payment Lifecycle Management**
Given a payment requires status modification, When the administrator executes authorized actions (decline/suspend/reverse), Then the system updates payment status, reverses allocations if applicable, and maintains complete audit history with reason codes.

**4. Balance Integrity Verification**
Given payment transactions are processed, When balance calculations are triggered, Then the system prevents data inconsistencies and reflects accurate account-level balances distinguishing between due amounts, unapplied funds, and overpayments per account type rules.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=439135161"
]

---

#### Feature: Calculate and Display Amendments Not Yet Billed Balance
- **Role**: Billing Administrator
- **Action**: monitor amendments pending invoicing
- **Value**: I can track unbilled policy changes and ensure accurate customer billing

**Description:**

As a **Billing Administrator**,
I want to **monitor amendments pending invoicing**,
So that **I can track unbilled policy changes and ensure accurate customer billing**


**Key Capabilities:**

**Account Financial Overview Access**
User is able to view billing account summary displaying key financial metrics including current balance status and hold indicators.

**Dynamic Amendment Balance Calculation**
Upon accessing account details, system calculates amendments not yet billed balance in real-time with visible calculation timestamp.

**Extended Financial Detail Review**
User is able to expand account view to access comprehensive balance breakdown including unapplied amounts, overpayments, and pending amendments.

**Transaction History Inspection**
System displays recent payment and invoice transactions to provide context for current balance calculations.


**Acceptance Criteria:**

**Real-Time Balance Computation**
Given amendments exist for the billing account, When user accesses account details, Then system calculates and displays amendments not yet billed balance with current timestamp.

**Calculation Progress Indication**
Given balance calculation is in progress, When system is processing financial data, Then visual indicators appear until values are finalized.

**Accurate Amendment Tracking**
Given multiple policy amendments have been processed, When balance is calculated, Then system aggregates all unbilled amendment amounts accurately.

**Contextual Balance Display**
Given user expands account card, When extended view is rendered, Then amendments balance appears alongside related financial metrics for comprehensive account analysis.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=531204513"
]

---

#### Feature: Update Existing Billing Setup Configuration
- **Role**: Billing Administrator
- **Action**: modify billing account configuration and preferences
- **Value**: billing schedules and account settings remain aligned with evolving customer needs and organizational billing policies

**Description:**

As a **Billing Administrator**,
I want to **modify billing account configuration and preferences**,
So that **billing schedules and account settings remain aligned with evolving customer needs and organizational billing policies**


**Key Capabilities:**

**Account Selection and Access**
User navigates to billing dashboard, locates target account from categorized billing accounts (List Bill, Self-Bill, Individual Direct), and initiates configuration update through billing actions menu

**Configuration Modification**
User updates billing setup parameters including frequency, payment terms, account associations, and service allocations based on authorized changes

**Consolidated View Management**
When managing organization accounts, user modifies consolidated billing view configurations to reflect organizational structure changes

**Validation and Commitment**
System validates configuration changes against business rules and active services, then commits updates while preserving billing history and existing invoice integrity


**Acceptance Criteria:**

**Authorized Modification Access**
Given user has appropriate billing account update privileges, When accessing billing actions menu, Then system enables configuration modification capabilities

**Configuration Update Success**
Given valid billing setup changes submitted, When system validates against active services and business rules, Then configuration updates apply to future billing cycles without disrupting current invoices

**Consolidated View Update**
Given organization customer account modifications, When consolidated billing view changes committed, Then updated views reflect across all associated billing accounts immediately

**Unauthorized Access Prevention**
Given user lacks required privileges, When attempting configuration updates, Then system prevents modification access while maintaining view-only capabilities


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=439135092"
]

---

### Epic: Billing Account Setup & Lifecycle

#### Feature: Generate Unique Billing Account Numbers
- **Role**: Billing Administrator
- **Action**: establish and manage unique billing account numbers with legacy system support
- **Value**: I can maintain operational continuity during system migrations while ensuring accurate invoice generation and account tracking across multiple billing configurations

**Description:**

As a **Billing Administrator**,
I want to **establish and manage unique billing account numbers with legacy system support**,
So that **I can maintain operational continuity during system migrations while ensuring accurate invoice generation and account tracking across multiple billing configurations**


**Key Capabilities:**

**1. Billing Account Initiation**
User is able to establish new billing accounts through multiple channels (UI, REST API, portal) and assign unique account numbers while supporting various billing configurations.

**2. Legacy Number Preservation**
When migrating from historical systems, the system captures and stores legacy billing account numbers alongside current identifiers to maintain backward compatibility.

**3. Account Type Configuration**
User is able to configure billing accounts for different business models including consolidated billing, flexible billing arrangements, individual direct billing, and list billing structures.

**4. Invoice Generation Enablement**
Upon successful account setup, the system enables invoice generation capabilities using the established billing account number as the primary reference identifier.


**Acceptance Criteria:**

**1. Unique Account Number Assignment**
Given a billing account creation request, When the user submits account establishment details, Then the system generates and assigns a unique billing account number without duplication.

**2. Legacy Number Migration Support**
Given a migration scenario from historical systems, When legacy account information is provided during setup, Then the system stores both current and legacy account numbers for reference.

**3. Multi-Type Account Support**
Given different billing configuration requirements, When the user specifies the billing account type (Consolidated/FlexiBill/Individual/List), Then the system creates the account with type-specific attributes and numbering.

**4. Invoice Generation Readiness**
Given a successfully established billing account, When the account number is referenced in invoice generation requests, Then the system processes invoices using the assigned billing account number.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=447623002"
]

---

#### Feature: Create Billing Accounts with Configurable Invoicing Parameters
- **Role**: Billing Administrator
- **Action**: establish billing accounts with configurable payment and invoicing parameters
- **Value**: customers are accurately billed according to their payment schedules and business requirements

**Description:**

As a **Billing Administrator**,
I want to **establish billing accounts with configurable payment and invoicing parameters**,
So that **customers are accurately billed according to their payment schedules and business requirements**


**Key Capabilities:**

**1. Account Initialization**
System creates billing account entity with default currency (USD) and inactive state upon request from authorized performer or external system.

**2. Parameter Configuration**
User configures payment plan type, due day settings, and associates customer reference for invoicing requirements.

**3. Business Rule Validation**
System validates payment plan constraints, due day configuration, customer references, and prevents unauthorized modifications.
    3.1 Monthly payment plans restricted to single due day specification
    3.2 Currency and account number updates blocked

**4. Account Activation**
System generates unique account identifier, transitions account to active state, and persists configuration for operational billing cycles.


**Acceptance Criteria:**

**1. Successful Account Creation**
Given valid customer reference and monthly payment configuration, When user submits billing account with single due day, Then system generates unique account number and activates account.

**2. Payment Plan Enforcement**
Given non-monthly payment plan type, When user attempts account creation, Then system rejects request with payment plan validation error.

**3. Due Day Configuration Control**
Given monthly payment plan, When user specifies multiple due days, Then system prevents submission with due day constraint violation.

**4. Customer Reference Validation**
Given invalid customer identifier, When account initialization requested, Then system blocks creation with customer lookup failure message.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=206573145"
]

---

#### Feature: Retrieve Billing Account Details by Account Number
- **Role**: Billing Administrator
- **Action**: retrieve billing account details using account number
- **Value**: I can quickly access complete account information to support customer inquiries and operational decisions

**Description:**

As a **Billing Administrator**,
I want to **retrieve billing account details using account number**,
So that **I can quickly access complete account information to support customer inquiries and operational decisions**


**Key Capabilities:**

**1. Account Retrieval Request Initiation**
User is able to submit account lookup request by providing account number identifier to the billing system.

**2. Request Validation & Processing**
System validates request structure and authorization credentials before processing the retrieval operation.

**3. Account Entity Verification**
System confirms existence of billing account matching the specified account number in the repository.

**4. Account Details Response Delivery**
Upon successful validation, system returns complete billing account entity including account number, account state, and associated attributes.

**5. Error Handling for Invalid Requests**
When validation fails or account is not found, system provides appropriate error messaging to guide corrective action.


**Acceptance Criteria:**

**1. Successful Account Retrieval**
Given a valid account number exists, when user submits retrieval request, then system returns complete billing account details including account state.

**2. Non-Existent Account Handling**
Given account number does not exist in system, when retrieval is attempted, then system returns appropriate not-found error message.

**3. Invalid Request Rejection**
Given request fails validation requirements, when submission occurs, then system prevents processing and returns validation error details.

**4. Authorization Verification**
Given user lacks proper credentials, when account retrieval is requested, then system denies access and requires valid authentication.

**5. Data Completeness Guarantee**
Given successful retrieval, when account details are returned, then response contains all mandatory account attributes including account number and state.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=238191304"
]

---

#### Feature: Update Billing Account Configuration and Payor Details
- **Role**: Billing Administrator
- **Action**: modify existing billing account configurations and payor information
- **Value**: maintain accurate billing operations aligned with current business requirements and customer arrangements

**Description:**

As a Billing Administrator,
I want to modify existing billing account configurations and payor information,
So that maintain accurate billing operations aligned with current business requirements and customer arrangements


**Key Capabilities:**

**1. Account Configuration Access**
User is able to access existing billing account settings for authorized modification across configuration domains

**2. Invoice and Schedule Configuration**
User is able to adjust invoice document delivery preferences, invoicing frequency, due date calculations, and advanced scheduling parameters including seasonal billing and generation offsets

**3. Payment Method Management**
User is able to update payment instruments and authorize recurring payment capabilities per business rules

**4. Contact Information Maintenance**
User is able to manage up to five billing contacts with role designation including primary contact assignment

**5. Allocation and Delinquency Rules**
When products exist, user is able to configure payment allocation modes and delinquency parameters per organizational policies

**6. Change Commitment**
Upon validation, user is able to commit modifications or discard changes with unsaved data protection


**Acceptance Criteria:**

**1. Authorized Access**
Given user has appropriate privileges, When accessing billing account, Then system permits configuration modifications

**2. Configuration Persistence**
Given valid modifications submitted, When system processes changes, Then updated configurations apply to subsequent billing operations

**3. Conditional Rule Enforcement**
Given FlexiBill account type, When updating invoice settings, Then system restricts due date configurations per business rules

**4. Payment Method Validation**
Given Cash/Check/No Payment selection, When configuring payment options, Then recurring payment authorization becomes unavailable

**5. Contact Hierarchy Management**
Given new primary contact designation, When existing primary exists, Then system reassigns primary status to new selection

**6. Data Loss Prevention**
Given unsaved changes exist, When navigation attempted, Then system warns before discarding modifications


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=460689940"
]

---

#### Feature: Manage Billing Account Hold Configurations
- **Role**: Billing Administrator
- **Action**: configure and manage billing account hold restrictions
- **Value**: the organization can control invoice generation and account activity based on business rules and operational requirements

**Description:**

As a **Billing Administrator**,
I want to **configure and manage billing account hold restrictions**,
So that **the organization can control invoice generation and account activity based on business rules and operational requirements**


**Key Capabilities:**

**1. Hold Configuration Access & Mode Determination**
User accesses billing account hold management. System evaluates existing hold status and determines presentation mode: configuration interface for new holds, update interface with pre-populated data for active/pending holds, or read-only inquiry mode with timestamps.

**2. Hold Parameter Definition**
User defines hold restrictions by specifying hold type, business reason from predefined lookup, and temporal boundaries. System validates effective date against current date and ensures expiration date logic maintains chronological integrity.

**3. Hold Lifecycle Actions**
User commits hold configuration or expires active holds. System persists hold restrictions, updates account status, and records transaction details.

**4. Hold History Review**
User reviews chronological hold audit trail with performer attribution, temporal details, and configuration parameters across paginated records.


**Acceptance Criteria:**

**1. Hold Configuration Initiation**
Given no active hold exists, When user accesses hold management, Then system presents configuration interface with defaulted parameters and current date baseline.

**2. Temporal Validation Enforcement**
Given user defines hold dates, When effective date precedes current date or expiration precedes effective date, Then system prevents submission and communicates constraint violation.

**3. Active Hold Update Restriction**
Given an active hold exists, When user accesses update mode, Then system prevents modification of effective date while permitting other parameter changes.

**4. Hold Commitment & Persistence**
Given valid hold configuration, When user commits changes, Then system applies restrictions to account, records configuration in audit history, and returns user to billing context.

**5. Hold Expiration Processing**
Given user initiates hold expiration, When system processes request, Then account restrictions are lifted and history reflects expiration timestamp with performer attribution.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=609524856"
]

---

#### Feature: Configure Billing Account Contacts with Primary Designation
- **Role**: Billing Administrator
- **Action**: configure billing contacts with primary designation for account communication and document distribution
- **Value**: authorized contacts receive billing documents and consultation requests, ensuring continuity through backup contacts when primary is unavailable

**Description:**

As a **Billing Administrator**,
I want to **configure billing contacts with primary designation for account communication and document distribution**,
So that **authorized contacts receive billing documents and consultation requests, ensuring continuity through backup contacts when primary is unavailable**


**Key Capabilities:**

**Contact Roster Management**
User initiates contact configuration during account creation, update, or billing setup processes. System displays current contact roster identifying primary designation status and available capacity (maximum 5 contacts).

**Contact Assignment and Data Capture**
User adds or updates contact information including designation type, identity details, and account association. System validates completeness before storing configuration.

**Primary Designation Control**
When user assigns primary status to new contact, system automatically demotes existing primary to non-primary. Upon primary contact removal, system retains remaining contacts without automatic promotion, requiring explicit reassignment.

**Document Distribution Integration**
System submits billing account documents to configured contacts through document generation services based on designation rules.


**Acceptance Criteria:**

**Contact Addition Success**
Given fewer than 5 contacts exist, When user submits valid contact information with designation, Then system stores contact and enables document distribution.

**Primary Reassignment Override**
Given primary contact already exists, When user assigns primary status to different contact, Then system demotes existing primary to non-primary automatically.

**Capacity Enforcement**
Given 5 contacts already assigned, When user attempts addition, Then system prevents new contact creation until existing contact is removed.

**Primary Deletion Handling**
Given primary contact exists, When user deletes that contact, Then system removes contact without promoting replacement, leaving account without primary until manual reassignment.

**Update Preservation**
Given contact exists, When user modifies information and saves, Then system updates contact while preserving designation status unless explicitly changed.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=668245720"
]

---

#### Feature: Link Master Policies to Billing Accounts
- **Role**: Billing Administrator
- **Action**: associate policy classes with billing accounts to establish billing relationships
- **Value**: accurate premium collection is structured according to policy coverage divisions and payment preferences

**Description:**

As a **Billing Administrator**,
I want to **associate policy classes with billing accounts to establish billing relationships**,
So that **accurate premium collection is structured according to policy coverage divisions and payment preferences**


**Key Capabilities:**

**Class Selection and Filtering**
User initiates account linkage workflow. System presents only unassociated classes from master policy to prevent duplicate billing assignments.

**Billing Account Association**
User selects target classes and designates existing billing accounts showing account attributes (frequency, payment method, status). Multiple classes can be linked to multiple accounts simultaneously.

**New Account Creation Path**
When suitable billing account does not exist, user creates new billing account within workflow. System returns to selection interface with newly created account available.

**Relationship Confirmation**
Upon confirmation, system persists class-to-account associations and updates billing setup view to reflect established relationships.


**Acceptance Criteria:**

**Filtered Class Availability**
Given classes exist on master policy, When user accesses linkage interface, Then system displays only classes without existing billing account associations.

**Successful Multi-Selection Association**
Given user selects multiple classes and designates billing account(s), When confirmation is submitted, Then system establishes all specified relationships and reflects changes in billing configuration.

**Inline Account Creation**
Given no suitable billing account exists, When user initiates new account creation with required privileges, Then system allows account setup and makes new account immediately available for association.

**Cancellation Safeguard**
Given user attempts cancellation during workflow, When confirmation is requested, Then system prevents accidental data loss through explicit confirmation step.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=534816369"
]

---

#### Feature: Setup Billing per Class with Modality Configuration
- **Role**: Billing Administrator
- **Action**: configure class-level billing accounts with appropriate payment modalities
- **Value**: each class receives tailored billing treatment aligned with payment allocation rules and seasonal requirements

**Description:**

As a **Billing Administrator**,
I want to **configure class-level billing accounts with appropriate payment modalities**,
So that **each class receives tailored billing treatment aligned with payment allocation rules and seasonal requirements**.


**Key Capabilities:**

**1. Billing Account Assignment Initiation**
User initiates per-class billing setup for selected products requiring list-bill or self-bill arrangements.

**2. Class and Account Association**
User associates one or multiple classes with existing billing accounts filtered by bill type, or creates new billing accounts as needed.

**3. Seasonal Billing Detection and Modality Enforcement**
System detects seasonal billing accounts and automatically configures modality to match invoicing frequency for group allocation or establishes default monthly payroll deduction for individual allocation.

**4. Coverage Validation**
System verifies all classes have assigned billing accounts before allowing setup completion.

**5. Association Management**
User can review, modify, or remove class-billing account associations before finalizing configuration.


**Acceptance Criteria:**

**1. Successful Multi-Class Assignment**
Given multiple classes exist, When user selects classes and confirms billing account association, Then system displays selected account with class tags and permits additional associations.

**2. Seasonal Account Handling - Group Allocation**
Given a seasonal billing account is selected with group payment allocation, When system validates the association, Then modality is set to match invoicing frequency and alternative options are disabled.

**3. Seasonal Account Handling - Individual Allocation**
Given a seasonal billing account is selected with individual payment allocation, When system processes the configuration, Then default monthly payroll deduction calendar is created with policy effective date as start date.

**4. Incomplete Setup Prevention**
Given unassigned classes remain, When user attempts to finalize setup, Then system prevents completion and prompts continuation of assignment process.

**5. Account Filtering**
Given available billing accounts exist, When user initiates account selection, Then system displays only accounts matching the required bill type criteria.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=523012085"
]

---

#### Feature: Create Billing Accounts from Billing Setup Slideout
- **Role**: Billing Administrator
- **Action**: establish new billing accounts with invoice and payment configurations
- **Value**: organizational revenue collection is properly structured and payor relationships are efficiently managed

**Description:**

As a **Billing Administrator**,
I want to **establish new billing accounts with invoice and payment configurations**,
So that **organizational revenue collection is properly structured and payor relationships are efficiently managed**


**Key Capabilities:**

**1. Account Creation Initiation**
User is able to initiate billing account establishment process through designated interface

**2. Invoice Schedule Configuration**
User is able to define invoice frequency, due day parameters, and optional advanced scheduling rules for automated billing cycles

**3. Payor Relationship Setup**
User is able to provide payor identity information and delivery address for invoice distribution

**4. Payment Method Authorization**
User is able to select payment mechanisms and configure optional recurring payment authorization for automated collections

**5. Contact Association**
User is able to optionally associate billing contacts for communication purposes

**6. Account Finalization**
Upon submission, system persists billing account configuration. When cancellation is requested with pending changes, system prompts confirmation to prevent accidental data loss


**Acceptance Criteria:**

**1. Successful Account Creation**
Given complete invoice schedule and payor information, When user submits account creation, Then system persists billing account and confirms establishment

**2. Payment Authorization Capture**
Given payment method selection, When recurring authorization is enabled, Then system stores authorization for automated processing

**3. Incomplete Submission Prevention**
Given mandatory information is missing, When user attempts submission, Then system prevents account creation until requirements are satisfied

**4. Cancellation Data Protection**
Given unsaved configuration changes exist, When user initiates cancellation, Then system prompts confirmation before discarding modifications

**5. Optional Contact Handling**
Given no billing contacts provided, When user submits account creation, Then system successfully establishes account without contact associations


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=534816959"
]

---

#### Feature: Display Consolidated Billing Views for Group Sponsors
- **Role**: Billing Administrator
- **Action**: view consolidated billing information across organizational hierarchy
- **Value**: I can efficiently monitor and manage billing accounts and policies across all business units in a unified, hierarchical display

**Description:**

As a **Billing Administrator**,
I want to **view consolidated billing information across organizational hierarchy**,
So that **I can efficiently monitor and manage billing accounts and policies across all business units in a unified, hierarchical display**


**Key Capabilities:**

**1. Consolidated View Activation**
Upon identifying customer as Group Sponsor, system activates consolidated billing display on billing home page.

**2. Hierarchical Organization**
System organizes billing information by business units (Group Sponsor, Locations, Divisions), their billing accounts, and associated policies in nested structure.

**3. Dynamic Content Updates**
When policies are issued or billing accounts assigned, system automatically updates view by adding new entries or appending to existing accounts.

**4. Selective Display Logic**
System excludes business units without billing accounts while displaying units with multiple accounts as separate entries.


**Acceptance Criteria:**

**1. Group Sponsor Identification**
Given customer is classified as Group Sponsor, When billing home page loads, Then system displays consolidated billing view.

**2. Hierarchical Data Population**
Given business units have billing accounts assigned, When view renders, Then system displays hierarchy showing business units, their billing accounts, and associated policies.

**3. Dynamic Update on Policy Issuance**
Given new policy is issued, When billing account exists, Then system appends policy reference to existing account; When billing account is new, Then system creates new hierarchy entry.

**4. Exclusion of Unassigned Units**
Given business unit lacks billing account, When view renders, Then system excludes unit from display.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=459480651"
]

---

#### Feature: View Billing Account Information with Balances and Invoices
- **Role**: Billing Administrator
- **Action**: access comprehensive billing account information including balances and invoices
- **Value**: I can review account status, monitor financial obligations, and make informed billing decisions

**Description:**

As a **Billing Administrator**,
I want to **access comprehensive billing account information including balances and invoices**,
So that **I can review account status, monitor financial obligations, and make informed billing decisions**


**Key Capabilities:**

**1. Billing Account Access**
User navigates to customer portfolio billing view and system displays relevant billing accounts based on customer classification (organization or individual).

**2. Account Detail Retrieval**
User selects specific billing account and system validates bill type (List Bill, Individual Direct, or Self-Bill) to determine appropriate information presentation.

**3. Financial Information Review**
System presents account details including balances, invoice summaries, payment history, and billing periods according to validated account type.

**4. Contextual Action Navigation**
User is able to access related billing operations including payment processing, invoice management, and billing period reviews from within account view.


**Acceptance Criteria:**

**1. Account Display Validation**
Given user has access rights, When navigating to billing tab, Then system displays all active and closed billing accounts matching customer type classification.

**2. Bill Type Processing**
Given billing account is selected, When system validates bill type, Then appropriate information structure is rendered per account specifications.

**3. Incomplete Data Handling**
Given billing account lacks required financial data, When user attempts to view details, Then system prevents incomplete information display and indicates data unavailability.

**4. Cross-Functional Navigation**
Given user is viewing account details, When selecting related billing functions, Then system enables seamless transition to payment, invoice, or billing period management workflows.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=501292726"
]

---

#### Feature: Execute Available Actions on Billing Accounts
- **Role**: Billing Administrator
- **Action**: access and execute contextual billing account actions
- **Value**: I can efficiently manage billing accounts through streamlined action workflows tailored to each account's state and configuration

**Description:**

As a **Billing Administrator**,
I want to **access and execute contextual billing account actions**,
So that **I can efficiently manage billing accounts through streamlined action workflows tailored to each account's state and configuration**


**Key Capabilities:**

**1. Account Selection & Action Discovery**
User navigates to Billing Home and selects target account, system displays contextual action menu based on account state and business rules

**2. Invoice & Document Generation**
User initiates invoice generation, draft bill creation, or payment request workflows for upcoming billing periods

**3. Payment & Credit Operations**
User applies payments using allocation strategies (manual, strategy-based, file-based) or manages customer credits and refunds
    3.1 Upon selecting payment actions, system routes to appropriate allocation workflow based on account type
    3.2 User is able to process unapplied payments or initiate refunds

**4. Account Configuration Management**
User updates account details, payor information, invoice schedules, or manages billing holds

**5. Information Access**
User views modal premiums, payroll calendars, and member records for comprehensive account oversight


**Acceptance Criteria:**

**1. Contextual Action Availability**
Given a billing account with specific state and type, When user accesses action menu, Then system displays only eligible actions per business rules

**2. Successful Action Execution**
Given user selects valid action, When action workflow completes, Then system updates account state and confirms completion

**3. Payment Allocation Routing**
Given user initiates payment application, When account type determines allocation method, Then system routes to correct workflow (strategy-based, manual, or file-based)

**4. Incomplete Data Handling**
Given required information is missing, When user attempts action submission, Then system prevents execution and requests completion

**5. Multi-Account Type Support**
Given accounts of different types (List Bill, Self-Bill, IPA, True Group, Individual Direct), When user accesses respective actions, Then system applies type-specific business logic


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=490605094"
]

---

#### Feature: Move Member Records Between Billing Accounts
- **Role**: Billing Administrator
- **Action**: relocate member records from individual direct billing back to group billing arrangements
- **Value**: I can restore organizational billing structures when continuations end, ensuring accurate premium calculations and maintaining billing account integrity across policy lifecycle changes

**Description:**

As a **Billing Administrator**,
I want to **relocate member records from individual direct billing back to group billing arrangements**,
So that **I can restore organizational billing structures when continuations end, ensuring accurate premium calculations and maintaining billing account integrity across policy lifecycle changes**


**Key Capabilities:**

**1. Continuation Removal Initiation**
Upon removal of continuation coverage, system receives member context including record number, effective date, and target billing path (List Bill or Self Bill).

**2. Target Account Determination**
System identifies appropriate group billing account based on master policy setupvalidates payroll frequency alignment, location/division/class classifications, and modality matching rules.

**3. Pre-Move Validation**
Validates effective date sequencing, seasonal billing status, and absence of generated invoices in affected periods before executing transition.

**4. Member Record Relocation**
Executes move to identified group account, generates bilateral activity messages for individual and organizational accounts, recalculates modal premiums for both source and destination accounts.

**5. Amendment and Balance Reconciliation**
Updates amendments-not-yet-billed values and recalculates paid-to-date for affected accounts when invoice periods overlap with transition date.


**Acceptance Criteria:**

**1. List Bill Path Success**
Given continuation removal with List Bill selection, When billing setup validates and target account exists, Then member relocates to group account, both accounts reflect recalculated premiums, and activity messages generate for both customer types.

**2. Self Bill Path Handling**
Given continuation removal with Self Bill selection, When validation completes, Then member remains on individual direct account with zeroed future premiums and no group account transition occurs.

**3. Classification Change Accommodation**
Given payroll frequency or organizational classification changed during continuation, When target account determination executes, Then system identifies account matching new classification or displays error if none exists.

**4. Effective Date Validation**
Given move-back effective date, When date precedes original continuation date, Then system prevents transition and enforces chronological sequencing rule.

**5. Invoice Period Protection**
Given generated invoices exist in transition period, When move executes, Then system updates amendment values and account balances without disrupting existing invoice integrity.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=544446944"
]

---

#### Feature: Transition Member Records to Individual Direct Billing
- **Role**: Billing Administrator
- **Action**: transition member records from individual direct billing back to group billing arrangements
- **Value**: members are accurately reassigned to their appropriate group billing accounts with correct payment allocation and timing

**Description:**

As a **Billing Administrator**,
I want to **transition member records from individual direct billing back to group billing arrangements**,
So that **members are accurately reassigned to their appropriate group billing accounts with correct payment allocation and timing**


**Key Capabilities:**

**1. Initiate Member Billing Transition**
User initiates return to group billing from member record view, system retrieves transition effective date from policy subsystem

**2. Determine Target Billing Account**
System automatically identifies appropriate group billing account based on bill type configuration (single bill uses original account; segmented billing evaluates organizational attribute changes)

**3. Present Transition Configuration**
System displays member details, target account attributes, payment allocation mode, invoicing frequency, and applicable modality or payroll deduction settings for user review

**4. Validate Billing Compatibility**
System validates member-level premium liability attributes against target account payment allocation mode requirements

**5. Execute Billing Transition**
Upon confirmation, system transitions member to group billing effective on specified date, triggering calculation adjustments across both billing accounts


**Acceptance Criteria:**

**1. Successful Transition to Group Billing**
Given member with individual direct billing, When user confirms transition with compatible configuration, Then system executes transition effective on policy-provided date and redirects to member view

**2. Target Account Determination Accuracy**
Given member returning to group billing, When bill type is segmented by organizational attributes, Then system selects original or corresponding account based on current attribute values

**3. Compatibility Validation Enforcement**
Given member with premium liability indicator enabled, When target account lacks individual premium accounting capability, Then system prevents transition and displays compatibility alert

**4. Billing Calculation Adjustment**
Given confirmed transition, When effective date arrives, Then system starts calculating billable items on group account and stops calculations on individual account

**5. Cancellation Without Impact**
Given transition in progress, When user cancels before confirmation, Then system returns to member view without executing any billing changes


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=545595985"
]

---

#### Feature: Validate Billing Account Selection and Modality During Setup
- **Role**: Billing Administrator
- **Action**: validate billing account selection and modality during individual direct billing setup
- **Value**: member records transition accurately to the correct billing arrangement with complete and verified account information

**Description:**

As a **Billing Administrator**,
I want to **validate billing account selection and modality during individual direct billing setup**,
So that **member records transition accurately to the correct billing arrangement with complete and verified account information**


**Key Capabilities:**

**1. Billing Setup Initiation**
User initiates individual direct billing setup by providing billing account association and payment modality selection

**2. Billing Account Creation Workflow**
When billing account does not exist, user is able to create new account by providing required account information and system validates completeness before creation

**3. Pre-Transition Validation**
Upon submission, system validates billing account selection exists, modality is specified, and no pending account creation forms remain open
    3.1 If validation fails, system prevents transition and identifies missing or incomplete data
    3.2 If validation succeeds, system proceeds to member record transition

**4. Member Record Transition Execution**
System executes member record transition to individual direct billing arrangement using validated account and modality configuration


**Acceptance Criteria:**

**1. Successful Billing Setup with Existing Account**
Given a billing account exists and modality is selected, When user submits setup, Then system successfully transitions member record to individual direct billing

**2. New Account Creation Validation**
Given user initiates new account creation, When required account information is incomplete, Then system prevents account creation and identifies missing data elements

**3. Missing Account Selection Prevention**
Given no billing account is selected, When user attempts to submit setup, Then system blocks transition and notifies user of missing account selection

**4. Missing Modality Prevention**
Given billing account is selected but modality is not specified, When user submits setup, Then system prevents transition and requires modality specification

**5. Transition Execution Failure Handling**
Given validation passes but system cannot execute transition, When transition fails, Then system notifies user of transition failure and maintains current member state


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=543269494"
]

---

#### Feature: Apply Default Business Calendar for Billing Operations
- **Role**: Billing Administrator
- **Action**: configure default invoicing parameters during billing account creation
- **Value**: billing operations are automatically initialized with standardized calendar and invoicing rules

**Description:**

As a **Billing Administrator**,
I want to **configure default invoicing parameters during billing account creation**,
So that **billing operations are automatically initialized with standardized calendar and invoicing rules**.


**Key Capabilities:**

**Automated Configuration Initialization**
When a billing account is created, system applies predefined business calendar and invoicing parameters automatically.

**Default Parameter Application**
System establishes foundational invoicing configuration governing invoice generation cycles, timing, and operational calendars.

**Business Rule Integration**
Configuration integrates with billing account data structure and invoicing system building blocks to ensure consistency.

**Lifecycle Governance**
Default settings are applied during account setup lifecycle and persist as baseline operational parameters for ongoing billing operations.


**Acceptance Criteria:**

**Successful Account Initialization**
Given a new billing account is being created, When the creation process completes, Then default business calendar and invoicing parameters are automatically applied.

**Configuration Consistency**
Given predefined business rules exist, When default parameters are applied, Then configuration aligns with organizational invoicing standards.

**System Integration**
Given account initialization occurs, When default settings are established, Then invoicing system recognizes and utilizes the configured parameters for invoice generation.

**Audit Capability**
Given default configuration is applied, When account setup completes, Then system records the applied parameters for compliance tracking.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=508667630"
]

---

#### Feature: Manage Member Record Actions and Refunds
- **Role**: Billing Administrator
- **Action**: manage member-level actions and initiate refunds based on billing context and account status
- **Value**: I can ensure accurate financial processing, respond to member needs, and maintain billing data integrity through context-aware actions

**Description:**

As a **Billing Administrator**,
I want to **manage member-level actions and initiate refunds based on billing context and account status**,
So that **I can ensure accurate financial processing, respond to member needs, and maintain billing data integrity through context-aware actions**


**Key Capabilities:**

**Access Member Record Actions**
User is able to view available actions for member records, dynamically enabled based on billing context (List Bill IPA or True Group) and user privileges.

**Initiate Manual Refund**
When member has unapplied balance exceeding zero and user possesses refund privileges in List Bill IPA context, user is able to initiate refund to individual from member record view.

**Review Pending Amendments**
User is able to view amendments not yet billed for member records in either billing context to assess upcoming billing impacts.

**Manage Premium and Benefit Calculations**
User is able to view modal premium information and trigger recalculation of Annualized Next Year Benefit values for financial accuracy.


**Acceptance Criteria:**

**Conditional Action Availability**
Given billing context is List Bill IPA with member unapplied balance greater than zero, when user has refund privileges, then refund initiation action becomes available.

**Context-Driven Action Display**
Given billing context is List Bill True Group or IPA, when user accesses member record, then actions for viewing amendments, modal premium, and ANYB recalculation are enabled.

**Privilege-Based Access Control**
Given user lacks refund initiation privileges, when member record shows positive balance, then system prevents access to manual refund action.

**Refund Processing Validation**
Given refund action is initiated, when financial conditions are verified, then system processes refund to individual and updates account balance accordingly.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=636887783"
]

---

#### Feature: Determine Product State Reset Eligibility During Rewrite
- **Role**: Billing Administrator
- **Action**: determine product state reset eligibility when processing policy and member record rewrites
- **Value**: billing invoices reflect accurate policy changes and maintain data integrity throughout the rewrite lifecycle

**Description:**

As a **Billing Administrator**,
I want to **determine product state reset eligibility when processing policy and member record rewrites**,
So that **billing invoices reflect accurate policy changes and maintain data integrity throughout the rewrite lifecycle**


**Key Capabilities:**

**Rewrite Request Initiation**
User is able to trigger Master Policy or Member Record rewrite processing within the billing system for policy modification scenarios.

**Eligibility Assessment**
Upon rewrite request, system evaluates product state reset eligibility based on policy type, billing cycle status, and existing invoice obligations.

**Invoice Behavior Management**
System determines invoice generation, suspension, or adjustment logic during active rewrite processing to maintain billing accuracy.

**State Transition Execution**
When eligibility is confirmed, system resets product state while preserving historical billing data and audit trails for compliance purposes.


**Acceptance Criteria:**

**Successful Rewrite Eligibility Determination**
Given a Master Policy or Member Record rewrite request, When the system evaluates eligibility criteria, Then product state reset is approved or denied based on billing cycle and invoice status.

**Invoice Behavior Preservation**
Given an active rewrite process, When invoices are pending or finalized, Then system prevents state changes that would corrupt billing integrity or create duplicate charges.

**Audit Trail Maintenance**
Given a completed rewrite with state reset, When reviewing billing history, Then all original and modified policy states are traceable with timestamp and reason codes.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=728241075"
]

---

#### Feature: Generate Billing Account Hold Activity Messages
- **Role**: Billing Administrator
- **Action**: generate and distribute hold activity notifications across billing management systems
- **Value**: stakeholders are informed of account status changes, enabling timely intervention and compliance with billing policies

**Description:**

As a **Billing Administrator**,
I want to **generate and distribute hold activity notifications across billing management systems**,
So that **stakeholders are informed of account status changes, enabling timely intervention and compliance with billing policies**


**Key Capabilities:**

**1. Hold Event Detection**
System monitors billing accounts and identifies hold status changes requiring notification

**2. Message Generation**
Upon detection of hold activity, system automatically creates standardized hold activity messages with relevant account context

**3. Message Distribution**
System routes generated messages to configured downstream systems and stakeholder interfaces
    3.1 Messages delivered to billing operations teams
    3.2 Notifications sent to customer management platforms

**4. Activity Tracking**
System logs all generated hold messages for audit and reconciliation purposes


**Acceptance Criteria:**

**1. Hold Status Change Detection**
Given a billing account undergoes hold activation or release, When the status change is committed, Then system generates corresponding hold activity message within defined timeframe

**2. Message Content Completeness**
Given hold activity message is generated, When message construction completes, Then message includes account identifier, hold type, timestamp, and triggering event details

**3. Successful Distribution**
Given hold activity message is created, When distribution process executes, Then message is delivered to all configured recipient systems without data loss

**4. Audit Trail Persistence**
Given message generation and distribution occur, When processes complete, Then system retains comprehensive activity log for compliance verification


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=622794471"
]

---

#### Feature: Generate Billing Account Hold Removal Activity Messages
- **Role**: Billing Administrator
- **Action**: generate and communicate hold removal activity messages for billing accounts
- **Value**: ensure stakeholders are promptly notified of account accessibility changes and maintain operational transparency

**Description:**

As a **Billing Administrator**,
I want to **generate and communicate hold removal activity messages for billing accounts**,
So that **stakeholders are promptly notified of account accessibility changes and maintain operational transparency**


**Key Capabilities:**

**1. Hold Removal Initiation**
User is able to trigger hold removal activity through deletion, manual expiration, or standard removal procedures on the billing account

**2. Activity Message Generation**
Upon successful hold removal execution, system automatically generates standardized activity messages documenting the removal event with timestamp and actor details

**3. Stakeholder Notification**
System distributes hold removal messages to configured recipients and downstream systems requiring billing account status updates

**4. Audit Trail Maintenance**
When hold removal completes, system persists activity messages within the billing domain model for compliance and historical tracking purposes


**Acceptance Criteria:**

**1. Successful Hold Removal Messaging**
Given a valid billing account hold exists, When administrator executes removal action, Then system generates activity message and distributes to configured channels

**2. Message Content Completeness**
Given hold removal is processed, When activity message is generated, Then message contains account identifier, hold details, removal timestamp, and actor information

**3. Failed Removal Handling**
Given hold removal encounters validation errors, When removal cannot complete, Then system prevents message generation and notifies administrator of failure reason

**4. Historical Activity Retrieval**
Given hold removal messages are generated, When user queries billing account history, Then all removal activities are accessible through account activity log


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=610905330"
]

---

#### Feature: Display Amendment-Driven Product Segment Alerts
- **Role**: Billing Administrator
- **Action**: view amendment-driven alerts for product segment modifications
- **Value**: I maintain visibility into billing configuration changes triggered by policy amendments and ensure accurate billing setup tracking

**Description:**

As a **Billing Administrator**,
I want to **view amendment-driven alerts for product segment modifications**,
So that **I maintain visibility into billing configuration changes triggered by policy amendments and ensure accurate billing setup tracking**


**Key Capabilities:**

**Amendment Detection & Alert Triggering**
When billing product segments are modified by policy amendments, the system identifies the change condition and prepares alert notification.

**Contextualized Warning Presentation**
User is able to view standardized warning alerts displaying amendment-driven modifications with effective dates and change context.

**Temporal Change Tracking**
The system populates dynamic amendment effective dates within alert messages, enabling administrators to correlate billing changes with policy timelines.


**Acceptance Criteria:**

**Amendment Alert Activation**
Given a product segment modified by policy amendment, When the billing administrator accesses the account setup, Then the system displays a warning alert indicating amendment-driven modification.

**Effective Date Communication**
Given an amendment-triggered alert, When the alert is rendered, Then the system populates the amendment effective date dynamically within the warning message.

**Visual Standards Compliance**
Given any amendment alert display, When rendered to the user, Then the system applies standardized warning visual treatment per design system specifications.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=766218529"
]

---

#### Feature: Alert on Failed Member Record Transitions
- **Role**: Billing Administrator
- **Action**: receive immediate notification when member record transitions to billing accounts fail
- **Value**: I can quickly identify and resolve transition errors, maintaining accurate billing account assignments and preventing revenue disruption

**Description:**

As a **Billing Administrator**,
I want to **receive immediate notification when member record transitions to billing accounts fail**,
So that **I can quickly identify and resolve transition errors, maintaining accurate billing account assignments and preventing revenue disruption**


**Key Capabilities:**

**1. Transition Initiation**
User initiates member record movement between billing account types (Individual Direct to Group, Group to Individual Direct, or new Individual Direct setup)

**2. System Validation & Error Detection**
System validates transition eligibility against business rules and account constraints. Upon detecting incompatibility or validation failure, system prevents transition execution

**3. Error Notification Delivery**
System displays prominent alert identifying the specific billing account number where transition failed, enabling immediate issue recognition

**4. Alert Management**
User acknowledges the error notification and dismisses alert. Member record remains in original billing state pending resolution


**Acceptance Criteria:**

**1. Failed Transition Detection**
Given a member transition violates business rules, When system processes the transition request, Then system blocks execution and triggers error alert with specific billing account identifier

**2. Error Visibility**
Given transition failure has occurred, When alert is displayed, Then user receives clear notification including the target billing account number preventing ambiguity

**3. Member Record Integrity**
Given transition has failed, When user dismisses the alert, Then member record retains original billing account assignment without partial updates

**4. Alert Dismissal**
Given error alert is displayed, When user acknowledges notification, Then alert can be dismissed while maintaining error context for remediation


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=543266313"
]

---

#### Feature: Integrate Customer Data for Billing Account Payor Details
- **Role**: Billing Administrator
- **Action**: link shared customer entities across multiple billing accounts without duplication
- **Value**: customers with multiple accounts maintain consistent contact and payment information efficiently

**Description:**

As a **Billing Administrator**,
I want to **link shared customer entities across multiple billing accounts without duplication**,
So that **customers with multiple accounts maintain consistent contact and payment information efficiently**


**Key Capabilities:**

**1. Customer Entity Repository Management**
System maintains centralized customer-level entities including addresses, phone numbers, emails, and payment methods that can be independently created and updated.

**2. Cross-Account Entity Assignment**
User is able to associate any existing customer entity with one or multiple billing accounts simultaneously, establishing flexible connections without data replication.

**3. Independent Connection Control**
When managing entity assignments, user is able to independently enable or disable entity connections for each billing account, allowing stage-switchable relationship management.

**4. Multi-Account Entity Utilization**
Upon assignment, a single customer entity automatically becomes available across all linked billing accounts while maintaining referential integrity.


**Acceptance Criteria:**

**1. Shared Entity Creation**
Given a customer exists, when the administrator creates contact or payment entities at customer level, then these entities are available for assignment to any billing account associated with that customer.

**2. Multi-Account Assignment**
Given multiple billing accounts exist for one customer, when an entity is linked to multiple accounts, then the entity is accessible across all linked accounts without duplication.

**3. Independent Connection Management**
Given an entity is shared across accounts, when the administrator modifies the connection status for one account, then other account connections remain unaffected and independently manageable.

**4. Data Consistency**
Given an entity is shared, when updates occur at the customer level, then all linked billing accounts reflect the changes automatically.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=507457515"
]

---

#### Feature: Restrict Billing Account Creation with Privilege Controls
- **Role**: Billing Administrator
- **Action**: establish billing accounts with role-based access restrictions
- **Value**: only authorized personnel can create and configure billing structures, ensuring data integrity and compliance

**Description:**

As a **Billing Administrator**,
I want to **establish billing accounts with role-based access restrictions**,
So that **only authorized personnel can create and configure billing structures, ensuring data integrity and compliance**


**Key Capabilities:**

**1. Access Authorization Validation**
System verifies user privileges before permitting billing account creation workflows across all contexts (individual direct, master policy, location/division).

**2. Account Type Selection**
User is able to initiate appropriate billing account creation based on business context and authorized scope.
    2.1 When creating individual direct accounts, system enforces individual-level privilege requirements
    2.2 When establishing master policy billing, system validates master policy administration rights

**3. Configuration Management**
User is able to define billing structures including split billing arrangements within authorized boundaries.

**4. Lifecycle Integration**
Upon successful creation, system integrates billing account with conversion services and related policy structures maintaining privilege inheritance


**Acceptance Criteria:**

**1. Privilege Enforcement**
Given a user lacks billing account creation privileges, When attempting to access creation workflows, Then system denies access and prevents unauthorized account establishment.

**2. Context-Appropriate Creation**
Given an authorized user initiates account creation, When selecting account type, Then system presents only context-appropriate options matching user's privilege scope.

**3. Configuration Validation**
Given billing account setup is in progress, When user submits configuration, Then system validates all parameters against privilege boundaries before persisting.

**4. Audit Trail**
Given billing account creation completes, When reviewing account history, Then system records creator identity and privilege level at time of creation.

**5. Cross-Service Integration**
Given new billing account is established, When interfacing with conversion services, Then privilege controls persist across integrated systems


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=561844172"
]

---

#### Feature: Support Seasonal Billing Gap Configuration
- **Role**: Billing Administrator
- **Action**: configure seasonal billing gaps within invoice schedules to accommodate business cycles with paused billing periods
- **Value**: invoice generation aligns with seasonal service delivery patterns, preventing unnecessary billing during inactive periods and improving customer satisfaction

**Description:**

As a **Billing Administrator**,
I want to **configure seasonal billing gaps within invoice schedules to accommodate business cycles with paused billing periods**,
So that **invoice generation aligns with seasonal service delivery patterns, preventing unnecessary billing during inactive periods and improving customer satisfaction**


**Key Capabilities:**

**1. Access Advanced Invoice Schedule Configuration**
User navigates to billing account setup and toggles to Advanced view to expose seasonal billing gap parameters alongside standard invoice frequency settings.

**2. Define Seasonal Billing Gap Parameters**
User specifies date ranges during which invoice generation should be suspended while maintaining billing account active status and product associations.

**3. Configure Recurring Gap Patterns**
User establishes repeating seasonal patterns with effective and expiration dates to support multi-year billing cycles without manual intervention.

**4. Validate Gap Configuration Against Existing Schedule**
System ensures seasonal gaps do not conflict with committed billing obligations and alerts user to potential revenue recognition impacts.


**Acceptance Criteria:**

**1. Seasonal Gap Creation**
Given a billing account with monthly invoice frequency, When user defines seasonal gap from June 1 to August 31, Then system suspends invoice generation during specified period while preserving billing account active status.

**2. Multi-Year Recurring Gaps**
Given user configures annual recurring gap pattern, When pattern effective date arrives, Then system automatically applies gap to subsequent years until expiration date without manual configuration.

**3. Conflict Prevention**
Given existing invoicing commitments during proposed gap period, When user attempts to save configuration, Then system prevents creation and identifies conflicting billing obligations.

**4. Version Control**
Given seasonal gap configuration change, When user sets future effective date, Then system maintains current billing behavior until effective date and transitions automatically.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=439136044"
]

---

### Epic: Premium Adjustments & Credit Lifecycle

#### Feature: Apply Premium Waivers to Member Records
- **Role**: Billing Administrator
- **Action**: apply premium waivers to member records and recalculate billing obligations
- **Value**: eligible members maintain active coverage without premium burden during qualifying hardship periods while ensuring accurate billing adjustments and account reconciliation

**Description:**

As a **Billing Administrator**,
I want to **apply premium waivers to member records and recalculate billing obligations**,
So that **eligible members maintain active coverage without premium burden during qualifying hardship periods while ensuring accurate billing adjustments and account reconciliation**


**Key Capabilities:**

**1. Premium Waiver Initiation**
System receives waiver request from policy or claims source with member identification and effective date based on trigger method

**2. Transaction Date Determination**
System establishes effective date: policy-triggered waivers use waiver start date; claims-triggered waivers use approval period start date

**3. Premium Obligation Recalculation**
System recalculates modal premium from effective date forward, removing charges from waiver start date; prorates premium when waiver begins mid-period

**4. Retroactive Invoice Adjustment**
Upon detecting previously generated invoices within affected period, system updates amendments not yet billed and reconciles account balances through payment unallocation

**5. Documentation and Tracking**
System marks member records with waiver flag, updates billing documents with waiver labels, generates activity notifications, and fires business events for generated or discarded invoices


**Acceptance Criteria:**

**1. Waiver Application Validation**
Given active member record exists, When waiver transaction is received with valid effective date, Then system accepts waiver and initiates billing recalculation process

**2. Premium Elimination from Effective Date**
Given waiver effective date is established, When modal premium recalculation executes, Then zero premium is billed from waiver start date forward across all subsequent billing periods

**3. Mid-Period Proration Handling**
Given waiver begins during active billing period, When premium calculation occurs, Then system prorates charges for actual days before waiver and eliminates remaining period charges

**4. Retroactive Invoice Reconciliation**
Given invoices were generated and paid before waiver effective date, When system detects affected periods, Then payment unallocation occurs and account balance reflects negative item reconciliation

**5. Audit Trail and Documentation**
Given waiver processing completes successfully, When billing records are accessed, Then member displays waiver flag with start date in premium history and activity notification is generated


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=831724055"
]

---

#### Feature: Remove Premium Waivers from Member Records
- **Role**: Billing Administrator
- **Action**: remove premium waivers from qualified member records and restore standard billing
- **Value**: billing accuracy is maintained and premium collection resumes appropriately when waiver conditions cease

**Description:**

As a **Billing Administrator**,
I want to **remove premium waivers from qualified member records and restore standard billing**,
So that **billing accuracy is maintained and premium collection resumes appropriately when waiver conditions cease**


**Key Capabilities:**

**Waiver Termination Initiation**
System receives premium waiver removal request from upstream policy or claims systems with effective termination date reflecting policy action or claim approval period completion.

**Member Record Update & Premium Recalculation**
System updates member billing status, recalculates modal premium amounts for affected billing periods, and applies proration for partial period waivers based on actual premium obligation days.

**Historical Invoice Reconciliation**
When previously generated invoices exist within waiver period, system calculates billing amendments and adjusts account balances accordingly.

**Billing Documentation Update**
System regenerates draft bills and invoices with restored premium amounts, applies waiver period labels, and updates premium history displays with waiver start and end dates.

**Audit Trail & Event Publication**
System creates billing activity records, fires business events for affected invoices, and triggers balance recalculation for downstream processes.


**Acceptance Criteria:**

**Waiver Removal Processing**
Given a valid waiver removal request with termination date, when billing system processes the transaction, then member record status updates and premium restoration begins from specified date.

**Premium Calculation Accuracy**
Given waiver termination mid-billing period, when system recalculates premiums, then prorated amounts reflect actual obligation days and appear in current and future invoices.

**Historical Period Handling**
Given existing invoices overlapping waiver period, when system processes removal, then billing amendments calculate correctly and account balances adjust to reflect restored obligations.

**Documentation Consistency**
Given affected billing periods, when draft bills or invoices generate, then premium amounts exclude waiver period, waiver labels display appropriately, and premium history shows complete waiver lifecycle.

**Audit & Integration**
Given successful waiver removal, when transaction completes, then billing activity record exists, business events publish for affected invoices, and downstream balance calculations trigger.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=833651801"
]

---

#### Feature: Recalculate Invoice Balances for Waived Premiums
- **Role**: Billing Administrator
- **Action**: process premium waiver adjustments and recalculate invoice balances
- **Value**: accurate invoicing reflects waived premiums and ensures compliant financial records

**Description:**

As a **Billing Administrator**,
I want to **process premium waiver adjustments and recalculate invoice balances**,
So that **accurate invoicing reflects waived premiums and ensures compliant financial records**


**Key Capabilities:**

**1. Premium Waiver Initiation**
Upon waiver request from policy subsystem or claims approval, system validates trigger source and member eligibility, ensuring mutual exclusivity of policy versus claims triggers.

**2. Effective Date and History Validation**
System verifies waiver effective date alignment with premium history records and validates billing period eligibility, handling multi-policy scenarios per defined rules.

**3. Model Premium Calculation**
System recalculates model premium amounts, applying waiver adjustments based on billing type (self-administered or standard) and suspension status.

**4. Invoice Balance Update**
System updates universal collection records, generates revised invoices with adjusted amounts, and updates policy and member records with waiver indicators.

**5. Expiration Monitoring**
When waiver expiration period is reached or member becomes ineligible, system removes waiver status and reverts to standard premium billing.

**6. Historical Period Processing**
If billing periods exist since waiver start or end dates, system processes retroactive adjustments and recalculates historical balances.


**Acceptance Criteria:**

**1. Trigger Source Validation**
Given a premium waiver request, When system identifies trigger source as policy or claims, Then system prevents processing if both triggers exist for same member and enforces mutual exclusivity.

**2. Effective Date Compliance**
Given waiver effective date, When system validates against premium history records, Then system prevents processing if alignment fails and requires date correction.

**3. Multi-Policy Handling**
Given member belongs to multiple policies, When waiver is initiated, Then system applies multi-policy validation rules and processes each policy accordingly.

**4. Model Premium Adjustment**
Given waiver approval and billing type determination, When system recalculates model premium, Then invoice reflects zero or adjusted premium amounts per waiver rules.

**5. Expiration Processing**
Given waiver expiration date is reached, When system validates expiration status, Then system removes waiver indicators and restores standard premium billing.

**6. Incomplete Data Prevention**
Given waiver data submission, When mandatory validation criteria are not met, Then system prevents invoice generation until data completeness is achieved.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=591345826"
]

---

#### Feature: Notify Stakeholders of Premium Waiver Status Changes
- **Role**: Billing Administrator
- **Action**: notify stakeholders when premium waiver status changes occur
- **Value**: stakeholders remain informed of billing adjustments and can take timely downstream actions

**Description:**

As a **Billing Administrator**,
I want to **notify stakeholders when premium waiver status changes occur**,
So that **stakeholders remain informed of billing adjustments and can take timely downstream actions**


**Key Capabilities:**

**1. Premium Waiver Status Monitoring**
System continuously tracks premium waiver lifecycle events including approval, modification, expiration, and termination across product portfolios.

**2. Stakeholder Identification and Routing**
Upon status change detection, system determines relevant stakeholders based on product type, account ownership, and organizational rules, then routes notifications accordingly.

**3. Multi-Channel Notification Delivery**
System delivers status change alerts through configured channels ensuring timely stakeholder awareness with relevant context and action requirements.

**4. Audit Trail Maintenance**
System records all notification events, delivery confirmations, and stakeholder acknowledgments for compliance and reconciliation purposes.


**Acceptance Criteria:**

**1. Status Change Detection**
Given a premium waiver status changes, When the system processes the adjustment, Then all designated stakeholders receive notification within defined timeframes.

**2. Stakeholder Routing Accuracy**
Given multiple products with different waiver rules, When status changes occur, Then notifications route only to relevant stakeholders based on product and account context.

**3. Incomplete Data Handling**
Given stakeholder contact information is missing or invalid, When notification is triggered, Then system escalates through fallback channels and logs the exception.

**4. Audit Completeness**
Given any waiver status change, When notifications are sent, Then system maintains complete audit trail including timestamps, recipients, and delivery status.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=603366426"
]

---

### Epic: Premium Calculation & Billing Models

#### Feature: Calculate Modal Premium Amount Based on Modality
- **Role**: Billing Administrator
- **Action**: recalculate modal premiums when member plan amendments occur with billing account or modality changes
- **Value**: premium amounts accurately reflect prorated charges across billing periods and accounts, ensuring correct billing transitions

**Description:**

As a **Billing Administrator**,
I want to **recalculate modal premiums when member plan amendments occur with billing account or modality changes**,
So that **premium amounts accurately reflect prorated charges across billing periods and accounts, ensuring correct billing transitions**.


**Key Capabilities:**

**Amendment Evaluation & Account Determination**
Upon receiving a member plan amendment, system identifies transaction date, amendment effective date, and determines whether billing account changes occur due to class/location modifications under Bill per Class or Bill per Location configurations.

**Modal Period Alignment Assessment**
System evaluates whether amendment effective date aligns with modal period start dates on both old and new billing accounts, using product effective date as anchor for period calculation via BR>Calculate Modal periods.

**Premium Deactivation on Source Account**
When member transitions billing accounts, system deactivates modal premium on old account from amendment effective date, calculating prorated charges using daily rate for partial periods when effective date falls mid-period.

**Premium Activation on Target Account**
System activates modal premium on new billing account using new modality (if changed) from amendment effective date, applying proration when effective date does not align with period boundaries, calculating days and amounts via BR>Prorate Modal Premium.

**Modality Change Handling**
When modality changes occur, system maintains original modality for old account calculations while recalculating modal periods on new account using new modality from product effective date, ensuring clean transitions at period boundaries.

**Monetary Rounding & Finalization**
All prorated premium amounts undergo HALF_UP rounding method per BR>Rounding standards, with results recorded against respective modal periods and billing accounts with active/inactive status flags.


**Acceptance Criteria:**

**Aligned Amendment Without Account Change**
Given amendment effective date aligns with modal period start and member remains in same billing account, When plan change processes, Then system deactivates old premium and activates new premium from effective date without proration calculations.

**Mid-Period Amendment With Account Transfer**
Given amendment effective date falls mid-period and member moves between billing accounts under Bill per Class setup, When amendment processes, Then system calculates prorated premiums on both accounts using respective daily rates, applies HALF_UP rounding, and sets old account to $0 from effective date forward.

**Modality Change With Partial Alignment**
Given amendment involves modality change (bi-weekly to monthly) and effective date aligns with new account period start but falls mid-period on old account, When amendment processes, Then system prorates old account using original modality and activates new account at full premium using new modality without proration.

**Period Calculation Anchoring**
Given any amendment scenario requiring modal period determination, When system calculates periods, Then modal periods are always calculated from product effective date using BR>Calculate Modal periods, not from amendment effective date.

**Proration Formula Application**
Given amendment effective date requires proration on any account, When system calculates partial period charges, Then prorated premium equals daily rate multiplied by days in partial period, with result rounded using HALF_UP method per BR>Rounding mode standards.

**Premium Status Management**
Given amendment with billing account change processes successfully, When premiums are finalized, Then old account shows inactive status with $0 amounts from effective date forward and new account shows active status with calculated amounts from effective date forward.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=668240723"
]

---

#### Feature: Prorate Modal Premium for Mid-Period Transactions
- **Role**: Billing Administrator
- **Action**: split prorated modal premium amounts proportionally across multiple premium sequences when mid-period policy transactions occur
- **Value**: accurate premium distribution ensures correct payment allocation, compensation notifications, and billing integrity across premium sequences

**Description:**

As a **Billing Administrator**,
I want to **split prorated modal premium amounts proportionally across multiple premium sequences when mid-period policy transactions occur**,
So that **accurate premium distribution ensures correct payment allocation, compensation notifications, and billing integrity across premium sequences**


**Key Capabilities:**

**1. Retrieve Prorated Period Baseline**
System calculates unrounded modal premium amounts for each prorated period using daily rate logic when transaction effective date falls mid-modal period.

**2. Determine Premium Sequence Holder Effectiveness**
For each prorated period, system identifies active Premium Sequence Holders based on effective and expiration dates, setting inactive holder amounts to zero.

**3. Calculate Proportional Distribution Coefficients**
System computes coefficient per holder (annual amount  sum of all annual amounts) and applies to prorated period amount without rounding.

**4. Aggregate Premium Sequence Portions**
System sums holder portions across all prorated periods for each Premium Sequence, calculates sequence coefficient against total distributed amount, then applies to whole modal premium.

**5. Apply Rounding Integrity Adjustment**
System rounds each sequence portion to two decimals, tracks rounding differences, and adds cumulative adjustment to last Premium Sequence to eliminate discrepancies.


**Acceptance Criteria:**

**1. Mid-Period Transaction Triggers Proration**
Given Multiple Premium Sequence support is enabled and transaction occurs mid-modal period, When system calculates modal premium, Then multiple prorated periods are created with unrounded amounts for each period.

**2. Inactive Holders Excluded from Distribution**
Given Premium Sequence Holder effective date exceeds prorated period start or expiration date precedes period end, When system calculates coefficients, Then holder's annual amount is set to zero for that period.

**3. Proportional Distribution Maintains High Precision**
Given multiple prorated periods exist, When system calculates holder portions using coefficients, Then all intermediate calculations retain full decimal precision without rounding until final step.

**4. Premium Sequence Portions Sum to Modal Premium**
Given all sequence portions are calculated, When system applies rounding adjustments to last Premium Sequence, Then sum of all rounded sequence portions equals the rounded modal premium amount with zero discrepancy.

**5. Multiple Transactions Create Additional Periods**
Given more than one transaction occurs within same modal period, When system processes proration, Then additional prorated periods are created and calculated sequentially without premature rounding.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=746133917"
]

---

#### Feature: Split Modal Premium Across Multiple Premium Sequences
- **Role**: Billing Administrator
- **Action**: proportionally distribute prorated modal premiums across multiple premium sequences based on effective transaction dates and holder allocations
- **Value**: accurate billable item projections, invoice generation, payment allocation by priority, and compensation domain notifications are achieved per premium sequence

**Description:**

As a **Billing Administrator**,
I want to **proportionally distribute prorated modal premiums across multiple premium sequences based on effective transaction dates and holder allocations**,
So that **accurate billable item projections, invoice generation, payment allocation by priority, and compensation domain notifications are achieved per premium sequence**.


**Key Capabilities:**

**1. Prorated Period Amount Retrieval**
System retrieves unrounded modal premium amounts for each prorated period within the billing cycle, applying daily rate calculations before any transaction effective dates.

**2. Premium Sequence Holder Distribution Calculation**
For each prorated period, system determines effective holders, calculates coefficients based on annual amounts, and derives holder-level portions without rounding.

**3. Multi-Period Aggregation**
When multiple transactions occur within modal period, system iterates calculations across all prorated periods and aggregates holder portions.

**4. Premium Sequence Consolidation**
System sums all holder amounts by premium sequence, calculates sequence-level coefficients against total distributed amount, and applies HALF_UP rounding to all sequences except the last.

**5. Final Rounding Adjustment**
System accumulates rounding differences and applies cumulative adjustment to last premium sequence, ensuring sum equals whole modal premium amount.

**6. Output Generation**
System produces billable items, invoice line items, payment allocation instructions, and compensation notifications at billing product item plus premium sequence granularity.


**Acceptance Criteria:**

**1. Prorated Period Integrity**
Given multiple premium sequences are enabled and a transaction occurs mid-modal period, when system calculates prorated amounts per period, then unrounded daily rate logic produces period amounts that sum to whole modal premium.

**2. Holder Effectiveness Validation**
Given premium sequence holders with defined effective and expiration dates, when system evaluates holder effectiveness for a prorated period, then only holders active during that period receive non-zero coefficient calculations.

**3. Coefficient Calculation Accuracy**
Given effective holders for a prorated period, when system calculates distribution coefficients, then each coefficient equals holder annual amount divided by sum of all effective holder annual amounts for that period.

**4. Sequence Aggregation Correctness**
Given holder portions calculated across multiple prorated periods, when system aggregates by premium sequence, then sequence total equals sum of all associated holder portions without premature rounding.

**5. Rounding Difference Reconciliation**
Given sequence portions require rounding, when system applies HALF_UP strategy to all but last sequence, then accumulated rounding differences adjust the last sequence portion ensuring sum integrity.

**6. End-to-End Sum Validation**
Given all premium sequences have final rounded portions, when system sums all sequence amounts, then total equals the whole modal premium amount with zero discrepancy preventing downstream allocation errors.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=746133917"
]

---

#### Feature: Calculate Modal Periods by Modality Type
- **Role**: Billing Administrator
- **Action**: calculate modal billing periods based on policy effective dates and modality frequencies
- **Value**: premiums are accurately scheduled and aligned with policy lifecycles for timely revenue collection

**Description:**

As a **Billing Administrator**,
I want to **calculate modal billing periods based on policy effective dates and modality frequencies**,
So that **premiums are accurately scheduled and aligned with policy lifecycles for timely revenue collection**


**Key Capabilities:**

**1. Modal Premium Initiation**
Upon policy activation, system identifies Modal Premium Effective Date (Master Policy or Member Record effective date) and determines assigned modality frequency

**2. Initial Period Establishment**
System calculates first modal period with start date equal to Modal Premium Effective Date and end date based on modality-specific duration rules

**3. Subsequent Period Generation**
System creates rolling periods where each new period starts the day after previous period ends, applying modality-specific calculations with month-end and date-alignment handling

**4. Policy Lifecycle Alignment**
When policy is non-perpetual, system ensures last modal period aligns with policy expiration date, excluding incomplete periods; perpetual policies continue indefinitely

**5. Modality Change Processing**
If modality changes, system recalculates all periods from original Modal Premium Effective Date using new frequency rules

**6. Billable Item Creation**
System generates billable items with period-from as modal start date and period-to as modal end date plus one day (exclusive)


**Acceptance Criteria:**

**1. Period Calculation Accuracy**
Given a policy with defined modality, When system calculates modal periods, Then first period starts on Modal Premium Effective Date and each period length matches modality specifications (7 days for Weekly, 14 for Bi-Weekly, etc.)

**2. Month-End Date Handling**
Given Modal Premium Effective Date is January 31st with Monthly modality, When calculating February period, Then system uses February 28th (or 29th for leap year) as the largest valid date

**3. Non-Perpetual Policy Termination**
Given a policy with expiration date, When last modal period is calculated, Then period end date aligns with last day of policy effective period without exceeding expiration date

**4. Perpetual Policy Continuity**
Given a perpetual policy, When modal periods are generated, Then periods continue indefinitely without calendar year constraints until policy cancellation

**5. Modality Change Recalculation**
Given an existing policy with established periods, When modality changes, Then system recalculates all periods from original Modal Premium Effective Date using new modality rules

**6. Billable Item Period Mapping**
Given calculated modal periods, When billable items are created, Then billableItem.periodFrom equals modal start date and billableItem.periodTo equals modal end date plus one day as exclusive value


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=447622140"
]

---

#### Feature: Calculate Paid-to-Date for List Bill Accounts
- **Role**: Billing Administrator
- **Action**: calculate and maintain accurate paid-to-date status for list bill accounts using dual calculation methods
- **Value**: I can ensure precise coverage period tracking, support timely cancellation decisions, and maintain billing account accuracy across premium changes and payment events

**Description:**

As a **Billing Administrator**,
I want to **calculate and maintain accurate paid-to-date status for list bill accounts using dual calculation methods**,
So that **I can ensure precise coverage period tracking, support timely cancellation decisions, and maintain billing account accuracy across premium changes and payment events**


**Key Capabilities:**

**1. Dual-Method PTD Calculation Initiation**
System calculates PTD using daily-rate method (cumulative premium vs allocated payments) and invoice-payment method (fully paid invoice sequences), selecting maximum value as billing account PTD.

**2. Daily Rate Method Processing**
System computes daily rates from annual premiums, accumulates daily premiums from member effective dates, and identifies latest date where total allocated funds equal or exceed cumulative premium.

**3. Invoice Payment Method Processing**
System determines PTD based on fully paid invoice sequences, handling unpaid gaps by projecting periods forward from last paid invoice before gap.
    3.1 When seasonal billing gaps exist, system adjusts calculation to skip billing periods within seasonal gap.
    3.2 When first invoice remains unpaid, system returns NULL regardless of subsequent paid invoices.

**4. Dynamic PTD Recalculation**
Upon payment allocation, reversal, transfer, or amendment events, system immediately recalculates both methods and updates billing account PTD to reflect current payment status.

**5. Member Record-Specific PTD Application**
System applies billing account PTD to individual member records, substituting member effective date when billing account PTD precedes member coverage start.

**6. Cancellation and Reinstatement Handling**
When member cancellations or reinstatements occur, system recalculates daily rates from event dates, adjusts PTD calculations accordingly, and freezes cancelled member PTD at cancellation boundaries when applicable.


**Acceptance Criteria:**

**1. Dual-Method Calculation Accuracy**
Given billing account with allocated payments and paid invoices, When system calculates PTD, Then both daily-rate and invoice-payment methods execute independently and maximum value becomes billing account PTD.

**2. Payment Event Responsiveness**
Given payment allocation, reversal, or transfer event occurs, When system processes transaction, Then PTD recalculates immediately using updated payment allocation state across all affected invoices.

**3. Premium Amendment Impact**
Given amendment changes premium amounts, When system processes amendment, Then daily rates recalculate from amendment effective date forward and PTD updates based on new rate structure.

**4. Member-Specific PTD Overrides**
Given member record effective date exceeds calculated billing account PTD, When system determines member PTD, Then member effective date supersedes billing account PTD for that specific member.

**5. Cancellation Boundary Enforcement**
Given member cancellation when PTD exceeds cancellation date, When system processes cancellation, Then cancelled member PTD freezes at day before cancellation effective date while active members continue using billing account PTD.

**6. Null State Handling**
Given no allocated payments or no fully paid invoices exist, When system calculates PTD, Then system returns NULL and interface displays member record effective date as coverage reference point.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=603359848"
]

---

#### Feature: Calculate Paid-to-Date for Self-Bill Accounts
- **Role**: Billing Administrator
- **Action**: Calculate and maintain paid-to-date coverage for master policies based on sequential invoice payment completion
- **Value**: Accurate premium coverage tracking ensures billing integrity and prevents coverage gaps or disputes

**Description:**

As a **Billing Administrator**,
I want to **calculate and maintain paid-to-date coverage for master policies based on sequential invoice payment completion**,
So that **accurate premium coverage tracking ensures billing integrity and prevents coverage gaps or disputes**


**Key Capabilities:**

**1. Initial Coverage Baseline Establishment**
Upon master policy activation without invoices, system sets PTD to NULL (inclusive strategy) or policy effective date (exclusive strategy) as coverage baseline.

**2. Sequential Invoice Payment Processing**
When invoice receives full payment in sequence, system advances PTD to invoice period end date (inclusive) or end date plus one day (exclusive), ensuring contiguous coverage progression.

**3. Partial Payment Constraint Management**
If invoice receives partial payment, system retains PTD at previous fully paid invoice end date, preventing coverage advancement until full payment completion.

**4. Payment Reversal Impact Handling**
Upon payment reversal or decline, system immediately recalculates PTD to revert to last contiguous fully paid invoice end date, maintaining coverage integrity.

**5. Out-of-Sequence Payment Gap Resolution**
When later invoice is paid before earlier invoice, system advances PTD only to earliest unpaid invoice end date, not the actually paid invoice, until gaps are backfilled sequentially.


**Acceptance Criteria:**

**1. Baseline PTD Initialization**
Given master policy exists without generated invoices, When system initializes coverage tracking, Then PTD equals NULL (inclusive) or policy effective date (exclusive) based on configured strategy.

**2. Sequential Full Payment Advancement**
Given invoice is fully paid with no prior unpaid invoices, When payment is applied, Then PTD advances to invoice period end date or end date plus one day per strategy.

**3. Partial Payment Constraint Enforcement**
Given invoice receives partial payment, When system evaluates PTD, Then PTD remains at previous fully paid invoice end date regardless of later invoice payment status.

**4. Payment Reversal Immediate Rollback**
Given previously fully paid invoice has payment reversed, When reversal processes, Then PTD immediately recalculates to last contiguous fully paid invoice end date.

**5. Gap Prevention in Out-of-Sequence Payments**
Given later invoice is paid while earlier invoice remains unpaid, When system calculates PTD, Then PTD advances only to earliest unpaid invoice end date until gap is sequentially closed.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=678436159"
]

---

#### Feature: Calculate Paid-to-Date for Individual Direct Accounts
- **Role**: Billing Administrator
- **Action**: Calculate and manage paid-to-date (PTD) values for member records transitioning to Individual Direct billing accounts
- **Value**: Accurate premium accounting and payment tracking are maintained during member billing transitions, ensuring correct eligibility determination and claims processing

**Description:**

As a Billing Administrator,
I want to calculate and manage paid-to-date (PTD) values for member records transitioning to Individual Direct billing accounts,
So that accurate premium accounting and payment tracking are maintained during member billing transitions, ensuring correct eligibility determination and claims processing


**Key Capabilities:**

**1. Member Transition Initiation**
User initiates member record movement from List Bill (group) to Individual Direct billing account with specified transition effective date. System validates transition parameters and prepares billing account for record transfer.

**2. PTD Freezing and Adjustment**
Upon transition initiation, system evaluates PTD against transition effective date. If PTD exceeds transition date, system freezes PTD using formula (transition date - 1 day). PTD remains frozen on source billing account while new PTD calculation begins on Individual Direct account.

**3. Invoice and Payment Reconciliation**
System handles existing invoices and payments during transition. When transition date is in past, existing invoices are not discarded; modal premiums are prorated if transition date falls mid-period. Daily rate calculations restart from transition effective date on Individual Direct account.

**4. PTD Calculation for Individual Direct**
System calculates PTD using combined strategies (PTD = max\{PTD(invoice), PTD(daily rate)\}). Cumulative daily premium accumulates from transition date until allocated payment threshold is met. PTD remains NULL until first payment received, displaying member record effective date in user interfaces.

**5. External System Integration**
Upon request, system provides appropriate PTD value to external subsystems based on current date and transition dates. Prior to transition date, source billing account PTD is provided; post-transition, Individual Direct account PTD is provided. System handles scenarios where PTD is NULL by returning member record effective date.

**6. Cancellation and Reinstatement Handling**
When member record is cancelled, system recalculates PTD based on cancellation effective date. If cancellation date equals member effective date or transition date, PTD becomes NULL. Upon reinstatement, system recalculates PTD considering any coverage lapse periods, adjusting daily rate calculations accordingly.


**Acceptance Criteria:**

**1. Transition Date Validation**
Given a member record on List Bill billing account with PTD of 3/31/2022
When member is moved to Individual Direct with transition date 3/1/2022 (prior to PTD)
Then system freezes PTD for member at 3/1/2022 (exclusive) on source account, and Individual Direct PTD starts as NULL until payment received

**2. Prorated Premium Calculation**
Given member transition effective date falls mid-billing period (e.g., 3/15/2022 in monthly cycle)
When first invoice is generated on Individual Direct account
Then system prorates modal premium for partial period (e.g., 15 days  daily rate) and calculates PTD accordingly upon payment

**3. PTD Calculation with Payments**
Given member on Individual Direct account with no prior payments (PTD = NULL)
When payment is received covering cumulative daily premium through specific date
Then system calculates PTD as last date where cumulative daily premium equals or exceeds allocated payment, displayed exclusively in UI

**4. API Response Based on Transition Status**
Given member transitioned to Individual Direct on 5/1/2022 with current date 4/15/2022
When external system requests PTD value
Then system returns PTD from source List Bill account; when current date is 5/1/2022 or later, system returns Individual Direct account PTD or NULL if not yet calculated

**5. Cancellation Impact on PTD**
Given member with PTD of 3/31/2022 on Individual Direct account
When member is cancelled with effective date 3/15/2022 (prior to PTD)
Then system recalculates PTD to 3/14/2022 (inclusive) by zeroing daily rate from cancellation date, freezing PTD at cancellation date minus one day

**6. Reinstatement Without Lapse**
Given cancelled member with frozen PTD
When member is reinstated with effective date equal to cancellation date (no gap)
Then system restores daily rate calculations and recalculates PTD to pre-cancellation value, allowing further PTD progression with new payments


**Reference URLs:**

[
  "/pages/viewpage.action?pageId=555080661",
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=607695512"
]

---

#### Feature: Process Member Record Plan Changes
- **Role**: Billing Administrator
- **Action**: process member plan amendments with automatic premium recalculation and billing adjustments
- **Value**: accurate billing reflects coverage changes immediately while maintaining premium integrity across billing accounts

**Description:**

As a Billing Administrator,
I want to process member plan amendments with automatic premium recalculation and billing adjustments,
So that accurate billing reflects coverage changes immediately while maintaining premium integrity across billing accounts


**Key Capabilities:**

**1. Amendment Initiation**
User initiates plan amendment specifying transaction date and effective date; system identifies plan change type (direct plan change or class-driven change)

**2. Billing Account Evaluation**
System determines if member moves between billing accounts based on class change and billing setup; evaluates whether modality changes due to account transfer

**3. Period Alignment Analysis**
System evaluates if amendment effective date aligns with modal period start dates on affected billing accounts; determines proration requirements based on alignment

**4. Premium Calculation & Adjustment**
System calculates or prorates modal premiums using daily rate formula; deactivates old modal premium and activates new modal premium on appropriate billing accounts; applies proration when effective date falls mid-period using daily rate  days calculation with HALF_UP rounding

**5. Modal Period Reconfiguration**
Upon modality change on new billing account, system recalculates modal periods from original product effective date using new modality; retains original modality on previous billing account per business rule


**Acceptance Criteria:**

**1. Aligned Effective Date - Same Account**
Given member plan change within same billing account with effective date matching modal period start, When amendment is processed, Then system deactivates old premium and activates new premium without proration from effective date forward

**2. Class-Driven Plan Change with Alignment**
Given class change triggering billing account movement with effective date matching modal period start on both accounts, When amendment is processed, Then system deactivates premium on old account and activates premium on new account without proration, calculating modal periods from original product effective date

**3. Mid-Period Amendment with Proration**
Given amendment effective date falling mid-period on billing account, When system processes plan change, Then system calculates prorated premium using daily rate  applicable days with HALF_UP rounding on affected accounts

**4. Modality Change with Cross-Account Transfer**
Given class change causing member transfer between accounts with different modalities, When amendment is processed, Then system retains original modality on old account, recalculates modal periods using new modality on new account from product effective date, and applies proration rules based on alignment evaluation

**5. Premium Activation Timing**
Given completed amendment processing across billing accounts, When effective date is reached, Then system ensures deactivated premiums show zero values and activated premiums reflect correct amounts from specified period forward


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=668240723"
]

---

#### Feature: Process Member Record Payroll Frequency Changes
- **Role**: Billing Administrator
- **Action**: manage member payroll frequency transitions with automated premium adjustments
- **Value**: premiums are accurately calculated and prorated across billing accounts while maintaining billing integrity during frequency changes

**Description:**

As a **Billing Administrator**,
I want to **manage member payroll frequency transitions with automated premium adjustments**,
So that **premiums are accurately calculated and prorated across billing accounts while maintaining billing integrity during frequency changes**


**Key Capabilities:**

**1. Transition Initiation**
Upon payroll frequency amendment, system identifies old and new billing accounts/modalities and evaluates alignment of effective date with respective modal period starts.

**2. Old Account Deactivation**
System deactivates modal premium on old billing account from amendment date. When date misaligns with period start, proration applied using daily rate calculation.

**3. New Account Activation**
System activates modal premium on new billing account from amendment date. Proration applied if date misaligns with new period start calculated from product effective date.

**4. Premium Calculation**
System calculates prorated premiums using daily rate (Annual Premium  Days in Year  Partial Period Days) with HALF_UP rounding. Full modal premiums apply for subsequent complete periods.

**5. Same-Account Modality Changes**
When frequency changes within single billing account, both old and new modalities coexist with distinct active periods and independent proration rules.

**6. Continuation Flow Handling**
System persists modality changes through continuation transitions and places returning members on billing accounts corresponding to current frequency.


**Acceptance Criteria:**

**1. Dual Proration Independence**
Given amendment effective date, When date alignment evaluated separately for old and new accounts, Then proration applied independently based on each account's period start alignment.

**2. Aligned Date Processing**
Given amendment date aligns with old account period start, When transition processed, Then old account deactivated without proration and new account prorated if misaligned with its period start.

**3. Misaligned Date Proration**
Given amendment date misaligns with both period starts, When transition executed, Then both accounts receive prorated premiums using daily rate for partial periods.

**4. Calculation Accuracy**
Given annual premium and partial period days, When proration calculated, Then daily rate multiplied by days and rounded using HALF_UP mode to two decimals.

**5. Multi-Transaction Persistence**
Given sequential frequency changes across continuation flows, When member returns from Individual Direct, Then member placed on billing account matching current modality with accurate premium activation.

**6. Zero Premium Display**
Given new billing account activation date, When prior periods queried, Then periods before activation display zero premium values.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=662936050"
]

---

#### Feature: Recalculate Modal Premium on Billing Account Changes
- **Role**: Billing Administrator
- **Action**: recalculate modal premium amounts when member records transition between billing accounts
- **Value**: billing accuracy is maintained and prorated premiums reflect actual coverage periods during account transitions

**Description:**

As a **Billing Administrator**,
I want to **recalculate modal premium amounts when member records transition between billing accounts**,
So that **billing accuracy is maintained and prorated premiums reflect actual coverage periods during account transitions**


**Key Capabilities:**

**1. Validate Premium Expiration Alignment**
System determines if current Modal Premium expiration date aligns with Modal Period start date. Upon misalignment during account transition, system initiates proration workflow.

**2. Determine Proration Requirements**
System evaluates whether premium for the specific modal period requires proration based on transaction effective date and billing account change type.

**3. Apply Billing Model Configuration**
When Seasonal Gap in Billing is disabled, system calculates standard daily rate and prorates accordingly. If Seasonal Billing is enabled, system applies modal-based seasonal calculation methodology.

**4. Execute Premium Calculation**
System calculates daily rate, prorates modal premium, rounds to two decimal places using HALF_UP strategy, and applies premium splits across multiple sequences.

**5. Finalize Premium Record**
System creates Product Modal Amount record with prorated value and appropriate period boundaries, then terminates future premium calculations on the old billing account.


**Acceptance Criteria:**

**1. Aligned Expiration Scenario**
Given expiration date aligns with Modal Period start date, When billing account changes, Then system stops calculating billable items and adds expiration date without proration.

**2. Misaligned Expiration with Standard Billing**
Given expiration date does NOT align with Modal Period start and Seasonal Billing is disabled, When transition occurs, Then system calculates prorated premium using daily rate methodology and rounds to two decimals.

**3. Seasonal Billing Exception**
Given Seasonal Gap in Billing is enabled on old account, When proration is required, Then system applies modal-based seasonal calculation instead of standard daily rate.

**4. Premium Split Application**
Given prorated modal premium is calculated, When multiple premium sequences exist, Then system distributes prorated amount across sequences per split rules.

**5. Account Termination**
Given premium recalculation completes on old billing account, When Product Modal Amount is created, Then system prevents future modal period calculations for that product on the old account.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=523017173"
]

---

#### Feature: Calculate Modal Premium for Seasonal Billing
- **Role**: Billing Administrator
- **Action**: calculate and prorate modal premiums for seasonal billing arrangements
- **Value**: members receive accurate premium amounts reflecting excluded billing periods and mid-cycle changes

**Description:**

As a **Billing Administrator**,
I want to **calculate and prorate modal premiums for seasonal billing arrangements**,
So that **members receive accurate premium amounts reflecting excluded billing periods and mid-cycle changes**


**Key Capabilities:**

**1. Determine Active Billing Periods**
System identifies excluded billing months from configuration and calculates actual paymode as active billing cycles within annual period.

**2. Compute Modal Premium Amount**
System divides annual premium by active billing periods, applying standard rounding conventions to derive recurring payment amount.

**3. Calculate Daily Premium Rate**
Upon policy amendment or change, system computes daily rate using modal premium divided by calendar days in affected billing period.

**4. Prorate Premium for Mid-Cycle Changes**
When changes occur within billing period, system calculates weighted premium using pre-change and post-change daily rates multiplied by respective time segments.


**Acceptance Criteria:**

**1. Accurate Modal Premium Calculation**
Given annual premium and excluded billing periods are defined, When system calculates modal premium, Then amount equals annual premium divided by number of active billing months with proper rounding.

**2. Precise Proration for Policy Changes**
Given policy amendment occurs mid-billing cycle, When system prorates modal premium, Then amount reflects weighted calculation using daily rates before and after change date.

**3. Configuration-Driven Exclusion Handling**
Given different excluded period configurations exist, When modal premium is calculated, Then system adapts to varying paymode denominators while maintaining calculation integrity.

**4. Calendar-Aware Daily Rate Computation**
Given billing periods have varying month lengths, When daily rate is computed, Then system applies correct day count for affected calendar month.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=741915400"
]

---

#### Feature: Configure Billing Account Setup by Grouping Rules
- **Role**: Billing Administrator
- **Action**: configure billing account grouping rules to consolidate premium billing
- **Value**: policies are billed accurately according to business segmentation requirements

**Description:**

As a **Billing Administrator**,
I want to **configure billing account grouping rules to consolidate premium billing**,
So that **policies are billed accurately according to business segmentation requirements**


**Key Capabilities:**

**1. Billing Account Configuration**
User is able to establish billing account parameters and define grouping criteria for policy consolidation

**2. Grouping Rule Definition**
User is able to specify business rules that determine which policies aggregate under shared billing accounts

**3. Account Relationship Management**
User is able to associate policies to billing accounts based on configured grouping logic

**4. Billing Model Validation**
System validates grouping rules against premium calculation requirements and billing constraints


**Acceptance Criteria:**

**1. Successful Account Configuration**
Given valid grouping parameters, When administrator configures billing account rules, Then system establishes account structure with applied grouping logic

**2. Rule Validation**
Given incomplete or conflicting grouping criteria, When configuration is attempted, Then system prevents establishment and identifies constraint violations

**3. Policy Association**
Given established billing account with grouping rules, When eligible policies exist, Then system automatically associates policies per configured criteria

**4. Legacy Model Handling**
Given deprecated single-bill models exist, When migration to account-based billing occurs, Then system maintains billing continuity during transition


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=466114578"
]

---

#### Feature: Adjust Premium for Self-Bill Accounts
- **Role**: Billing Administrator
- **Action**: adjust premium calculations for self-bill billing accounts across billing periods
- **Value**: accurate premium amounts are maintained reflecting policy changes and business adjustments

**Description:**

As a **Billing Administrator**,
I want to **adjust premium calculations for self-bill billing accounts across billing periods**,
So that **accurate premium amounts are maintained reflecting policy changes and business adjustments**


**Key Capabilities:**

**1. Premium Review & Context Assessment**
User accesses billing account and reviews current premium structure across master policies, plan-coverage combinations, and reporting periods. System displays hierarchical premium breakdown with current amounts and transaction alerts.

**2. Adjustment Execution**
User modifies premium components (lives, volume, adjusted amounts) either manually or via automatic recalculation. System highlights manual overrides and validates business rules.

**3. Validation & Confirmation**
Upon confirmation, system validates totals match aggregated amounts, prevents negative values, ensures required data completeness. When validation succeeds, system persists adjustments and triggers variance tracking.

**4. Concurrent Change Management**
If concurrent edits detected, system alerts user and provides refresh capability to review latest data before reapplying changes.


**Acceptance Criteria:**

**1. Successful Premium Adjustment**
Given user has modified premium components, When confirmation is triggered with valid data, Then system saves adjustments, triggers variance processing, and returns to previous view.

**2. Interim Save Capability**
Given user has unsaved modifications, When save without confirmation is executed, Then system preserves changes in draft state allowing later resumption without full validation.

**3. Validation Enforcement**
Given user enters invalid data (negative values, mismatched totals, missing required fields), When confirmation is attempted, Then system prevents submission and displays validation requirements.

**4. Automatic Recalculation**
Given automatic calculation is enabled, When user requests reversal of manual adjustments, Then system recalculates based on rate factors and removes manual override indicators.

**5. Transaction Impact Visibility**
Given policy transactions (amendments, cancellations, renewals) affect premium structure, When adjustment view is accessed, Then system displays transaction alerts and highlights impacted segments.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=526293901"
]

---

#### Feature: Track Variance on Self-Admin Billing Accounts
- **Role**: Billing Administrator
- **Action**: adjust and validate premium variances for self-administered billing accounts across reporting periods
- **Value**: accurate premium reconciliation and automated variance detection support timely financial adjustments

**Description:**

As a **Billing Administrator**,
I want to **adjust and validate premium variances for self-administered billing accounts across reporting periods**,
So that **accurate premium reconciliation and automated variance detection support timely financial adjustments**


**Key Capabilities:**

**Premium Review Initiation**
User accesses billing period information displaying total premium aggregates, policy structures, and plan-coverage combinations with associated reporting periods.

**Adjustment Configuration**
User enables automatic calculation based on insured lives and volumes, or manually overrides adjusted amounts for specific product segments and reporting periods.

**Delta Calculation & Aggregation**
System computes variance between current baseline amounts and adjusted amounts, updating totals across plan-coverage combinations and billing period aggregates in real-time.

**Validation & Persistence**
Upon confirmation, system validates non-negative adjusted amounts, reconciles aggregates, applies optimistic locking to prevent concurrent updates, and triggers variance calculation workflows if configured.

**Exception Handling**
When validation fails or policy transactions void product segments, system displays contextual errors, disables affected inputs, and filters obsolete reporting periods from adjustment scope.


**Acceptance Criteria:**

**Successful Premium Adjustment**
Given a billing period with multiple plan-coverage combinations, when the user adjusts amounts and confirms, then system persists changes, calculates variances, and initiates downstream reconciliation processes.

**Automatic Calculation Toggle**
Given automatic calculation is enabled, when user overrides specific adjusted amounts manually, then system highlights manual entries and allows reversal to auto-calculated values.

**Validation Enforcement**
Given invalid data entry (negative values or empty required fields), when user attempts confirmation, then system prevents persistence and displays field-level error indicators.

**Concurrent Update Prevention**
Given another user has modified the same billing account, when user attempts to save, then system rejects the operation and prompts for data refresh.

**Voided Segment Handling**
Given policy amendments void product segments, when user accesses the billing period, then system displays zeroed values with disabled inputs and filters obsolete reporting periods from view.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=526293901"
]

---

#### Feature: Generate Payment Requests Automatically
- **Role**: Billing Administrator
- **Action**: generate payment requests automatically based on billing cycles and business rules
- **Value**: I can ensure timely and accurate invoicing without manual intervention, reducing errors and improving cash flow management

**Description:**

As a **Billing Administrator**,
I want to **generate payment requests automatically based on billing cycles and business rules**,
So that **I can ensure timely and accurate invoicing without manual intervention, reducing errors and improving cash flow management**


**Key Capabilities:**

**1. Billing Cycle Orchestration**
System identifies billing accounts eligible for invoice generation based on configured billing periods and policy events

**2. Invoice Generation Date Calculation**
System applies business rules to determine appropriate invoice generation timing aligned with billing account configuration and calendar events

**3. Payment Due Date Determination**
System calculates payment deadlines by processing business rules against invoice date, billing terms, and applicable grace periods

**4. Payment Request Creation**
System generates payment requests with calculated amounts, due dates, and billing account references for distribution and collection processing


**Acceptance Criteria:**

**1. Automated Invoice Trigger**
Given a billing period ends, When system evaluates billing accounts, Then payment requests are generated only for eligible accounts with active policies

**2. Date Calculation Accuracy**
Given configured business rules, When invoice and due dates are calculated, Then dates comply with billing account terms and calendar business day rules

**3. Complete Request Generation**
Given calculated dates and premium amounts, When payment request is created, Then all required billing references and payment details are included

**4. Error Handling**
Given incomplete billing data or rule conflicts, When generation process executes, Then system prevents request creation and logs exceptions for administrator review


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=790073890"
]

---

#### Feature: Validate Active Modal Amount on Billing Account
- **Role**: Billing Administrator
- **Action**: validate active modal amounts on billing accounts during premium calculation setup
- **Value**: billing accuracy is ensured and invoice generation errors are prevented through proper modal amount configuration

**Description:**

As a **Billing Administrator**,
I want to **validate active modal amounts on billing accounts during premium calculation setup**,
So that **billing accuracy is ensured and invoice generation errors are prevented through proper modal amount configuration**


**Key Capabilities:**

**1. Billing Account Configuration Access**
User is able to access billing account settings where modal amounts are configured and maintained.

**2. Active Modal Amount Validation**
System validates that active modal amounts align with billing product configuration rules and premium calculation requirements.
    2.1 Upon validation failure, system identifies specific configuration conflicts
    2.2 When amounts exceed thresholds, system flags for administrator review

**3. Invoice Generation Readiness Verification**
User is able to confirm billing account readiness for manual or automated invoice generation workflows based on validated modal amounts.


**Acceptance Criteria:**

**1. Valid Configuration Acceptance**
Given a billing account with properly configured modal amounts, When validation is executed, Then system confirms account readiness for invoice generation.

**2. Configuration Error Detection**
Given modal amounts conflicting with billing product rules, When validation runs, Then system prevents invoice generation and reports specific issues.

**3. Threshold Compliance**
Given modal amounts within acceptable ranges, When administrator reviews validation results, Then system permits progression to invoice generation workflows without manual override requirements.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=509876853"
]

---

#### Feature: View Modal Premium History and Versions
- **Role**: Billing Analyst
- **Action**: access and review comprehensive historical records of modal premium changes and versions for certificates
- **Value**: I can audit premium evolution, verify billing accuracy, and understand the impact of transactions and organizational changes on premium amounts over time

**Description:**

As a **Billing Analyst**,
I want to **access and review comprehensive historical records of modal premium changes and versions for certificates**,
So that **I can audit premium evolution, verify billing accuracy, and understand the impact of transactions and organizational changes on premium amounts over time**


**Key Capabilities:**

**1. Premium History Retrieval**
User is able to access complete historical records of modal premium changes by selecting a certificate, displaying all versions and effective dates organized by coverage and plan types.

**2. Transaction Context Analysis**
User is able to review transaction details that triggered premium changes, including transaction types, effective dates, and associated organizational classifications across billing periods.

**3. Billing Status Tracking**
User is able to identify special billing conditions such as stopped billing from non-forfeiture, seasonal updates, reinstatements, and premium waiver periods through visual indicators.

**4. Active Premium Identification**
User is able to determine the currently active modal premium record based on version hierarchy, effective dates, and classification segment priority rules.


**Acceptance Criteria:**

**1. Certificate Selection and Display**
Given a certificate with premium history, When the analyst selects the certificate, Then the system displays all historical modal premium records sorted by version and effective date descending.

**2. Transaction Impact Visibility**
Given premium changes from policy transactions, When reviewing history, Then the system shows transaction types, dates, and organizational classifications for each premium version.

**3. Special Billing Conditions**
Given non-forfeiture events or seasonal adjustments, When viewing affected records, Then the system displays appropriate indicators for stopped billing, seasonal updates, or reinstatements.

**4. Active Record Determination**
Given multiple premium versions, When the system evaluates business rules, Then the current active premium is highlighted based on version hierarchy and classification segment priority.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=538486041"
]

---

#### Feature: Create and Display Modal Premium Versions by Transaction Type
- **Role**: Billing Administrator
- **Action**: manage modal premium versions across policy lifecycle transactions with automated version tracking and proration
- **Value**: premium amounts remain accurate and auditable throughout policy changes, transitions, and backdated adjustments while ensuring only current versions generate billing

**Description:**

As a **Billing Administrator**,
I want to **manage modal premium versions across policy lifecycle transactions with automated version tracking and proration**,
So that **premium amounts remain accurate and auditable throughout policy changes, transitions, and backdated adjustments while ensuring only current versions generate billing**


**Key Capabilities:**

**1. Receive and Process Policy Transactions**
System ingests policy transactions with effective dates and determines if proration is required based on modal period alignment.

**2. Create and Version Modal Premium Records**
System assigns origin version upon creation and maintains current version for active billing. Duplicates existing modal amounts with incremented versions to preserve audit trail.

**3. Apply Transaction-Specific Business Logic**
System handles new business, amendments, portability, continuation, cancellation, reinstatement, rewrite, and renewal with appropriate versioning and amount calculations.

**4. Manage Out-of-Sequence Transaction Processing**
When transactions arrive with earlier effective dates, system deactivates affected subsequent versions, recalculates impacted amounts, and performs roll-on operations to reapply changes chronologically.

**5. Execute Proration for Mid-Period Changes**
System creates prorated modal amount for partial current period and full modal amount for subsequent period when transaction dates fall between modal period boundaries.

**6. Handle Premium Waiver and Account Transitions**
System generates offsetting positive and negative amounts for waivers and transfers modal premiums across billing accounts during portability or continuation events while maintaining version integrity.


**Acceptance Criteria:**

**1. Standard Transaction Versioning**
Given a policy transaction is received, When the transaction effective date aligns with modal period start, Then system creates modal amount with new version as both origin and current without proration.

**2. Mid-Period Proration**
Given a transaction effective date falls within a modal period, When the system processes the transaction, Then two modal amounts are created: prorated for current period remainder and full amount from next period start.

**3. Out-of-Sequence Transaction Handling**
Given an OOS transaction with earlier effective date arrives, When system processes it, Then all subsequent affected transactions become inactive and roll-on process generates new versions with OOS changes incorporated.

**4. Account Transition Integrity**
Given a portability or continuation transaction occurs, When member moves between billing accounts, Then modal amounts with version 0 are created on source account and appropriate amounts on target account effective from transition date.

**5. Billing Generation Accuracy**
Given multiple modal amount versions exist, When billable items are generated, Then only current active versions from productModalAmounts table are used while inactive versions remain for audit.

**6. Premium Waiver Offsetting**
Given premium waiver is activated, When system creates waiver records, Then positive amount with NWT code and equal negative amount with NWT_PW code are generated resulting in zero net billing during waiver period.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=576498936"
]

---

#### Feature: Process Premium Sequences from Policy Transactions
- **Role**: Billing Administrator
- **Action**: process and apply premium sequence splits to modal premium amounts based on policy transaction events
- **Value**: premium amounts are accurately distributed across holders and billing periods, ensuring correct invoicing and financial tracking

**Description:**

As a **Billing Administrator**,
I want to **process and apply premium sequence splits to modal premium amounts based on policy transaction events**,
So that **premium amounts are accurately distributed across holders and billing periods, ensuring correct invoicing and financial tracking**


**Key Capabilities:**

**1. Policy Transaction Event Reception**
System receives policy transaction events for List Bill or Individual Direct policies, including member additions, amendments, cancellations, reinstatements, renewals, and transfers.

**2. Premium Sequence Processing and Holder Registration**
System processes premium sequences and registers holders, mapping them to billing product items while maintaining historical data.

**3. Effective Date Alignment Validation**
System validates transaction effective dates against modal period boundaries to determine prorated versus non-prorated processing paths.

**4. Premium Split Application**
Upon alignment confirmation, system applies standard splits to modal amounts. When misalignment detected, system applies prorated split calculations.

**5. Billed Invoice Status Verification**
If billed invoices exist for transaction periods, system calculates and updates Amendments Not Yet Billed values at premium sequence level instead of proceeding with standard processing.


**Acceptance Criteria:**

**1. Policy Event Processing**
Given a policy transaction is issued, When the calculatePremiumSequence event is published and multiple premium sequence configuration is enabled, Then the billing system receives and initiates processing.

**2. Non-Prorated Split Application**
Given transaction effective date aligns with modal period start and no billed invoices exist, When premium sequences are processed, Then standard splits are applied to modal premium amounts across billing product items.

**3. Prorated Split Calculation**
Given transaction effective date does not align with modal period start, When premium sequence processing occurs, Then prorated splits are calculated and applied, bypassing standard split logic.

**4. Billed Invoice Scenario Handling**
Given billed invoices exist for transaction effective date periods, When processing is initiated, Then system updates Amendments Not Yet Billed values without modifying existing invoices.

**5. Holder Registration and Mapping**
Given premium sequences are processed successfully, When completion occurs, Then all sequences and holders are registered and mapped to billing product items with historical data preserved.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=696500203"
]

---

#### Feature: Allocate Payments Across Premium Sequences
- **Role**: Billing Administrator
- **Action**: allocate payments proportionally across multiple premium sequences
- **Value**: accurate revenue distribution and transparent policy holder accounting is maintained

**Description:**

As a **Billing Administrator**,
I want to **allocate payments proportionally across multiple premium sequences**,
So that **accurate revenue distribution and transparent policy holder accounting is maintained**


**Key Capabilities:**

**Payment Intake & Validation**
User is able to receive payment against invoices containing multiple premium sequences, validating total amount and invoice applicability.

**Proportional Allocation Execution**
Upon payment confirmation, system allocates payment proportionally across all active premium sequences based on modal premium splits without priority weighting.

**Invoice Item Distribution**
System distributes allocated amounts to invoice items at premium sequence level, calculating proportional shares across all sequences.

**Allocation Event Generation**
When allocation completes, system fires PTI distribution event containing invoice items with related premium sequence information for downstream processing.

**Unallocation Processing**
If policy transaction triggers invoice discard or regeneration, system unallocates previously applied payments and fires reversal events with premium sequence details.

**Multi-Invoice Coverage**
When payment exceeds single invoice balance, system allocates surplus across subsequent invoices following standard priority rules while maintaining premium sequence tracking.


**Acceptance Criteria:**

**Proportional Allocation Success**
Given multiple active premium sequences exist, When full payment is applied to invoice, Then payment is distributed proportionally across all sequences based on modal premium splits and PTI event is fired.

**Partial Payment Distribution**
Given invoice contains multiple premium sequences, When partial payment is submitted, Then system allocates amount proportionally across sequences and tracks remaining balances per sequence.

**Unallocation on Transaction**
Given payment was previously allocated, When backdated amendment triggers invoice regeneration, Then system unallocates payment and fires reversal PTI event with original premium sequence details.

**Zero-Amount Sequence Handling**
Given amendment changes premium sequence amount to zero, When payment is allocated, Then system excludes zero-amount sequence from distribution and allocates across remaining active sequences.

**Multi-Invoice Allocation**
Given payment exceeds first invoice balance, When allocation processes, Then surplus distributes to subsequent invoices and separate PTI events fire for each invoice with respective premium sequence information.

**Removed Sequence Exclusion**
Given premium sequence flagged as removed, When new payment is applied, Then system prevents allocation to removed sequence and distributes only across active sequences.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=758591679"
]

---

#### Feature: Configure Proration for First Invoicing Period
- **Role**: Billing Administrator
- **Action**: configure modal period alignment to enable or disable proration for the initial billing cycle
- **Value**: I can ensure accurate first invoice amounts based on member effective dates and organizational billing policies

**Description:**

As a **Billing Administrator**,
I want to **configure modal period alignment to enable or disable proration for the initial billing cycle**,
So that **I can ensure accurate first invoice amounts based on member effective dates and organizational billing policies**


**Key Capabilities:**

**1. Modal Period Alignment Configuration**
User is able to enable or disable modal period alignment setting to control first billing period calculation methodology.

**2. Aligned Period Processing (When Configuration Enabled)**
Upon activation, system identifies the invoicing period containing the member effective date and aligns the first modal period start date to that invoicing period start date, triggering proration calculation.

**3. Direct Assignment Processing (When Configuration Disabled)**
When disabled, system sets first modal period start date equal to member effective date without alignment or proration.


**Acceptance Criteria:**

**1. Configuration Activation**
Given configuration is enabled, When member effective date falls within an invoicing period, Then system aligns first modal period to invoicing period start and calculates prorated premium.

**2. Configuration Deactivation**
Given configuration is disabled, When member record is processed, Then system assigns first modal period start date equal to member effective date without proration.

**3. Date Relationship Validation**
Given aligned configuration, When identifying invoicing period, Then system confirms invoicing period start date precedes member effective date which precedes invoicing period end date.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=573316911"
]

---

#### Feature: Display Consolidated Billing Views by Customer Hierarchy
- **Role**: Billing Administrator
- **Action**: view consolidated billing information across customer hierarchies
- **Value**: I can monitor and manage financial obligations for group sponsors and their organizational structures in a unified view

**Description:**

As a **Billing Administrator**,
I want to **view consolidated billing information across customer hierarchies**,
So that **I can monitor and manage financial obligations for group sponsors and their organizational structures in a unified view**


**Key Capabilities:**

**1. Access Consolidated Billing Dashboard**
User navigates to billing workspace for non-individual customer (group sponsor) to access consolidated views.

**2. Review Aggregated Financial Metrics**
User views aggregated balance figures including due and unpaid amounts, amendments not yet billed, and total billing account balances across the customer hierarchy.

**3. Navigate Hierarchical Billing Structures**
User explores billing accounts organized by organizational levels (group sponsor, location, division), with selective display based on account existence.
    3.1 User expands hierarchical tabs to view billing accounts per organizational level
    3.2 User accesses additional accounts beyond default display threshold

**4. Examine Account-Level Details**
User drills into individual billing accounts to review account identifiers, employment attributes, invoicing frequency, payment history, and balance breakdowns.

**5. Analyze Invoice Status Indicators**
User assesses invoice health through status summaries showing overdue, issued, and partially paid invoice counts.

**6. Review Product Associations**
User identifies products linked to billing accounts through product identifiers and classifications.


**Acceptance Criteria:**

**1. Consolidated View Accessibility**
Given a group sponsor customer exists with associated billing accounts, When the user accesses the billing workspace, Then the system presents consolidated billing views with aggregated financial metrics and hierarchical navigation options.

**2. Financial Data Aggregation Accuracy**
Given multiple billing accounts exist across organizational levels, When the consolidated view is displayed, Then the system accurately calculates and presents aggregated balances, unpaid amounts, and amendments across the entire customer hierarchy.

**3. Hierarchical Navigation Functionality**
Given billing accounts exist at different organizational levels, When the user navigates between hierarchical tabs, Then the system displays only tabs with associated billing accounts and preserves expansion states during navigation.

**4. Account Detail Expansion**
Given billing accounts are initially collapsed, When the user expands an account card, Then the system reveals detailed balance breakdowns, invoice status indicators, and product associations specific to the account type.

**5. Progressive Disclosure Support**
Given more than five billing accounts exist within a hierarchical level, When the default view is displayed, Then the system shows five accounts initially and enables access to remaining accounts through progressive disclosure.

**6. State Persistence**
Given the user has expanded tabs and accounts, When the consolidated view is collapsed and re-expanded, Then the system restores the previous active tab and account expansion states.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=456496163"
]

---

#### Feature: Calculate ANYB Balance via Batch Job
- **Role**: Billing Administrator
- **Action**: automate premium balance calculation through scheduled batch processing
- **Value**: billing accuracy is maintained and account reconciliation is streamlined without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **automate premium balance calculation through scheduled batch processing**,
So that **billing accuracy is maintained and account reconciliation is streamlined without manual intervention**


**Key Capabilities:**

**1. Batch Job Initialization**
System triggers scheduled batch process to calculate ANYB (Any Billing) balances across eligible billing accounts based on configured frequency parameters.

**2. Account Data Aggregation**
System retrieves payment transactions, billing records, refunds, and member account data required for balance computation.

**3. Balance Computation Execution**
System applies billing rules and premium calculation logic to determine current balance status for each account within scope.

**4. Result Persistence & Reconciliation**
System updates account balances, generates reconciliation reports, and flags discrepancies for administrator review.

**5. Completion Notification**
Upon successful execution, system logs batch completion status and notifies administrators of any exceptions requiring manual intervention.


**Acceptance Criteria:**

**1. Successful Batch Execution**
Given a scheduled batch job trigger, When the ANYB calculation process executes, Then all in-scope accounts are processed and balances updated without system errors.

**2. Data Integrity Validation**
Given account data retrieval, When calculation occurs, Then system prevents processing if critical billing or payment data is incomplete or corrupted.

**3. Exception Handling**
Given calculation errors for specific accounts, When batch completes, Then system isolates failed records, continues processing remaining accounts, and generates exception report.

**4. Audit Trail Creation**
Given batch completion, When results are persisted, Then system creates comprehensive audit log capturing calculation inputs, outputs, and timestamp for compliance verification.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=790073883"
]

---

#### Feature: Notify Users of ANYB Calculation Status
- **Role**: Billing Administrator
- **Action**: receive real-time confirmation of ANYB calculation initiation
- **Value**: I can verify the process has started and take appropriate follow-up actions

**Description:**

As a **Billing Administrator**,
I want to **receive real-time confirmation of ANYB calculation initiation**,
So that **I can verify the process has started and take appropriate follow-up actions**


**Key Capabilities:**

**Calculation Initiation Confirmation**
When ANYB calculation process is triggered, system immediately notifies the administrator that processing has commenced successfully.

**Status Communication**
System delivers acknowledgment message confirming calculation startup and provides guidance on retrieving updated results.

**Notification Management**
User is able to acknowledge and dismiss confirmation messages after reviewing the status update.


**Acceptance Criteria:**

**Successful Calculation Launch**
Given ANYB calculation is initiated, When the process starts successfully, Then system displays confirmation notification to the administrator.

**Result Retrieval Guidance**
Given calculation has started, When notification appears, Then system instructs user on how to access updated calculation results.

**Notification Dismissal**
Given confirmation message is displayed, When user acknowledges the notification, Then system removes the message from view while retaining calculation status.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=740629630"
]

---

#### Feature: Confirm Current Period Adjustments with User Validation
- **Role**: Billing Administrator
- **Action**: validate and confirm out-of-sequence billing period adjustments
- **Value**: I ensure billing integrity by preventing unintended modifications to non-sequential periods

**Description:**

As a **Billing Administrator**,
I want to **validate and confirm out-of-sequence billing period adjustments**,
So that **I ensure billing integrity by preventing unintended modifications to non-sequential periods**


**Key Capabilities:**

**1. Adjustment Initiation & Validation**
User initiates billing period adjustment. System evaluates period sequence position and invoicing timing configuration (In Advance/On Time) to determine if confirmation is required.

**2. Conditional Confirmation Gate**
When adjustment targets non-first billing period under advance/on-time invoicing, system presents confirmation workflow alerting user to adjust previous periods first.
    2.1 User proceeds with current selection despite warning
    2.2 User cancels to address prior periods sequentially

**3. Adjustment Execution**
Upon confirmation, system processes billing period modifications. If cancelled, system preserves existing billing period state without changes.


**Acceptance Criteria:**

**1. First Period Bypass**
Given first billing period adjustment under advance/on-time invoicing, When user initiates adjustment, Then system proceeds without confirmation.

**2. Out-of-Sequence Warning**
Given non-first period adjustment under advance/on-time invoicing, When user triggers adjustment, Then system displays confirmation with prior period alert.

**3. Confirmed Adjustment Processing**
Given confirmation displayed, When user approves action, Then system executes billing period adjustment.

**4. Cancellation Protection**
Given confirmation displayed, When user declines or dismisses, Then system prevents adjustment and maintains current billing state.

**5. Alternative Timing Exclusion**
Given invoicing timing not set to advance/on-time, When user adjusts any period, Then system bypasses confirmation workflow.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=529966158"
]

---

### Epic: Payment Plans & Installment Configuration

#### Feature: Configure Payment Plan Attributes
- **Role**: Billing Administrator
- **Action**: configure payment plan identification and core attributes
- **Value**: payment plans can be uniquely identified, created, and managed consistently across the billing subsystem

**Description:**

As a **Billing Administrator**,
I want to **configure payment plan identification and core attributes**,
So that **payment plans can be uniquely identified, created, and managed consistently across the billing subsystem**


**Key Capabilities:**

**1. Payment Plan Identifier Establishment**
User is able to define unique payment plan codes using standardized alphanumeric format, ensuring consistent identification across the billing subsystem.

**2. Attribute Validation and Enforcement**
System validates payment plan codes for uniqueness, completeness, and character compliance, preventing duplicate or invalid identifiers during creation.

**3. Payment Plan Instantiation**
Upon successful validation, system creates payment plan records with assigned codes, enabling downstream installment schedule generation and billing operations.


**Acceptance Criteria:**

**1. Unique Identifier Assignment**
Given payment plan configuration is initiated, When a valid alphanumeric code is provided, Then system assigns the unique identifier and enables payment plan creation.

**2. Validation Enforcement**
Given identifier contains spaces or special characters, When submission occurs, Then system prevents creation and requires compliant alphanumeric format.

**3. Duplicate Prevention**
Given an existing payment plan code, When the same code is reused, Then system rejects the duplicate and maintains data integrity across the subsystem.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=211617730"
]

---

#### Feature: Define Payment Plan Frequency and Installment Count
- **Role**: Billing Administrator
- **Action**: configure payment plan frequency and installment schedules
- **Value**: customers receive structured payment arrangements with predictable billing cycles that align with their financial capabilities

**Description:**

As a **Billing Administrator**,
I want to **configure payment plan frequency and installment schedules**,
So that **customers receive structured payment arrangements with predictable billing cycles that align with their financial capabilities**


**Key Capabilities:**

**1. Frequency Parameter Definition**
Administrator defines the billing cycle interval in months between consecutive installments for the payment plan structure.

**2. Installment Schedule Generation**
Upon frequency configuration, system automatically generates the complete payment schedule with calculated due dates based on the specified monthly intervals.

**3. Payment Plan Activation**
When configuration is validated, system activates the payment plan with recurring billing cycles aligned to the defined frequency parameters.


**Acceptance Criteria:**

**1. Valid Frequency Configuration**
Given the administrator initiates payment plan setup, When a valid monthly frequency value is provided, Then the system accepts the configuration and enables schedule generation.

**2. Schedule Creation**
Given frequency parameters are defined, When the payment plan is created, Then the system generates installment schedules with accurate intervals matching the specified frequency.

**3. Mandatory Parameter Enforcement**
Given payment plan creation is initiated, When frequency information is incomplete, Then the system prevents plan activation until required parameters are provided.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=211617699"
]

---

#### Feature: Manage Payment Plan Lifecycle Dates
- **Role**: Billing Administrator
- **Action**: configure and manage payment plan effective dates to control plan availability
- **Value**: I ensure billing operations align with business policies and customer agreements through timely plan activation

**Description:**

As a **Billing Administrator**,
I want to **configure and manage payment plan effective dates to control plan availability**,
So that **I ensure billing operations align with business policies and customer agreements through timely plan activation**


**Key Capabilities:**

**1. Payment Plan Date Configuration**
User is able to establish the effective date when a payment plan becomes active and operational within the billing subsystem.

**2. Lifecycle Activation Control**
Upon setting the effective date, the system enforces plan availability and prevents utilization before the designated activation date.

**3. Date Validation and Enforcement**
System ensures the effective date is populated as a mandatory requirement before plan activation can proceed in billing operations.


**Acceptance Criteria:**

**1. Effective Date Assignment**
Given a new payment plan configuration, When the administrator assigns an effective date, Then the system records the date and marks the plan for future activation.

**2. Mandatory Date Requirement**
Given a payment plan setup, When the effective date is missing, Then the system prevents plan activation and requires date completion.

**3. Activation Enforcement**
Given an effective date in the future, When current date precedes the effective date, Then the system blocks plan availability in billing operations.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=211617691"
]

---

#### Feature: Generate Installment Schedules Based on Payment Plans
- **Role**: Billing Administrator
- **Action**: generate installment schedules for purchased products based on configured payment plans
- **Value**: customers can pay for products over time according to their account payment preferences and service period requirements

**Description:**

As a **Billing Administrator**,
I want to **generate installment schedules for purchased products based on configured payment plans**,
So that **customers can pay for products over time according to their account payment preferences and service period requirements**


**Key Capabilities:**

**Installment Schedule Initiation**
System initiates schedule generation upon product purchase request, validating payment plan configuration matches billing account due day settings and plan type is MONTHLY.

**Anniversary Date Calculation**
System identifies eligible installment due dates within service period boundaries, ensuring dates align to account due day and fall between transaction date and service period end.

**Installment Distribution**
System determines maximum installments based on configured limits and service period duration, generating due dates at specified frequency intervals.

**Amount Allocation**
System calculates per-installment amounts by dividing billable item totals, rounding up to nearest cent, and applying remainder to first installment.

**Schedule Persistence**
System creates installment entities for each billable item with due dates and amounts, returning complete schedule in purchase response.

**Error Handling**
When configuration mismatches or invalid date constraints detected, system prevents schedule generation and returns descriptive error codes.


**Acceptance Criteria:**

**Valid Monthly Schedule Generation**
Given billing account has matching due day configuration and valid service period, When purchase request specifies monthly payment plan without due day override, Then system generates installments aligned to account due day within service period boundaries.

**Maximum Installment Limit Enforcement**
Given payment plan defines maximum installment count, When service period allows more installments than configured maximum, Then system generates only up to maximum configured installments.

**First Installment Amount Calculation**
Given billable amount divided by installment count produces remainder after rounding, When system allocates amounts, Then first installment includes base amount plus total rounding remainder.

**Configuration Mismatch Prevention**
Given no due day configuration matches requested payment plan type, When system validates billing account setup, Then generation fails with error code bil0041.

**Invalid Anniversary Date Handling**
Given no valid anniversary dates exist within service period after transaction date, When system calculates due dates, Then generation fails with error code bil0002.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=213986249"
]

---

#### Feature: Calculate Installment Due Dates Using Anniversary Logic
- **Role**: Billing Administrator
- **Action**: configure and calculate monthly installment due dates using anniversary logic
- **Value**: payment schedules align with account-specific billing cycles and ensure predictable cash flow management

**Description:**

As a **Billing Administrator**,
I want to **configure and calculate monthly installment due dates using anniversary logic**,
So that **payment schedules align with account-specific billing cycles and ensure predictable cash flow management**


**Key Capabilities:**

**1. Validate Billing Account Configuration**
System verifies billing account contains exactly one due days configuration entry with day-of-month type matching monthly payment plan requirements.

**2. Align Payment Plan with Due Day Logic**
System confirms the associated payment plan type is monthly and compatible with the configured due day calculation method.

**3. Calculate Anniversary-Based Due Date**
Upon successful validation, system determines the nearest future date where day of month matches the configured value and assigns it as the invoice anniversary date.

**4. Handle Configuration Exceptions**
When prerequisites are not met, system prevents anniversary date assignment and triggers alternate calculation workflow or manual review.


**Acceptance Criteria:**

**1. Successful Anniversary Date Assignment**
Given a billing account with single day-of-month configuration and monthly payment plan, When all prerequisites validate successfully, Then system calculates and assigns the nearest future anniversary date matching the configured day.

**2. Prerequisite Validation Failure**
Given billing account has multiple due day entries or mismatched payment plan type, When system evaluates configuration, Then anniversary calculation does not proceed and alternate logic is invoked.

**3. Future Date Guarantee**
Given current date and configured day of month, When system calculates anniversary date, Then assigned date is always in the future relative to calculation time.

**4. Configuration Integrity Check**
Given billing account setup, When payment plan type does not equal monthly, Then system prevents use of day-of-month anniversary logic.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=247215023"
]

---

#### Feature: Distribute Premium Amounts Across Installments
- **Role**: Billing Administrator
- **Action**: distribute policy premium across payment installments with automated calculation and date constraints
- **Value**: policyholders receive equitable payment schedules that align with policy coverage periods and account billing preferences

**Description:**

As a **Billing Administrator**,
I want to **distribute policy premium across payment installments with automated calculation and date constraints**,
So that **policyholders receive equitable payment schedules that align with policy coverage periods and account billing preferences**


**Key Capabilities:**

**1. Installment Schedule Initialization**
System generates payment schedule up to maximum allowed installments based on account configuration and policy parameters.

**2. Premium Amount Distribution**
System calculates equal installment amounts by dividing total premium across number of installments; remainder from rounding is allocated to first installment to ensure total accuracy.

**3. Due Date Assignment with Constraints**
System assigns due dates using account billing day preference while enforcing boundaries: due dates cannot precede policy effective date or transaction date, nor exceed policy expiration date.

**4. Schedule Validation and Finalization**
System validates that total installment amounts equal premium and all due dates fall within policy coverage period.


**Acceptance Criteria:**

**1. Equal Distribution Accuracy**
Given premium amount and installment count, When schedule is generated, Then each installment receives equal amount and any rounding remainder is added to first installment.

**2. Due Date Boundary Enforcement**
Given policy effective and expiration dates, When due dates are assigned, Then no due date falls before effective date or transaction date, and none exceed expiration date.

**3. Billing Preference Alignment**
Given account billing due day configuration, When schedule is created, Then installment due dates reflect configured billing day within policy constraints.

**4. Financial Reconciliation**
Given completed installment schedule, When amounts are totaled, Then sum of all installment amounts exactly equals original premium without variance.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=206865674"
]

---

#### Feature: Track Installment Status Transitions
- **Role**: Billing Administrator
- **Action**: monitor and track installment state transitions throughout the billing lifecycle
- **Value**: I can ensure accurate billing execution and maintain visibility of payment plan progression from creation through invoicing

**Description:**

As a **Billing Administrator**,
I want to **monitor and track installment state transitions throughout the billing lifecycle**,
So that **I can ensure accurate billing execution and maintain visibility of payment plan progression from creation through invoicing**


**Key Capabilities:**

**1. Installment Creation and Initial State Assignment**
Upon installment creation within a payment plan, system automatically assigns UNBILLED state as the initial status for tracking purposes.

**2. Invoice Generation Triggering**
User is able to initiate invoice generation through on-demand requests or scheduled batch jobs to process qualifying unbilled installments.

**3. State Transition Execution**
When bill statement generation completes successfully for an installment, system transitions state from UNBILLED to BILLED automatically and irreversibly.

**4. State Validation and Integrity**
System enforces unidirectional state progression and restricts values to valid states only (UNBILLED or BILLED).


**Acceptance Criteria:**

**1. Initial State Assignment**
Given a new installment is created, When the payment plan configuration is finalized, Then the system assigns UNBILLED state automatically.

**2. Invoice-Triggered Transition**
Given an installment in UNBILLED state, When invoice generation (on-demand or scheduled) completes successfully, Then the state transitions to BILLED.

**3. State Persistence**
Given an installment reaches BILLED state, When any subsequent operations occur, Then the state remains BILLED permanently without reverting.

**4. Invalid State Prevention**
Given state transition validation, When any operation attempts invalid state values, Then system rejects the operation maintaining data integrity.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=211630013"
]

---

#### Feature: Classify Installment Types for Deposits and Payments
- **Role**: Billing Administrator
- **Action**: classify and configure installment types within payment plans to distinguish deposits from regular installment payments
- **Value**: the system accurately processes upfront deposit payments and scheduled installments according to the payment plan structure, ensuring correct billing execution

**Description:**

As a **Billing Administrator**,
I want to **classify and configure installment types within payment plans to distinguish deposits from regular installment payments**,
So that **the system accurately processes upfront deposit payments and scheduled installments according to the payment plan structure, ensuring correct billing execution**.


**Key Capabilities:**

**1. Payment Plan Component Definition**
User is able to model deposits and installments as unified billable components representing the complete product or policy payment plan structure.

**2. Deposit Classification**
When payment represents an upfront amount, system classifies installment type as Deposit for initial payment processing.

**3. Installment Classification**
When payment represents a scheduled portion, system classifies installment type as Installment based on payment plan and due date schedule.

**4. Type Assignment Enforcement**
System requires installment type specification for all payment plan components to ensure complete billing configuration.


**Acceptance Criteria:**

**1. Deposit Type Assignment**
Given a payment plan with upfront payment requirement, when the deposit component is configured, then system assigns installmentType as Deposit.

**2. Installment Type Assignment**
Given a payment plan with scheduled payments, when installment components are configured, then system assigns installmentType as Installment with associated due dates.

**3. Mandatory Classification**
Given any payment plan component creation, when installmentType is not specified, then system prevents submission until classification is provided.

**4. Unified Entity Representation**
Given deposits and installments configuration, when payment plan is generated, then system models both as single billable entity maintaining distinct type classifications.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=211630017"
]

---

#### Feature: Calculate Payroll Deduction Dates for Multiple Frequencies
- **Role**: Billing Administrator
- **Action**: configure automated payroll deduction schedules across multiple payment frequencies
- **Value**: I can ensure accurate and compliant payment collection aligned with employer payroll cycles

**Description:**

As a **Billing Administrator**,
I want to **configure automated payroll deduction schedules across multiple payment frequencies**,
So that **I can ensure accurate and compliant payment collection aligned with employer payroll cycles**


**Key Capabilities:**

**1. Payroll Configuration Intake**
User provides deduction start date and frequency parameters (monthly day-of-month, semi-monthly dual days, or weekly/bi-weekly day-of-week)

**2. Initial Deduction Date Determination**
System identifies first valid deduction date on or after start date that complies with specified payroll day configuration

**3. Recurring Schedule Generation**
System calculates subsequent deduction dates using frequency-specific logic: monthly adds one calendar month, semi-monthly alternates between configured days, bi-weekly adds 14 days, weekly adds 7 days

**4. Calendar Anomaly Adjustment**
Upon encountering non-existent dates (e.g., February 30th), system applies month-end substitution and payroll day realignment rules to maintain schedule integrity


**Acceptance Criteria:**

**1. Frequency-Specific Calculation Accuracy**
Given a configured frequency type and payroll parameters, When the system generates the deduction schedule, Then all dates comply with frequency rules (monthly intervals, 14-day bi-weekly, 7-day weekly, alternating semi-monthly)

**2. Start Date Boundary Validation**
Given a payroll deduction start date, When determining the first deduction, Then the system selects the earliest compliant date equal to or after the start date

**3. Non-Existent Date Handling**
Given a calculated date that doesn't exist in the target month, When the system encounters this condition, Then it substitutes the last valid day of that month and adjusts to the next compliant payroll day

**4. Multi-Frequency Schedule Consistency**
Given multiple active payroll frequencies, When schedules are generated simultaneously, Then each maintains independent compliance with its configured parameters without cross-contamination


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=474652625"
]

---

#### Feature: Retrieve Payment Plan Configurations
- **Role**: Billing Administrator
- **Action**: retrieve existing payment plan configurations to review installment terms and billing schedules
- **Value**: I can access accurate payment plan details to support customer inquiries, billing operations, and compliance requirements

**Description:**

As a **Billing Administrator**,
I want to **retrieve existing payment plan configurations to review installment terms and billing schedules**,
So that **I can access accurate payment plan details to support customer inquiries, billing operations, and compliance requirements**


**Key Capabilities:**

**1. Payment Plan Retrieval Request**
User initiates retrieval by providing payment plan identifier to access specific configuration details.

**2. Request Validation**
System validates identifier format and completeness before processing.
    2.1 Upon validation failure due to missing identifier, system prevents retrieval and notifies user
    2.2 When specified payment plan does not exist, system returns appropriate notification

**3. Configuration Data Delivery**
System returns complete payment plan attributes including plan code, description, installment frequency, number of installments, and due day calculation type.


**Acceptance Criteria:**

**1. Successful Retrieval**
Given valid payment plan identifier provided, When user requests configuration, Then system returns complete plan attributes including code, description, frequency, installment count, and due day type.

**2. Missing Identifier Handling**
Given incomplete retrieval request, When validation detects missing required identifier, Then system prevents processing and provides missing attribute notification.

**3. Non-Existent Plan Handling**
Given identifier for non-existent payment plan, When system performs lookup, Then retrieval fails gracefully with entity not found notification.

**4. Authorization Enforcement**
Given user without proper authorization, When retrieval is attempted, Then system denies access to configuration data.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=226347987"
]

---

#### Feature: Create New Payment Plans with Validation
- **Role**: Billing Administrator
- **Action**: configure recurring payment plans with structured installment rules
- **Value**: customers can access flexible payment options that comply with business policies and reduce collection risks

**Description:**

As a **Billing Administrator**,
I want to **configure recurring payment plans with structured installment rules**,
So that **customers can access flexible payment options that comply with business policies and reduce collection risks**


**Key Capabilities:**

**1. Payment Plan Initiation**
User is able to initiate payment plan configuration by providing business identifiers, descriptive information, installment frequency parameters, maximum installment count constraints, and plan classification type.

**2. Business Rule Validation**
Upon submission, system validates configuration against uniqueness requirements, format constraints, frequency standards, installment count boundaries, and plan type restrictions.
    2.1 When validation identifies missing mandatory information, system prevents plan creation
    2.2 When validation detects duplicate identifiers or invalid parameter values, system rejects configuration

**3. Plan Persistence**
If all validations succeed, system persists approved payment plan configuration for operational use in billing workflows.


**Acceptance Criteria:**

**1. Successful Plan Creation**
Given valid configuration data with unique identifier, When administrator submits payment plan with monthly frequency and 1-12 installments, Then system persists plan and confirms availability for customer assignment.

**2. Duplicate Prevention**
Given existing plan identifier in database, When administrator attempts to create plan with same code, Then system rejects submission and signals uniqueness violation.

**3. Format Compliance**
Given plan identifier containing prohibited characters, When validation executes, Then system prevents creation and indicates format requirements.

**4. Parameter Boundary Enforcement**
Given installment count outside 1-12 range or frequency not equal to monthly standard, When system validates configuration, Then submission is blocked with parameter constraint guidance.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=206865660"
]

---

#### Feature: Query Installment Schedules by Billing Account
- **Role**: Billing Administrator
- **Action**: retrieve installment payment schedules associated with billing accounts
- **Value**: I can provide customers with accurate payment timeline information and monitor account obligations

**Description:**

As a **Billing Administrator**,
I want to **retrieve installment payment schedules associated with billing accounts**,
So that **I can provide customers with accurate payment timeline information and monitor account obligations**


**Key Capabilities:**

**1. Installment Schedule Request Initiation**
Authorized performer initiates a query request for a specific billing account's installment schedule after authentication.

**2. Account Existence Verification**
System validates that the requested billing account entity exists in the system repository.
    2.1 If account not found, system terminates request with entity absence notification

**3. Business Constraints Validation**
System applies custom validation rules and authorization checks against the request parameters.
    3.1 Upon validation failure, system returns detailed error response with diagnostic codes

**4. Schedule Data Retrieval & Activity Monitoring**
System retrieves complete installment schedule and triggers business activity monitoring for audit compliance.


**Acceptance Criteria:**

**1. Successful Schedule Retrieval**
Given an authorized performer requests an existing billing account's schedule, When all validations pass, Then system returns complete installment schedule and logs monitoring event.

**2. Nonexistent Account Handling**
Given performer queries a billing account, When the account entity does not exist, Then system prevents data retrieval and returns entity-not-found notification.

**3. Authorization & Constraint Enforcement**
Given a schedule query is submitted, When business constraints or privilege validations fail, Then system denies access and provides specific error codes with diagnostic information.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=206865669"
]

---

#### Feature: Associate Payment Plans to Products
- **Role**: Billing Administrator
- **Action**: link payment plans to insurance products to enable billing operations
- **Value**: customers can be billed accurately according to their selected payment arrangements

**Description:**

As a **Billing Administrator**,
I want to **link payment plans to insurance products to enable billing operations**,
So that **customers can be billed accurately according to their selected payment arrangements**


**Key Capabilities:**

**Payment Plan Association**
User is able to establish mandatory linkage between insurance product and billing payment plan within system configuration.

**Billing Subsystem Integration**
Upon successful association, system registers the payment plan reference enabling billing subsystem to recognize valid billing arrangements.

**Configuration Validation**
System prevents product activation when payment plan association is incomplete or missing required linkage data.


**Acceptance Criteria:**

**Successful Payment Plan Linkage**
Given a product requires billing capability, When administrator associates a valid payment plan, Then system establishes external link and enables billing operations.

**Mandatory Association Enforcement**
Given payment plan is system-required field, When administrator attempts to activate product without association, Then system blocks activation and prompts for payment plan assignment.

**Billing Subsystem Recognition**
Given payment plan is successfully associated, When billing subsystem processes transactions, Then linked payment plan data is accessible for billing execution.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=238191192"
]

---

#### Feature: Align Installment Due Dates to Product or Account Due Days
- **Role**: Billing Administrator
- **Action**: configure installment due date alignment rules for product payment schedules
- **Value**: payment schedules are automatically generated with consistent due dates aligned to business rules and customer account preferences

**Description:**

As a **Billing Administrator**,
I want to **configure installment due date alignment rules for product payment schedules**,
So that **payment schedules are automatically generated with consistent due dates aligned to business rules and customer account preferences**


**Key Capabilities:**

**Hierarchical Due Date Determination**
System determines installment due dates following priority: product due day specification takes precedence; when product due day is null, billing account due day applies.

**Product Schedule Generation**
Upon product purchase, system generates installment schedule using configured due day integer value (0-31 range for Day of Month type).

**Month-End Adjustment**
When account due day is 31 and current month has fewer days, system automatically adjusts due date to last available day of that month.

**Default Value Assignment**
If no due day specified, system defaults to maximum of product effective date or transaction date.


**Acceptance Criteria:**

**Product Due Day Takes Precedence**
Given product has due day specified, When installment schedule generates, Then system aligns all installment due dates to product due day regardless of account settings.

**Account Due Day Fallback**
Given product due day is null, When installment schedule generates, Then system aligns installment due dates to billing account due day.

**Month-End Boundary Handling**
Given account due day is 31 and target month has 30 days, When due date calculation occurs, Then system sets due date to 30th of that month.

**Valid Range Enforcement**
Given due day type is Day of Month, When configuration is submitted, Then system accepts only integer values between 0 and 31.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=236827290"
]

---

#### Feature: Manage Installment Audit Timestamps
- **Role**: Billing Administrator
- **Action**: configure and track installment creation timestamps
- **Value**: I can maintain accurate audit trails and support compliance requirements for payment plan lifecycle management

**Description:**

As a **Billing Administrator**,
I want to **configure and track installment creation timestamps**,
So that **I can maintain accurate audit trails and support compliance requirements for payment plan lifecycle management**


**Key Capabilities:**

**Installment Record Creation**
System captures timestamp when installment records are established during payment plan setup or billing cycle processing.

**Timestamp Data Management**
System stores creation date information as non-mandatory core billing data to support flexible implementation scenarios.

**Audit Trail Support**
System maintains temporal records enabling historical analysis, compliance reporting, and lifecycle tracking of installment arrangements.

**Data Integrity**
System ensures timestamp accuracy and persistence throughout the installment lifecycle without imposing uniqueness constraints.


**Acceptance Criteria:**

**Timestamp Capture on Creation**
Given an installment record is being created, When the billing system processes the transaction, Then the creation date is captured and stored.

**Optional Field Behavior**
Given the timestamp field is non-mandatory, When installment creation occurs without timestamp data, Then the system completes the transaction successfully.

**Audit Retrieval**
Given installment records exist with creation timestamps, When audit or reporting processes request temporal data, Then accurate creation dates are retrievable for compliance and analysis purposes.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=211630007"
]

---

### Epic: Policy Transaction & Lifecycle Processing

#### Feature: Process New Business Policy Transactions
- **Role**: Billing Administrator
- **Action**: process master policy purchase transactions from quote to issuance with billing product creation
- **Value**: policies are activated with accurate billing accounts established for premium collection

**Description:**

As a **Billing Administrator**,
I want to **process master policy purchase transactions from quote to issuance with billing product creation**,
So that **policies are activated with accurate billing accounts established for premium collection**


**Key Capabilities:**

**1. Purchase Initiation & Validation**
User initiates purchase for installation flow. System validates all quotes are marked sold, bill types match billing setup, at least one master quote exists, and billing setup is completed for all quotes.

**2. Billing Product Provisioning**
System creates billing products for all master policies configured as list bill within the installation flow.

**3. Policy Issuance Execution**
System issues master policies for all validated quotes in the installation flow and sets premium sequence numbers for self-billed policies.

**4. Partial Failure Handling**
When billing product creation or policy issuance fails, system retains previously successful operations without rollback and returns specific error messages.


**Acceptance Criteria:**

**1. Successful Purchase Completion**
Given all quotes are sold with matching bill types and completed billing setup, When user initiates purchase, Then system creates billing products and issues all master policies.

**2. Pre-Purchase Validation Enforcement**
Given installation flow contains unsold quotes or incomplete billing setup, When purchase is initiated, Then system prevents transaction and returns specific validation error.

**3. Partial Transaction Persistence**
Given billing product creation fails for one quote after others succeed, When failure occurs, Then system retains successful billing products without rollback and reports error.

**4. List Bill Flow Exit**
Given list bill master policy completes issuance, When premium sequence processing is triggered, Then system exits without setting sequence numbers.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=504534917"
]

---

#### Feature: Process Policy Renewal Transactions
- **Role**: Billing Administrator
- **Action**: process policy renewal transactions with temporal flexibility and automated premium adjustments
- **Value**: renewal changes are accurately distributed across policy lifecycles while maintaining billing integrity for current, backdated, and future-dated renewals

**Description:**

As a **Billing Administrator**,
I want to **process policy renewal transactions with temporal flexibility and automated premium adjustments**,
So that **renewal changes are accurately distributed across policy lifecycles while maintaining billing integrity for current, backdated, and future-dated renewals**


**Key Capabilities:**

**1. Renewal Transaction Initiation**
User is able to submit renewal changes specifying effective date, modification type (rate/rate basis/volume/product structure), and target policy. System identifies temporal relationship between renewal effective date and current reporting period.

**2. Standard Period Processing**
When renewal effective date equals current reporting period, system applies changes forward through all remaining periods up to master policy expiration. No retroactive billing adjustments required.

**3. Backdated Renewal Handling**
When renewal effective date precedes current period, system retroactively updates affected historical periods. For rate changes, all payment requests are updated. For product structure changes, payment requests update only if invoices are not yet generated.

**4. Future-Dated Renewal Execution**
When renewal effective date falls in future period, system applies changes exclusively from future effective date forward, preserving all historical period configurations without payment request modifications.


**Acceptance Criteria:**

**1. Current Period Renewal Validation**
Given renewal effective date matches current reporting period, When user submits rate modification, Then system distributes changes from current period through policy expiration without retroactive adjustments.

**2. Backdated Rate Change Enforcement**
Given renewal effective date in previous reporting period with rate amendment, When payment requests exist for affected periods, Then system updates all payment requests regardless of invoice generation status.

**3. Backdated Structure Change Constraint**
Given renewal effective date in previous reporting period with product structure modification, When invoices already generated for affected periods, Then system prevents payment request updates for invoiced periods while updating non-invoiced periods.

**4. Future-Dated Isolation**
Given renewal effective date in future reporting period, When user processes renewal transaction, Then system applies changes only from future period forward without modifying historical periods or payment requests.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=794693912"
]

---

#### Feature: Process Policy Amendment Transactions
- **Role**: Billing Administrator
- **Action**: distribute and apply policy amendment changes across reporting periods based on effective dates and lifecycle events
- **Value**: policy changes are accurately reflected across the correct timeframes, ensuring billing integrity and compliance with temporal business rules

**Description:**

As a **Billing Administrator**,
I want to **distribute and apply policy amendment changes across reporting periods based on effective dates and lifecycle events**,
So that **policy changes are accurately reflected across the correct timeframes, ensuring billing integrity and compliance with temporal business rules**


**Key Capabilities:**

**1. Amendment Temporal Distribution**
System evaluates amendment effective date against current reporting period and automatically distributes changes from effective date through policy expiration date, supporting rate, volume, and product structure modifications

**2. Retroactive Amendment Processing**
When amendment is backdated, system applies changes retroactively and updates existing payment requests for affected past invoicing periods if they exist

**3. Future-Dated Amendment Management**
System schedules amendments with future effective dates to apply from specified date through policy expiration without impacting current or past periods

**4. Multiple Amendment Orchestration**
When multiple amendments exist, system terminates earlier amendment distribution one period before next amendment's effective date, ensuring sequential precedence

**5. Lifecycle Event Integration**
Upon cancellation or rewrite transactions, system adjusts amendment distribution boundaries, setting values to zero post-cancellation or terminating at rewrite effective date


**Acceptance Criteria:**

**1. Current Period Amendment Distribution**
Given amendment effective date equals current reporting period, When system processes amendment, Then changes apply from current period through policy expiration for all amendment types

**2. Backdated Amendment with Payment Requests**
Given backdated amendment with existing payment requests, When amendment is issued, Then system updates payment requests retroactively while preserving invoice-generated periods

**3. Sequential Amendment Precedence**
Given multiple amendments with different effective dates, When system distributes changes, Then earlier amendment ends one period before next amendment begins

**4. Cancellation Boundary Application**
Given policy cancellation after amendment, When cancellation is processed, Then amendment applies through cancellation period and all subsequent values become zero

**5. Rewrite Termination Logic**
Given future-dated rewrite after amendment, When rewrite is executed, Then amendment changes terminate before rewrite period and rewrite values take precedence forward


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=719661933"
]

---

#### Feature: Process Policy Cancellation Transactions
- **Role**: Billing Administrator
- **Action**: process policy cancellation transactions with automated premium recalculation across integrated systems
- **Value**: policies are properly terminated and billing adjustments are accurately applied to prevent revenue leakage and customer disputes

**Description:**

As a **Billing Administrator**,
I want to **process policy cancellation transactions with automated premium recalculation across integrated systems**,
So that **policies are properly terminated and billing adjustments are accurately applied to prevent revenue leakage and customer disputes**


**Key Capabilities:**

**1. Cancellation Initiation**
User initiates cancellation for active Master Policy or Member Record through policy management interface when discontinuation is required.

**2. Cross-System Notification**
Policy system processes cancellation request and notifies billing system via API integration to trigger billing adjustments.

**3. Premium Recalculation**
Billing system receives notification and automatically recalculates prorated premium for current period and zeros future billing amounts.

**4. Transaction Cascading**
When Master Policy cancellation occurs, system sequentially processes cancellations for all associated Member Records following standard flow.


**Acceptance Criteria:**

**1. Standard Cancellation Processing**
Given an active policy exists, When user initiates cancellation with proper privileges, Then system terminates policy and triggers cross-system billing notification.

**2. Premium Proration**
Given cancellation occurs mid-billing period, When billing system receives notification, Then current period premium is prorated and future periods are zeroed.

**3. Cascading Termination**
Given Master Policy contains multiple Member Records, When Master Policy cancellation is initiated, Then all associated Member Records are sequentially cancelled with individual billing adjustments.

**4. Incomplete Data Prevention**
Given cancellation prerequisites are not met, When user attempts cancellation, Then system prevents submission until policy state and user privileges are validated.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=571482956"
]

---

#### Feature: Process Policy Reinstatement Transactions
- **Role**: Policy Administrator
- **Action**: Process policy reinstatement transactions to restore coverage
- **Value**: Previously lapsed or cancelled policies can be reactivated, maintaining customer relationships and revenue continuity

**Description:**

As a **Policy Administrator**,
I want to **process policy reinstatement transactions to restore coverage**,
So that **previously lapsed or cancelled policies can be reactivated, maintaining customer relationships and revenue continuity**


**Key Capabilities:**

**1. Reinstatement Request Initiation**
User is able to submit reinstatement request for lapsed or cancelled policy with effective date

**2. Eligibility Validation**
System evaluates policy history, lapse duration, and reinstatement rules to determine qualification

**3. Outstanding Obligation Assessment**
System identifies unpaid premiums, fees, and penalties requiring settlement

**4. Coverage Restoration Processing**
Upon approval, system reinstates policy status, reactivates coverage terms, and generates transaction records

**5. Billing Reactivation**
System establishes billing schedule and processes outstanding payment obligations

**6. Confirmation and Documentation**
System generates reinstatement confirmation and updates policy lifecycle records


**Acceptance Criteria:**

**1. Eligible Policy Reinstatement**
Given a lapsed policy within reinstatement period, When user submits valid reinstatement request, Then system restores policy status and reactivates coverage

**2. Ineligible Request Rejection**
Given a policy exceeding reinstatement timeframe, When evaluation occurs, Then system prevents reinstatement and provides business reason

**3. Outstanding Payment Processing**
Given reinstatement approval with unpaid obligations, When transaction completes, Then system captures payment commitments and updates billing records

**4. Lifecycle Record Update**
Given successful reinstatement, When transaction finalizes, Then system records reinstatement event and updates policy history

**5. Incomplete Data Handling**
Given missing required information, When submission attempted, Then system prevents processing until data is complete


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=577780418"
]

---

#### Feature: Process Rescind Cancellation Transactions
- **Role**: Billing Administrator
- **Action**: process rescind cancellation transactions to reinstate cancelled policies
- **Value**: policies are restored without coverage lapse and billing obligations are automatically recalculated

**Description:**

As a **Billing Administrator**,
I want to **process rescind cancellation transactions to reinstate cancelled policies**,
So that **policies are restored without coverage lapse and billing obligations are automatically recalculated**


**Key Capabilities:**

**1. Rescind Transaction Initiation**
Upon receiving rescind request from policy administration system, billing subsystem initiates rescind cancellation transaction with effective date aligned to original cancellation date.

**2. Policy Reinstatement Processing**
System reinstates master policy using premium and rate values transmitted from policy administration, restoring active billing status.

**3. Payment Obligation Recalculation**
System updates existing payment requests for affected billing periods, incorporating reinstated premium, rate basis, enrollment volume, and life counts.

**4. Transaction Confirmation and Event Notification**
System generates completion artifacts and broadcasts reinstatement events to downstream systems for enterprise-wide synchronization.


**Acceptance Criteria:**

**1. Successful Rescind Processing**
Given a cancelled policy with future effective date, When rescind request is received from policy administration, Then system reinstates policy with rescind date matching cancellation date and status updated to active.

**2. Payment Request Adjustment**
Given an existing payment request for the billing period, When policy is reinstated, Then system automatically updates request with correct premium, rate, volume, and enrollment values from reinstated policy version.

**3. System Integration Confirmation**
Given successful reinstatement completion, When transaction processing finishes, Then system generates rescind cancellation artifacts with finished status and broadcasts reinstatement event to integrated systems.

**4. Data Integrity Validation**
Given policy reinstatement, When payment calculations execute, Then system prevents processing if premium or rate values are missing or incomplete from policy administration source.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=749179578"
]

---

#### Feature: Process Policy Rewrite Transactions
- **Role**: Billing Administrator
- **Action**: process policy rewrite transactions affecting master policies and member records to reflect updated effective dates and business data
- **Value**: billing accounts maintain accurate premium calculations, invoicing schedules, and compliance with revised policy terms across all covered members

**Description:**

As a **Billing Administrator**,
I want to **process policy rewrite transactions affecting master policies and member records to reflect updated effective dates and business data**,
So that **billing accounts maintain accurate premium calculations, invoicing schedules, and compliance with revised policy terms across all covered members**.


**Key Capabilities:**

**1. Master Policy Rewrite Initiation**
Upon receiving master policy rewrite request, system updates effective date, generates activity records, and determines account type (True Group vs Individual Premium Accounting) to apply appropriate processing rules.

**2. Billing Configuration Adjustment**
System evaluates and resets invoicing start dates and payroll deduction schedules based on new effective dates. When invoices exist, system determines discard requirements and automatically processes affected invoices per validation rules.

**3. Member Record Cascading Updates**
System receives member record rewrites, initiates state reset validation, and recalculates modal premium amounts with version control. System processes premium sequence splits and overrides obsolete premium versions while maintaining historical audit trail.


**Acceptance Criteria:**

**1. Master Policy Processing Completion**
Given master policy rewrite initiated, When system receives effective date change, Then master policy updated with activity logged and account-specific rules applied without errors.

**2. Invoice Integrity Management**
Given existing invoices present, When rewrite affects billing period, Then system discards impacted invoices or retains based on validation rules with balance recalculations completed.

**3. Member Record Synchronization**
Given member records associated with rewritten master policy, When cascade processing triggers, Then all member effective dates updated with accurate modal premium versions created and historical records preserved.

**4. Audit Trail Availability**
Given rewrite transaction completed, When user reviews transaction history, Then system displays complete rewrite record including before/after states and premium version changes.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=654980797"
]

---

#### Feature: Process Out-of-Sequence Transactions with Roll-On
- **Role**: Billing Administrator
- **Action**: process future-dated policy transactions after out-of-sequence member record amendments
- **Value**: billing data remains accurate and synchronized when policy changes occur in non-chronological order

**Description:**

As a **Billing Administrator**,
I want to **process future-dated policy transactions after out-of-sequence member record amendments**,
So that **billing data remains accurate and synchronized when policy changes occur in non-chronological order**


**Key Capabilities:**

**Transaction Receipt & Sequencing**
Upon receiving future-dated member record transaction, system identifies transaction type (cancellation, renewal, premium waiver) where effective date exceeds prior out-of-sequence amendment date.

**Roll-On Execution**
System applies roll-on rules to layer future transaction atop amendment, preserving chronological integrity of policy lifecycle events.

**Premium Sequence Validation**
System evaluates multiple premium sequences configuration settings to determine processing requirements.

**Premium Recalculation**
When multiple premium sequences enabled, system reapplies premium sequence splits across affected product modal amounts to maintain billing accuracy post-adjustment.


**Acceptance Criteria:**

**1. Future Transaction Identification**
Given out-of-sequence amendment completed, When future-dated transaction received with later effective date, Then system routes to roll-on processing workflow.

**2. Roll-On Rule Application**
Given eligible future transaction identified, When roll-on executed, Then system applies amendment atop existing transaction per defined business rules.

**3. Configuration-Based Processing**
Given roll-on completed, When multiple premium sequences disabled, Then system completes without premium recalculation.

**4. Premium Sequence Adjustment**
Given multiple premium sequences enabled, When roll-on finalized, Then system recalculates and applies premium splits to all impacted product entities.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=838437395"
]

---

#### Feature: Calculate Modal Premium for Policy Transactions
- **Role**: Billing Administrator
- **Action**: process policy cancellation and recalculate prorated premiums
- **Value**: accurate billing adjustments are applied immediately, ensuring financial integrity and customer transparency throughout the policy lifecycle

**Description:**

As a **Billing Administrator**,
I want to **process policy cancellation and recalculate prorated premiums**,
So that **accurate billing adjustments are applied immediately, ensuring financial integrity and customer transparency throughout the policy lifecycle**


**Key Capabilities:**

**1. Cancellation Initiation**
User initiates cancellation for an active policy (member record or master policy) through policy administration system

**2. Cross-System Processing**
System triggers cancellation workflow and notifies billing platform via API integration for synchronized processing

**3. Premium Recalculation**
Billing system automatically recalculates modal premium amount with proration for current period and zeros future billing periods

**4. Transaction Classification**
System applies billing transaction type rules to identify and categorize the cancellation transaction appropriately

**5. Verification & Visibility**
User reviews prorated premium amounts and historical records to confirm accurate cancellation processing and financial adjustments


**Acceptance Criteria:**

**1. Successful Single Policy Cancellation**
Given an active policy exists, When user initiates cancellation, Then system processes cancellation, recalculates prorated premium for current period, zeros future amounts, and confirms via notifications

**2. Cascading Cancellation Processing**
Given multiple member records require cancellation, When cascading cancellation is triggered, Then system processes each member record sequentially following standard cancellation flow

**3. Premium Adjustment Accuracy**
Given cancellation is processed mid-billing cycle, When premium recalculation completes, Then current period amount is prorated correctly and all future period amounts display as zero

**4. Cross-System Synchronization**
Given policy administration initiates cancellation, When billing system receives notification, Then both systems reflect cancelled status and adjusted premium amounts consistently


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=571482956"
]

---

#### Feature: Manage Self-Administered Billing Amendments
- **Role**: Billing Administrator
- **Action**: process master policy amendments and synchronize billing data automatically
- **Value**: premium calculations reflect policy changes accurately without manual intervention, reducing errors and ensuring billing integrity

**Description:**

As a **Billing Administrator**,
I want to **process master policy amendments and synchronize billing data automatically**,
So that **premium calculations reflect policy changes accurately without manual intervention, reducing errors and ensuring billing integrity**


**Key Capabilities:**

**1. Amendment Transaction Intake**
User initiates amendment on active master policy; system receives transaction details including effective date, product structure changes, and premium impacts

**2. Amendment Classification & Processing**
System evaluates amendment type (structural vs non-structural, premium-bearing vs non-bearing, retroactive vs future-dated) and applies corresponding processing logic

**3. Payment Request Modification**
System automatically updates existing payment requests based on amendment type and invoice status; non-structural changes update all requests, structural changes update only uninvoiced periods

**4. Invoice Dependency Management**
When amendments affect invoiced periods, system prevents automatic updates; user must manually discard invoices to trigger payment request recalculation

**5. Notification & Audit Trail**
System generates business activity messages and displays amendment impact alerts on billing interfaces showing exact changes introduced


**Acceptance Criteria:**

**1. Active Policy Amendment Processing**
Given master policy is active or has future effective date, When amendment transaction is submitted, Then system processes amendment and updates billing data according to amendment classification

**2. Non-Structural Amendment Synchronization**
Given amendment involves rate or volume changes only, When processing occurs, Then system updates all existing payment requests for affected billing periods regardless of invoice status

**3. Structural Amendment with Uninvoiced Periods**
Given amendment adds or removes plans/coverages, When affected billing periods have no generated invoices, Then system updates payment requests automatically

**4. Invoiced Period Protection**
Given amendment affects periods with existing invoices, When processing occurs, Then system prevents automatic updates and requires manual invoice discard before payment request modification

**5. Out-of-Sequence Amendment Handling**
Given amendment has effective date between existing transactions, When processing occurs, Then system considers all future-dated transactions and applies changes chronologically

**6. Audit Trail Generation**
Given any amendment is processed, When updates complete, Then system generates business activity messages documenting amendment processing and payment request modifications


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=754652035"
]

---

#### Feature: Manage Self-Administered Billing Renewals
- **Role**: Billing Administrator
- **Action**: process and apply policy renewal transactions with automated payment request updates and structural/non-structural change management
- **Value**: renewal changes are accurately reflected across billing cycles, payment requests are systematically updated, and premium adjustments flow seamlessly without manual intervention for active billing periods

**Description:**

As a **Billing Administrator**,
I want to **process and apply policy renewal transactions with automated payment request updates and structural/non-structural change management**,
So that **renewal changes are accurately reflected across billing cycles, payment requests are systematically updated, and premium adjustments flow seamlessly without manual intervention for active billing periods**


**Key Capabilities:**

**1. Renewal Transaction Intake and Processing**
Upon receiving renewal transaction details from policy system for active master policies, system processes structural or non-structural changes and initiates payment request modification workflows.

**2. Payment Request Update Orchestration**
System applies differential update logic: non-structural renewals update all affected payment requests regardless of invoice status; structural renewals update only requests without generated invoices until invoice discard occurs.

**3. Retroactive and Future-Dated Renewal Handling**
When renewal effective date is in the past, system processes back-dated changes with negative invoice item generation; when future-dated, system accounts for sequential or out-of-sequence transactions affecting the same policy.

**4. Billing Period Adjustment Notification**
System alerts users to renewal impacts via warnings on billing period details and premium adjustment interfaces, specifying exact changes introduced including rate, rate basis, coverage, or plan modifications.


**Acceptance Criteria:**

**1. Successful Structural Renewal Processing**
Given an active master policy with structural renewal adding coverage, When renewal transaction is received with effective date within current billing period and no invoices generated, Then system updates all payment requests, generates corresponding audit messages, and displays renewal notifications on affected billing period interfaces.

**2. Non-Structural Renewal with Existing Invoices**
Given a master policy with non-structural rate adjustment, When renewal effective date falls in billing period with already-generated invoice, Then system updates all payment requests but does not auto-regenerate invoice, requiring manual discard and regeneration to reflect changes.

**3. Retroactive Renewal Transaction Handling**
Given a renewal with past effective date affecting completed reporting periods, When transaction is processed, Then system generates negative invoice items for future invoices and fires billing renewal business event.

**4. Split Bill Renewal Processing**
Given a master policy configured for bill-per-location split billing, When structural renewal removes a coverage, Then system updates payment requests preserving split structure with zero premium for removed segments in affected reporting periods.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=811443395"
]

---

#### Feature: Manage Self-Administered Billing Cancellations
- **Role**: Billing Administrator
- **Action**: process policy cancellations with retroactive and proactive billing adjustments
- **Value**: billing accuracy is maintained across all periods while ensuring proper premium calculations and payment request generation

**Description:**

As a **Billing Administrator**,
I want to **process policy cancellations with retroactive and proactive billing adjustments**,
So that **billing accuracy is maintained across all periods while ensuring proper premium calculations and payment request generation**


**Key Capabilities:**

**1. Cancellation Initiation & Classification**
User initiates cancellation for active master policy by providing effective date and reason; system classifies cancellation timing (backdated/current/future-dated) against billing period boundaries and payment request generation status

**2. Billing Period Impact Assessment**
System evaluates affected billing and reporting periods; determines whether payment requests exist for impacted periods to route appropriate adjustment workflow

**3. Premium Calculation & Adjustment**
System applies full premium for reporting period containing cancellation date; zeros subsequent reporting periods within quarterly/annual cycles; enables manual adjustment when payment requests already generated

**4. Payment Request Orchestration**
System generates payment requests for unpaid prior periods; triggers cancellation event to billing subsystem; suspends automated payment generation for accounts without active policies while preserving manual override capability


**Acceptance Criteria:**

**1. Cancellation Timing Recognition**
Given an active master policy, When user submits cancellation with effective date, Then system correctly identifies timing classification and determines billing period impact without manual calculation

**2. Premium Proration Logic**
Given cancellation falls within billing period, When payment request not yet generated, Then system includes full premium for containing reporting period and zeros all subsequent periods in that billing cycle

**3. Retroactive Adjustment Handling**
Given payment request already exists for cancellation period, When user confirms cancellation, Then system enables manual premium adjustment workflow across current and previous billing periods with metadata modification capability

**4. Payment Request Generation Control**
Given master policy cancelled with no other active policies on account, When scheduled job runs, Then system skips automatic payment request generation but preserves manual generation capability for billing administrators

**5. Cross-System Synchronization**
Given cancellation confirmed in policy system, When cancellation event fires, Then billing subsystem receives notification and executes corresponding billing adjustments within same business transaction


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=726964515"
]

---

#### Feature: Update Payment Requests for Policy Transactions
- **Role**: Billing Administrator
- **Action**: rescind a future-dated master policy cancellation and update payment requests
- **Value**: the policy is reinstated without lapse and billing obligations are accurately reflected

**Description:**

As a **Billing Administrator**,
I want to **rescind a future-dated master policy cancellation and update payment requests**,
So that **the policy is reinstated without lapse and billing obligations are accurately reflected**


**Key Capabilities:**

**1. Initiate Rescind Transaction**
Upon receiving cancellation rescind request from policy system, billing subsystem creates rescind transaction with effective date matching original cancellation date.

**2. Reinstate Policy Terms**
System applies rate and premium values from policy details to reinstate master policy coverage without lapse.

**3. Update Payment Obligations**
System automatically updates payment request for affected billing period, adjusting premium, rate basis, enrollment counts, and volume to reflect reinstated policy version.

**4. Generate Audit Records**
System produces completion records for rescind transaction and payment request modification for compliance tracking.

**5. Notify Downstream Systems**
System broadcasts reinstatement event to trigger dependent process updates across enterprise.


**Acceptance Criteria:**

**1. Successful Rescind Processing**
Given a future-dated cancelled self-bill master policy exists, When policy system requests cancellation rescind, Then billing system reinstates policy effective on original cancellation date.

**2. Rate Application**
Given rescind transaction contains policy rate details, When reinstatement processes, Then system applies received premium and rate values to reinstated policy.

**3. Payment Request Update**
Given payment request exists for billing period containing rescind date, When policy is reinstated, Then system updates request with current premium, rate basis, lives count, and volume.

**4. Audit Trail Creation**
Given rescind completes successfully, When processing finishes, Then system generates rescind completion record and payment update record.

**5. Event Notification**
Given all rescind activities complete, When transaction finalizes, Then system broadcasts reinstatement event to enterprise systems.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=749179578"
]

---

#### Feature: Process Classification Group Changes
- **Role**: Billing Administrator
- **Action**: process premium-bearing classification group changes to maintain accurate billing adjustments
- **Value**: member records reflect current premium structures and billing remains aligned with policy modifications

**Description:**

As a **Billing Administrator**,
I want to **process premium-bearing classification group changes to maintain accurate billing adjustments**,
So that **member records reflect current premium structures and billing remains aligned with policy modifications**


**Key Capabilities:**

**1. Classification Change Detection**
System receives notification when premium-bearing classification group changes occur on member records from policy amendments or CEM updates.

**2. Modal Premium Versioning**
Upon classification change, current modal premium version terminates and new version generates for subsequent invoicing cycles.

**3. Mid-Period Adjustment Processing**
When classification change falls within billed period, system calculates unbilled amendments, generates negative invoice items, and triggers excessive payment unallocation.

**4. Billing Account Segmentation**
If split billing by classification group is configured, member record automatically migrates to appropriate billing account aligned with new classification.


**Acceptance Criteria:**

**1. Standard Classification Change**
Given a premium-bearing classification change occurs, When billing domain receives notification, Then modal premium version updates and new version applies to future invoices.

**2. Mid-Period Retroactive Adjustment**
Given classification change within billed period, When amendments calculate, Then negative invoice items generate and excessive payments unallocate per configuration.

**3. Split Billing Migration**
Given split billing by classification is enabled, When classification changes, Then member record migrates to corresponding billing account automatically.

**4. Individual Direct Billing Class Change**
Given class change on individual direct billing account, When amendment completes, Then member remains in same account until remove continuation action initiates migration.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=716870205"
]

---

#### Feature: Track Variance for Self-Bill Accounts
- **Role**: Billing Administrator
- **Action**: monitor and flag billing discrepancies exceeding contractual tolerance limits
- **Value**: billing accuracy is maintained and significant variances are investigated promptly to protect revenue integrity

**Description:**

As a **Billing Administrator**,
I want to **monitor and flag billing discrepancies exceeding contractual tolerance limits**,
So that **billing accuracy is maintained and significant variances are investigated promptly to protect revenue integrity**


**Key Capabilities:**

**Variance Configuration Activation**
Upon payment request confirmation, system verifies variance tracking is enabled for the billing account and retrieves tolerance limits from business rules service.

**Control Period Variance Calculation**
System calculates variance by comparing current payment request against control period baseline or initial payment request depending on billing cycle timing.

**Threshold Evaluation & Escalation**
When calculated variances for premium, lives, or volume exceed configured tolerance percentages, system automatically generates investigation tasks for back-office review.

**Multi-Level Tracking**
System performs variance analysis at both billing account and product levels based on configuration requirements.


**Acceptance Criteria:**

**Variance Detection for Control Period**
Given variance tracking is configured and payment request is for control period, when user confirms payment, then system calculates variance against control period baseline only.

**Variance Detection Post-Control Period**
Given payment request is after control period, when user confirms payment, then system calculates variance using both initial payment and control period comparisons.

**Automatic Task Generation**
Given calculated variance exceeds tolerance limit, when evaluation completes, then system generates investigation task with variance details.

**No Action for Compliant Variances**
Given calculated variance remains within tolerance limits, when evaluation completes, then system records variance without generating investigation tasks.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=835226264"
]

---

#### Feature: Process Premium Waiver Transactions
- **Role**: Billing Administrator
- **Action**: process premium waiver transactions after out-of-sequence policy amendments
- **Value**: policy billing records remain accurate and synchronized when premium waivers are applied following retroactive member record changes

**Description:**

As a **Billing Administrator**,
I want to **process premium waiver transactions after out-of-sequence policy amendments**,
So that **policy billing records remain accurate and synchronized when premium waivers are applied following retroactive member record changes**


**Key Capabilities:**

**1. Future-Dated Transaction Receipt**
System receives premium waiver transactions (add/remove) with effective dates occurring after OOS amendment effective date from policy or claims domains

**2. Premium Waiver Source Validation**
System validates that premium waiver functionality is configured exclusively on either claims side or policy side, preventing simultaneous configuration conflicts

**3. Roll-On Transaction Execution**
System applies premium waiver add/remove transactions atop executed amendment without separate notification, following defined roll-on sequencing rules

**4. Premium Sequence Configuration Assessment**
System evaluates whether multiple premium sequences feature is enabled per system configuration
    4.1 When enabled, system processes multiple premium sequence data and reapplies splits across product modal amount entities
    4.2 When disabled, system completes processing without premium sequence splitting


**Acceptance Criteria:**

**1. Premium Waiver Roll-On Acceptance**
Given an OOS amendment has been executed, When a premium waiver transaction with later effective date is received, Then system accepts transaction for roll-on processing

**2. Configuration Conflict Prevention**
Given premium waiver configuration validation, When premium waiver exists on both claims and policy sides simultaneously, Then system rejects transaction and prevents processing

**3. Effective Date Sequencing Enforcement**
Given a roll-on request is received, When premium waiver effective date precedes or equals amendment effective date, Then system rejects transaction as invalid sequencing

**4. Premium Sequence Conditional Processing**
Given multiple premium sequences feature status, When feature is enabled, Then system reapplies premium sequence splits; When disabled, Then system bypasses split processing

**5. Transaction Completion Confirmation**
Given successful roll-on execution, When all validations pass and processing completes, Then member record reflects updated premium waiver status with accurate billing amounts


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=838437395"
]

---

#### Feature: Process Reduced Paid-Up and Extended-Term Transactions
- **Role**: Billing Administrator
- **Action**: reinstate billing for policies previously converted to Reduced Paid-Up or Extended-Term status
- **Value**: policyholders can resume active coverage and premium payments without policy lapse when financial circumstances improve or errors are corrected

**Description:**

As a **Billing Administrator**,
I want to **reinstate billing for policies previously converted to Reduced Paid-Up or Extended-Term status**,
So that **policyholders can resume active coverage and premium payments without policy lapse when financial circumstances improve or errors are corrected**


**Key Capabilities:**

**Reinstatement Transaction Receipt**
System receives amendment transaction with empty NonForfeiture attribute and effective date matching the original stop billing date, validating eligibility for resume billing processing.

**Billing Resumption Processing**
Upon validation, system recalculates modal premium amounts to pre-conversion values, creates new premium versions, and reactivates the member record for invoice generation.

**Retroactive Invoice Adjustment**
System identifies invoicing periods between reinstatement effective date and current date, processing additional notices for any billing periods where invoices were already generated.

**Premium Calculation Restoration**
System restores modal premium to original annual premium amount prior to RPU/ET conversion, ensuring billing continuity without lapse from reinstatement effective date forward.

**Transaction History Recording**
System displays reinstatement transaction as resume billing amendment with transaction type, effective date, restored modal amount, and visual indicators in premium history views.


**Acceptance Criteria:**

**Valid Reinstatement Processing**
Given an active stop billing amendment exists, when amendment transaction with empty NonForfeiture attribute and matching effective date is received, then system recalculates modal premium, resumes invoice generation, and displays resume billing flag.

**Retroactive Period Handling**
Given invoicing periods exist between reinstatement date and current date, when reinstatement is processed, then system generates additional notices for affected billing periods per standard amendment rules.

**Premium Amount Restoration**
Given member record had modal premium set to zero during RPU/ET status, when reinstatement transaction is processed, then modal premium is restored to pre-conversion annual premium amount from effective date forward.

**Invalid Reinstatement Rejection**
Given no active stop billing amendment exists or NonForfeiture attribute is not empty, when reinstatement transaction is received, then system rejects resume billing processing and treats as standard amendment.

**Rolled-On Transaction Processing**
Given subsequent transactions exist after reinstatement effective date, when reinstatement completes, then system processes rolled-on transactions using standard out-of-sequence amendment logic.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=786405925"
]

---

#### Feature: Generate Business Activity Messages for Policy Transactions
- **Role**: Billing Administrator
- **Action**: generate and distribute standardized business activity messages for completed policy transactions
- **Value**: downstream systems receive timely notification of billing-relevant policy events to maintain data synchronization and trigger dependent billing operations

**Description:**

As a **Billing Administrator**,
I want to **generate and distribute standardized business activity messages for completed policy transactions**,
So that **downstream systems receive timely notification of billing-relevant policy events to maintain data synchronization and trigger dependent billing operations**


**Key Capabilities:**

**1. Policy Transaction Event Detection**
System monitors policy lifecycle activities and identifies billing-relevant transaction completions requiring downstream notification

**2. Business Activity Message Construction**
Upon transaction completion, system generates standardized messages containing transaction metadata and business context per billing domain model specifications

**3. Message Validation and Enrichment**
System validates message completeness and enriches content with reference data from billing domain model

**4. Message Distribution**
System routes validated messages to configured downstream systems and external integration endpoints


**Acceptance Criteria:**

**1. Transaction Event Capture**
Given a policy transaction completes, When the transaction impacts billing operations, Then system captures transaction details and initiates message generation

**2. Message Standardization**
Given message generation is triggered, When system constructs the business activity message, Then message conforms to billing domain model specifications

**3. Downstream Delivery**
Given a validated message exists, When system distributes to target endpoints, Then all configured recipients receive notification without data loss

**4. Incomplete Data Handling**
Given message validation fails, When required transaction data is missing, Then system prevents distribution and logs exception for resolution


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=721327076"
]

---

#### Feature: Associate Policies with Billing Accounts
- **Role**: Billing Administrator
- **Action**: link policy contracts to appropriate billing accounts and products
- **Value**: billing transactions are accurately processed and attributed to the correct financial entities

**Description:**

As a **Billing Administrator**,
I want to **link policy contracts to appropriate billing accounts and products**,
So that **billing transactions are accurately processed and attributed to the correct financial entities**


**Key Capabilities:**

**Policy-Account Association Initiation**
User is able to establish relationships between policy contracts and designated billing accounts within the Business Account Manager component.

**Billing Product Selection**
User is able to assign appropriate billing products that define transaction processing rules for the associated policies.

**Association Validation**
System validates compatibility between policy attributes and billing account configurations before confirming the association.

**Master Policy Scenario Support**
Upon association, system accommodates both List Bill and Self-Bill master policy structures according to business requirements.


**Acceptance Criteria:**

**Successful Policy Association**
Given valid policy and billing account identifiers, When the administrator submits the association request, Then the system establishes the linkage and confirms successful configuration.

**Incompatible Configuration Rejection**
Given mismatched policy type and billing product combination, When association is attempted, Then the system prevents the operation and provides business-level guidance.

**Master Policy Structure Recognition**
Given a master policy with dependent certificates, When the association is created, Then the system applies appropriate billing product rules for the policy hierarchy.

**Cross-Reference Integrity**
Given an established policy-account association, When billing transactions occur, Then the system correctly attributes charges to the designated billing account.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=539562573"
]

---

#### Feature: Fire Cancellation Request Business Events
- **Role**: Billing Administrator
- **Action**: trigger and monitor cancellation business events
- **Value**: policy lifecycle changes are automatically communicated and processed across billing workflows

**Description:**

As a **Billing Administrator**,
I want to **trigger and monitor cancellation business events**,
So that **policy lifecycle changes are automatically communicated and processed across billing workflows**


**Key Capabilities:**

**Event Initiation**
User is able to initiate cancellation business events when policy termination requests are received, triggering automated workflow propagation.

**Cross-System Communication**
Upon event firing, system automatically notifies integrated billing processes including delinquency workflows and account reconciliation modules.

**Lifecycle Coordination**
System synchronizes cancellation events with existing billing cycles, ensuring proper premium adjustments and outstanding balance handling.

**Monitoring & Traceability**
User is able to track event propagation status across billing domain components through centralized business activity monitoring.


**Acceptance Criteria:**

**Successful Event Propagation**
Given a policy cancellation is requested, When the business event fires, Then all connected billing processes receive notification within the defined SLA.

**Delinquency Process Integration**
Given an active delinquency workflow exists, When cancellation event is triggered, Then system automatically adjusts collection activities and stops future billing.

**Audit Trail Maintenance**
Given a cancellation event completes, When viewing transaction history, Then system displays complete event chain with timestamps and status for compliance review.

**Failure Handling**
Given event propagation fails, When error is detected, Then system prevents incomplete cancellation and alerts administrator for manual intervention.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=633999380"
]

---

#### Feature: Manage Product Structure in Billing
- **Role**: Billing Administrator
- **Action**: configure and maintain the hierarchical billing structure across master policies, certificates, and coverage items
- **Value**: accurate premium allocation and billing tracking throughout the policy lifecycle is ensured

**Description:**

As a **Billing Administrator**,
I want to **configure and maintain the hierarchical billing structure across master policies, certificates, and coverage items**,
So that **accurate premium allocation and billing tracking throughout the policy lifecycle is ensured**


**Key Capabilities:**

**1. Master Policy Foundation Establishment**
User is able to designate a master policy as the root billing entity containing master-level product items and amounts.

**2. Certificate Instance Spawning**
When certificates are generated from the master policy, the system creates child billing products linked to the parent hierarchy.

**3. Certificate-Level Product Assignment**
User is able to associate a single certificate product item with its corresponding billing amount for each spawned certificate.

**4. Coverage Item Configuration**
User is able to attach two coverage-level product items with respective billing amounts to each certificate instance.

**5. Hierarchical Relationship Maintenance**
System maintains parent-child linkages enabling traceability from master policy through certificates to individual coverage components.


**Acceptance Criteria:**

**1. Master Policy Prerequisite Validation**
Given no master policy exists, When attempting certificate creation, Then system prevents hierarchy initiation until master policy is established.

**2. Certificate Structure Enforcement**
Given a certificate is spawned, When product items are assigned, Then system ensures exactly one certificate-level item and two coverage items are configured.

**3. Billing Amount Association**
Given product items exist at certificate and coverage levels, When the hierarchy is validated, Then each item must have a linked billing amount or system flags the incomplete configuration.

**4. Hierarchical Integrity Preservation**
Given an established master-certificate-coverage structure, When modifications occur at any level, Then parent-child relationships remain intact and traceable throughout the billing lifecycle.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=473406620"
]

---

#### Feature: Process Member Record Updates
- **Role**: Billing Administrator
- **Action**: process policy member record amendments to maintain accurate billing records
- **Value**: member coverage and premium data remains synchronized between policy and billing systems

**Description:**

As a **Billing Administrator**,
I want to **process policy member record amendments to maintain accurate billing records**,
So that **member coverage and premium data remains synchronized between policy and billing systems**


**Key Capabilities:**

**1. Amendment Request Reception**
System receives member record update requests from policy administration system containing coverage and amount modifications for List Bill or Individual Direct policies.

**2. Data Integrity Validation**
System validates amendment data ensuring member record existence, coverage parent linkage, uniqueness constraints, minimum coverage requirements, and mandatory amount specifications.
    2.1 When validation fails, system returns appropriate error messages and halts processing.

**3. Member Record Synchronization**
System updates member records and processes coverage modifications including new coverage creation, existing coverage updates, and coverage terminations.

**4. Financial Amount Recalculation**
System recalculates and persists updated annual and monthly premium amounts for affected member records and associated coverages.


**Acceptance Criteria:**

**1. Successful Amendment Processing**
Given valid amendment data from policy system, When member record exists with proper coverage specifications, Then system updates member record, processes all coverage changes, recalculates amounts, and confirms successful completion.

**2. Member Record Validation Enforcement**
Given amendment request, When target member record does not exist in billing database, Then system rejects update and returns member not found error without persisting changes.

**3. Coverage Integrity Protection**
Given member record update, When no coverages are specified or coverage lacks parent member linkage, Then system prevents processing and returns validation failure message.

**4. Coverage Lifecycle Management**
Given valid amendment containing coverage additions, modifications, and terminations, When member record is updated, Then system creates new coverages, updates existing ones, removes terminated coverages, and recalculates all associated amounts.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=512766964"
]

---

#### Feature: Process Individual Member Record Rewrites
- **Role**: Billing Administrator
- **Action**: rewrite individual member records independently without triggering policy-level cascading changes
- **Value**: I can update specific member information while maintaining data integrity and preserving the broader policy structure

**Description:**

As a **Billing Administrator**,
I want to **rewrite individual member records independently without triggering policy-level cascading changes**,
So that **I can update specific member information while maintaining data integrity and preserving the broader policy structure**


**Key Capabilities:**

**Member Record Selection**
User is able to access an existing member record associated with a master policy for independent modification.

**Isolated Data Update**
User is able to rewrite specific member information without triggering master policy-level changes or propagating updates to related member records.

**Data Consistency Validation**
Upon submission, system validates that member-level data integrity is maintained while preserving the broader policy structure and relationships.


**Acceptance Criteria:**

**Independent Update Success**
Given an existing member record, When the user submits updated member information, Then the system applies changes only to the selected member record without modifying the master policy or other members.

**Data Integrity Preservation**
Given a successful rewrite operation, When the system completes the update, Then member-level data consistency is maintained and policy hierarchy relationships remain intact.

**Isolation Verification**
Given a member record update, When the transaction is completed, Then no cascading changes are triggered at the master policy level or propagated to related records.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=835228670"
]

---

#### Feature: Generate Self-Admin Master Policy Cancellation Events
- **Role**: Billing Administrator
- **Action**: initiate and process master policy cancellation events for self-administered group policies
- **Value**: group policy terminations are properly recorded, billing is adjusted accordingly, and downstream systems are notified of coverage cessation

**Description:**

As a **Billing Administrator**,
I want to **initiate and process master policy cancellation events for self-administered group policies**,
So that **group policy terminations are properly recorded, billing is adjusted accordingly, and downstream systems are notified of coverage cessation**


**Key Capabilities:**

**Cancellation Request Intake**
User is able to initiate master policy cancellation for self-administered policies with effective termination date

**Policy Termination Processing**
System validates cancellation eligibility, calculates final billing adjustments, and processes premium refunds or outstanding balances

**Event Generation & Distribution**
Upon successful cancellation, system generates standardized cancellation events and distributes notifications to billing, claims, and member systems

**Audit Trail Creation**
System records complete cancellation transaction history including timestamps, approver identity, and termination reasons for regulatory compliance


**Acceptance Criteria:**

**Successful Cancellation Processing**
Given a valid master policy with self-admin status, When cancellation is submitted with future effective date, Then system processes termination and generates cancellation events

**Billing Adjustment Validation**
Given an active policy with outstanding premium, When cancellation is processed, Then system calculates prorated refunds or final charges accurately

**Event Distribution Confirmation**
Given a completed cancellation transaction, When events are generated, Then all downstream systems receive notifications within defined timeframes

**Incomplete Data Handling**
Given missing required termination information, When cancellation is attempted, Then system prevents processing until data requirements are satisfied


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=716874334"
]

---

#### Feature: Process Employment Change Transactions
- **Role**: Billing Administrator
- **Action**: process employment change transactions to update policy billing and coverage terms
- **Value**: billing accuracy is maintained when policyholders experience employment status changes

**Description:**

As a **Billing Administrator**,
I want to **process employment change transactions to update policy billing and coverage terms**,
So that **billing accuracy is maintained when policyholders experience employment status changes**


**Key Capabilities:**

**Transaction Initiation**
User is able to receive and validate employment change notifications from authorized sources

**Policy Impact Assessment**
System evaluates policy terms to determine billing, premium, and coverage adjustments required by employment status change

**Billing Recalculation**
Upon validation, system recalculates premium amounts and adjusts billing schedules based on new employment parameters

**Transaction Execution**
System applies approved changes to policy records and updates billing arrangements

**Confirmation & Documentation**
When processing completes, system generates transaction confirmation and maintains audit trail for compliance reporting


**Acceptance Criteria:**

**Valid Employment Change Accepted**
Given authenticated employment change data, When transaction processing initiates, Then system successfully updates policy terms and recalculates billing

**Incomplete Data Rejected**
Given insufficient employment change information, When validation occurs, Then system prevents transaction completion until data requirements are satisfied

**Premium Adjustment Applied**
Given approved employment change, When billing recalculation executes, Then new premium amounts reflect current employment status per policy rules

**Audit Trail Maintained**
Given completed transaction, When processing finalizes, Then system records all change details for compliance and reporting purposes


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=833656492"
]

---
## Initiative: Invoicing & Statement Generation

### Epic: Billing Cycle & Period Control

#### Feature: Define Billing Period Boundaries and Invoicing Periods
- **Role**: Billing Administrator
- **Action**: configure and automate invoicing period calculations based on business frequency rules
- **Value**: ensure accurate, timely invoice generation aligned with contractual terms and minimize manual period adjustments

**Description:**

As a **Billing Administrator**,
I want to **configure and automate invoicing period calculations based on business frequency rules**,
So that **ensure accurate, timely invoice generation aligned with contractual terms and minimize manual period adjustments**


**Key Capabilities:**

**1. Invoicing Frequency Configuration**
User is able to define invoicing frequency types (monthly, quarterly, weekly, 28-day intervals) and select period calculation method (day-of-month alignment or fixed-interval).

**2. Month-Aligned Period Calculation**
Upon selecting day-of-month method, system calculates period start/end dates aligned to specific calendar days, handling edge cases for non-existent dates (e.g., February 30 defaults to last valid day).

**3. Fixed-Interval Period Calculation**
When fixed-day method is chosen, system applies strict interval additions (7/14/28 days) independent of calendar months, ensuring consistent period lengths.

**4. Frequency Transition Management**
If invoicing frequency changes mid-cycle, system recalculates first period under new rules, maintaining continuity from transition date while adopting new calculation logic.


**Acceptance Criteria:**

**1. Period Accuracy for Standard Frequencies**
Given monthly frequency with day-of-month method, When system calculates periods for January 31 start date, Then February period ends on February 28/29 (leap year aware).

**2. Fixed-Interval Consistency**
Given 28-day frequency with fixed-interval method, When system generates consecutive periods, Then each period spans exactly 28 days regardless of month boundaries.

**3. Edge Case Handling**
Given semi-monthly frequency where first invoice is month-end, When system calculates second period, Then 14-day offset logic applies instead of month-alignment.

**4. Frequency Change Recalculation**
Given active quarterly billing transitioning to monthly, When configuration changes effective mid-quarter, Then system calculates new monthly periods starting from transition date without gaps or overlaps.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=447619868"
]

---

#### Feature: Calculate Invoicing Period Start Dates
- **Role**: Billing Administrator
- **Action**: configure and calculate invoicing period start dates based on defined billing frequencies
- **Value**: invoices are generated consistently and accurately aligned with customer billing agreements and calendar requirements

**Description:**

As a **Billing Administrator**,
I want to **configure and calculate invoicing period start dates based on defined billing frequencies**,
So that **invoices are generated consistently and accurately aligned with customer billing agreements and calendar requirements**


**Key Capabilities:**

**1. Anchor Period Calculation to Invoicing Start Date**
System establishes all subsequent period dates based on the configured invoicing start date as the foundational reference point.

**2. Apply Monthly-Based Frequency Logic**
When monthly-based frequencies are selected (monthly, bi-monthly, quarterly, semi-annual, annual), system generates invoices at regular month intervals with automatic month-end adjustment for dates falling on 29th-31st.

**3. Execute Semi-Monthly Overlapping Calculation**
When semi-monthly frequency is configured, system calculates two distinct cycles per month using overlapping logic where next period start derives from previous period end.

**4. Process Fixed-Interval Frequencies**
When weekly-based or 28-day frequencies are selected, system generates invoices at fixed day intervals independent of calendar month boundaries.


**Acceptance Criteria:**

**1. Monthly-Based Frequency Validation**
Given invoicing start date is January 31st and frequency is monthly, when system calculates next period start, then February period starts on February 28th (or 29th in leap years).

**2. Semi-Monthly Period Sequencing**
Given semi-monthly frequency is configured, when first period end is determined, then system automatically calculates second period start as the day immediately following first period end.

**3. Fixed-Interval Independence**
Given weekly or 28-day frequency is selected, when system calculates period start dates, then generated dates operate independently from calendar month boundaries and maintain consistent day intervals.

**4. Frequency Type Differentiation**
Given different frequency types are configured, when system performs calculations, then monthly-based respects calendar months while fixed-interval maintains strict day counts.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=447619809"
]

---

#### Feature: Calculate Invoice Due Dates Based on Billing Rules
- **Role**: Billing Administrator
- **Action**: configure and execute automated invoice due date calculation based on billing rules and timing parameters
- **Value**: invoices maintain chronological integrity, comply with payment terms, and adapt to configuration changes without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **configure and execute automated invoice due date calculation based on billing rules and timing parameters**,
So that **invoices maintain chronological integrity, comply with payment terms, and adapt to configuration changes without manual intervention**


**Key Capabilities:**

**1. Base Due Date Determination**
System evaluates invoicing timing and frequency to establish foundation date. For arrears timing, adds offset periods to period end; for advance timing, subtracts offset periods from period start; for on-time timing, uses current period without offset.

**2. Due Day Application**
System applies configured due day value to calculated month. When specified day exceeds month length, automatically substitutes last available day. For semi-monthly frequency, selects appropriate due day from configured pair based on period relationship.

**3. Alternative Calculation Methods**
User is able to select calculation from period start date using positive/negative day offset, or designate last day of period as automatic due date, with offset logic applied to resulting period.

**4. Chronological Integrity Protection**
When calculated due date precedes system date or existing invoice due date, system iterates forward through invoicing periods until chronological sequence is maintained across billing account.


**Acceptance Criteria:**

**1. Standard Calculation Execution**
Given invoicing parameters are configured, When system calculates due date for new invoice, Then due date reflects timing model, frequency, and due day rules without manual intervention.

**2. Month-End Exception Handling**
Given due day specified exceeds target month days (e.g., 30th in February), When system applies due day, Then due date automatically adjusts to last available day of that month.

**3. Past Date Prevention**
Given calculated due date falls before current system date, When validation occurs, Then system shifts due date forward to next qualifying period maintaining same calculation logic until future date achieved.

**4. Sequence Preservation After Configuration Change**
Given existing invoices have established due dates, When billing parameters change mid-cycle, Then new invoice due dates maintain chronological order relative to prior invoices on same billing account.

**5. Semi-Monthly Dual Due Day Resolution**
Given semi-monthly frequency with two configured due days, When system calculates for each period, Then appropriate due day selected based on period relationship and comparison logic applied correctly.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=447620118"
]

---

#### Feature: Manage Billing Cycle Frequency Configuration
- **Role**: Billing Administrator
- **Action**: configure semi-monthly invoicing frequency with sequential due day parameters
- **Value**: the system generates two invoices per billing period with logically consistent payment deadlines that prevent scheduling conflicts

**Description:**

As a **Billing Administrator**,
I want to **configure semi-monthly invoicing frequency with sequential due day parameters**,
So that **the system generates two invoices per billing period with logically consistent payment deadlines that prevent scheduling conflicts**


**Key Capabilities:**

**1. Initiate Semi-Monthly Configuration**
User establishes first payment milestone within operational range, enabling subsequent parameter definition.

**2. Define Sequential Payment Milestone**
Upon first milestone selection, system dynamically constrains second milestone to chronologically valid options, preventing overlapping deadlines.

**3. Modify Secondary Milestone**
When refining second payment deadline, system preserves primary milestone and applies existing sequential constraints.

**4. Reconfigure Primary Milestone**
If primary milestone is revised, system resets dependent secondary milestone and recalculates valid sequencing constraints to maintain chronological integrity.


**Acceptance Criteria:**

**1. Configuration Initiation**
Given no prior configuration, When administrator accesses frequency settings, Then primary milestone selector is active and secondary selector is inactive.

**2. Sequential Constraint Enforcement**
Given primary milestone is defined, When system enables secondary selector, Then only chronologically subsequent values are available.

**3. Independent Secondary Adjustment**
Given both milestones are configured, When secondary milestone is changed, Then primary milestone remains unchanged and constraints persist.

**4. Cascading Primary Reconfiguration**
Given existing configuration, When primary milestone is modified, Then secondary milestone clears and system recalculates valid sequential range.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=571486148"
]

---

#### Feature: Define Reporting Period Length by Invoicing Frequency
- **Role**: Billing Administrator
- **Action**: configure reporting period lengths aligned with invoicing frequencies for self-bill products
- **Value**: billing cycles accurately reflect policy coverage reporting requirements while maintaining regulatory compliance and operational efficiency

**Description:**

As a **Billing Administrator**,
I want to **configure reporting period lengths aligned with invoicing frequencies for self-bill products**,
So that **billing cycles accurately reflect policy coverage reporting requirements while maintaining regulatory compliance and operational efficiency**


**Key Capabilities:**

**1. Invoicing Frequency Selection**
User is able to designate billing frequency (monthly, quarterly, or annual) as the foundational constraint for reporting period configuration.

**2. Reporting Period Assignment**
User is able to assign reporting periods that comply with the rule: reporting period duration must equal or be shorter than the invoicing period.
    2.1 When monthly invoicing is selected, system restricts reporting to monthly periods only.
    2.2 When quarterly invoicing is selected, system permits monthly or quarterly reporting periods.
    2.3 When annual invoicing is selected, system allows monthly, quarterly, or annual reporting periods.

**3. Multi-Coverage Period Differentiation**
User is able to configure distinct reporting periods for different coverages within the same plan when invoicing frequency is quarterly or annual.

**4. Configuration Validation**
Upon submission, system validates period-frequency combinations against business rules and rejects non-compliant configurations.


**Acceptance Criteria:**

**1. Monthly Invoicing Constraint Enforcement**
Given monthly invoicing frequency is selected, when user attempts to assign quarterly or annual reporting periods, then system rejects the configuration and prevents submission.

**2. Quarterly Invoicing Flexibility**
Given quarterly invoicing frequency is configured, when user assigns monthly or quarterly reporting periods to any coverage, then system accepts the configuration.

**3. Annual Invoicing Maximum Flexibility**
Given annual invoicing frequency is established, when user selects monthly, quarterly, or annual reporting periods, then system validates and permits all combinations.

**4. Invalid Combination Rejection**
Given any invoicing frequency, when user attempts to configure a reporting period exceeding the invoicing period duration, then system rejects the configuration with validation failure notification.

**5. Multi-Coverage Configuration Success**
Given quarterly or annual invoicing, when user assigns different reporting periods to multiple coverages within one plan, then system accepts heterogeneous reporting period assignments.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=521348131"
]

---

#### Feature: Generate Payment Requests for Billing Periods
- **Role**: Billing Administrator
- **Action**: generate and dispatch payment requests for self-bill accounts within designated billing periods
- **Value**: I ensure timely premium collection by proactively requesting payments based on accurate period calculations and business rules

**Description:**

As a **Billing Administrator**,
I want to **generate and dispatch payment requests for self-bill accounts within designated billing periods**,
So that **I ensure timely premium collection by proactively requesting payments based on accurate period calculations and business rules**


**Key Capabilities:**

**Payment Request Initiation**
User triggers payment request generation for an eligible self-bill billing account and confirms the operation.

**Billing Hold Validation**
System verifies no active invoice hold exists for the account based on configured hold type, effective date, and expiration date.
    2.1 Upon detecting active hold, system prevents generation and notifies user of restriction

**Billing Period Determination**
System calculates the earliest billing period requiring payment request based on period start/end dates and prior payment history.

**Modal Amount Verification**
System confirms active product modal amounts exist for the target period across all plan coverages and master policies.

**Payment Request Finalization**
System opens the billing period, populates period amount and payment due date, updates account next payment due date, generates payment request document, and confirms successful completion.


**Acceptance Criteria:**

**1. Successful Payment Request Generation**
Given an eligible self-bill account without holds and with active modal amounts, when user confirms generation, then system calculates billing period, populates period amount, sets payment due date, generates document, and displays success notification.

**2. Billing Hold Prevention**
Given an account with active invoice hold configuration, when user attempts generation, then system blocks the operation and displays hold restriction alert without creating payment request.

**3. Missing Modal Amount Rejection**
Given no active product modal amount exists for the calculated period, when system validates eligibility, then system terminates process and displays inability to generate payment request.

**4. User Cancellation**
Given confirmation modal is displayed, when user cancels operation, then system closes modal without modifying account data or generating payment request.

**5. Payment Due Date Accuracy**
Given successful generation, when system finalizes billing period, then payment due date is calculated per business rules and account next payment due is synchronized.

**6. Period Amount Calculation**
Given first open period, when system populates period amount, then value equals sum of product modal amounts; given subsequent period, then value equals previous period premium amount.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=517605382"
]

---

#### Feature: Calculate Payment Due Dates for Self-Bill Accounts
- **Role**: Billing Administrator
- **Action**: calculate payment due dates for self-bill account invoices
- **Value**: invoices are generated with accurate payment deadlines that align with billing period rules and payment terms

**Description:**

As a **Billing Administrator**,
I want to **calculate payment due dates for self-bill account invoices**,
So that **invoices are generated with accurate payment deadlines that align with billing period rules and payment terms**


**Key Capabilities:**

**1. Invoice Generation Event Detection**
System identifies invoice generation trigger (automatic billing cycle or manual request) and initiates due date calculation process.

**2. Due Date Calculation Execution**
System applies configured business rules to calculate payment due date based on billing period parameters and payment terms.
    2.1 When processing future billing periods, system adjusts calculation logic to use next period's start date and payment terms.
    2.2 When generating manual invoices, system applies identical calculation rules as automatic generation.

**3. Due Date Assignment**
System assigns calculated payment due date to the invoice record.


**Acceptance Criteria:**

**1. Automatic Invoice Generation**
Given an invoice is triggered by automatic billing cycle, When system calculates due date, Then payment due date is assigned based on current period parameters and configured business rules.

**2. Manual Invoice Generation**
Given user initiates manual invoice generation, When system calculates due date, Then identical business rules are applied as automatic generation ensuring consistency.

**3. Future Billing Period Handling**
Given payment request is for next billing period, When system calculates due date, Then calculation uses upcoming period's start date and payment terms.

**4. Calculation Completion**
Given due date calculation is triggered, When calculation completes, Then invoice contains valid payment due date before generation finalization.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=527536321"
]

---

#### Feature: Manage Billing Period Amendment Windows
- **Role**: Billing Administrator
- **Action**: manage and control amendment processing windows within billing cycles
- **Value**: policy amendments are accurately tracked, calculated, and incorporated into the correct billing period before statement generation

**Description:**

As a **Billing Administrator**,
I want to **manage and control amendment processing windows within billing cycles**,
So that **policy amendments are accurately tracked, calculated, and incorporated into the correct billing period before statement generation**.


**Key Capabilities:**

**1. Amendment Tracking Initialization**
When policy amendments occur between billing cycles, the system captures and queues unbilled amendment values for processing.

**2. Amendment Value Calculation**
System calculates monetary impact of unbilled amendments using defined calculation logic and formulas for accurate financial representation.

**3. Multi-Sequence Amendment Allocation**
Upon detecting multiple premium sequences, system applies allocation rules to distribute amendment values appropriately across sequences.

**4. Amendment Value Updates**
System continuously updates amendments not yet billed values as policy changes occur during the amendment window.

**5. Billing Cycle Integration**
When billing cycle closes, system transfers calculated amendment values into the billing process for statement generation.


**Acceptance Criteria:**

**1. Amendment Capture Accuracy**
Given policy amendments occur during an open billing period, When the amendment window is active, Then system records all unbilled amendment values without loss.

**2. Calculation Precision**
Given unbilled amendments exist, When calculation logic executes, Then system produces accurate monetary values reflecting all policy changes.

**3. Multi-Sequence Handling**
Given a policy with multiple premium sequences, When amendments are processed, Then system correctly allocates amendment values across all sequences per business rules.

**4. Billing Integration Completeness**
Given billing cycle closes, When amendment window ends, Then all processed amendments are transferred to billing without exceptions.

**5. Update Consistency**
Given amendments change during the window, When updates occur, Then system maintains consistent and current unbilled amendment values.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=547989902"
]

---

#### Feature: Display Billing Period Details with Master Policy Hierarchy
- **Role**: Billing Administrator
- **Action**: view comprehensive billing period details within a hierarchical master policy structure
- **Value**: I can monitor billing cycles, identify transaction anomalies, and verify premium calculations across policy hierarchies efficiently

**Description:**

As a **Billing Administrator**,
I want to **view comprehensive billing period details within a hierarchical master policy structure**,
So that **I can monitor billing cycles, identify transaction anomalies, and verify premium calculations across policy hierarchies efficiently**


**Key Capabilities:**

**1. Billing Period Access & Overview**
User accesses billing period details for a self-bill account, viewing date range and navigating hierarchical master policy structures.

**2. Master Policy Hierarchy Navigation**
User explores collapsible master policies displaying total premiums, transaction alerts (cancellations, amendments, renewals), delinquency flags, and coverage counts.
    2.1 When policies have effective transactions, red indicators appear
    2.2 When future-dated transactions exist, orange indicators display

**3. Plan-Coverage Detail Analysis**
User expands plan-coverage combinations to review reporting periods with granular metrics (lives, volume, rates, calculated amounts) sorted descendingly.

**4. Transaction Status Monitoring**
User identifies modified values, payment discards, policy rewrites, and plan additions through visual indicators and hover-over details.

**5. Data Export & Record Management**
User exports billing period details to CSV format for audit trails and offline analysis.


**Acceptance Criteria:**

**1. Billing Period Data Retrieval**
Given a self-bill account billing period exists, When the user accesses details, Then the system displays the complete three-section interface with date range and master policy hierarchy.

**2. Transaction Alert Visibility**
Given policies have transactions (cancellations, amendments, renewals), When viewing master policies, Then the system displays appropriate color-coded indicators (red for effective, orange for pending).

**3. Premium Calculation Accuracy**
Given multiple reporting periods exist, When displaying total premium, Then the system aggregates all calculated amounts correctly across hierarchies.

**4. Reporting Period Filtering**
Given a master policy effective date, When displaying reporting periods, Then the system excludes periods predating the policy effective date and sorts descendingly.

**5. Data Export Completeness**
Given billing period details are displayed, When the user exports to CSV, Then the system stores complete hierarchical data in eFolder.

**6. Navigation Integrity**
Given the user closes the details view, When exiting, Then the system returns to the originating context (account view or period list).


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=520069091"
]

---

#### Feature: Sort and Order Billing Period Product Segments
- **Role**: Billing Administrator
- **Action**: configure and display product segment subgroups in standardized order during billing cycles
- **Value**: invoices and statements present consistent, logically organized product segment information for accurate billing reconciliation

**Description:**

As a **Billing Administrator**,
I want to **configure and display product segment subgroups in standardized order during billing cycles**,
So that **invoices and statements present consistent, logically organized product segment information for accurate billing reconciliation**


**Key Capabilities:**

**1. Subgroup Display Initialization**
System retrieves multiple subgroup values for billing period product segments and prepares for ordered presentation

**2. Primary Subtype Ordering**
System applies alphabetical/numerical ascending sort to subtype categories (Age Band, Gender Band, Tobacco Status)

**3. Conditional Secondary Ordering**
System applies subtype-specific sorting rules:
    3.1 When subtype is Age Band, order using fixed age range sequence (&lt;25, 25-29, 30-34...65+)
    3.2 When subtype is Gender Band or Tobacco Status, order alphabetically/numerically ascending

**4. Formatted Output Generation**
System presents ordered subgroup values as comma-separated display for billing documents


**Acceptance Criteria:**

**1. Multi-Subtype Display**
Given multiple subgroup values exist, When billing period generates, Then system displays all values comma-separated and ordered by subtype alphabetically

**2. Age Band Sequencing**
Given Age Band subtype exists, When ordering values, Then system applies fixed sequence from &lt;25 through 65+ regardless of input order

**3. Standard Alphabetical Sorting**
Given Gender Band or Tobacco Status subtypes, When ordering values, Then system sorts alphabetically/numerically ascending within each subtype

**4. Consistent Presentation**
Given identical subgroup data, When processed across different billing cycles, Then system produces identical ordering in all statements


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=565757301"
]

---

#### Feature: Manage Next Payment Due Date Updates
- **Role**: Billing Administrator
- **Action**: manage automated updates to next payment due dates based on billing cycle progression and invoice payment status
- **Value**: billing accounts maintain accurate payment expectations and downstream payment operations reference current due date information

**Description:**

As a **Billing Administrator**,
I want to **manage automated updates to next payment due dates based on billing cycle progression and invoice payment status**,
So that **billing accounts maintain accurate payment expectations and downstream payment operations reference current due date information**


**Key Capabilities:**

**Initial Due Date Establishment**
Upon first product issuance and invoicing start date configuration, system populates next payment due date with the due date of the first billing period.

**Payment-Triggered Date Advancement**
When an invoice achieves paid status, system advances next payment due date to the due date of the subsequent billing period.

**Invoicing Parameter Recalculation**
When invoicing start date is reset, system recalculates billing periods and updates next payment due date accordingly.

**Payment Status Reversal Handling**
If invoice status changes from paid to unpaid, system resets next payment due date to the earliest outstanding invoice due date.


**Acceptance Criteria:**

**Initial Population**
Given first product issued and invoicing start date configured, when billing periods are established, then next payment due date reflects first period due date.

**Payment Completion Update**
Given invoice reaches paid status, when payment confirmation processes, then next payment due date advances to subsequent billing period due date.

**Start Date Reset Recalculation**
Given invoicing start date is modified, when billing periods regenerate, then next payment due date recalculates based on new period structure.

**Payment Reversal Adjustment**
Given invoice status changes from paid to unpaid, when status change processes, then next payment due date resets to earliest unpaid invoice due date.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=562434955"
]

---

#### Feature: View Invoices Grouped by Billing Period
- **Role**: Billing Administrator
- **Action**: access and review invoices organized within billing periods for self-bill accounts
- **Value**: I can efficiently monitor premium billing cycles and assess account payment status by reviewing invoices chronologically within their respective periods

**Description:**

As a **Billing Administrator**,
I want to **access and review invoices organized within billing periods for self-bill accounts**,
So that **I can efficiently monitor premium billing cycles and assess account payment status by reviewing invoices chronologically within their respective periods**


**Key Capabilities:**

**Billing Period Access**
User is able to expand a specific billing period on a self-bill account to reveal all associated invoices within the premiums due section

**Invoice Display and Sorting**
System presents invoices containing billable items for the selected period, automatically sorted by issue date with most recent transactions appearing first

**Period Navigation**
User is able to collapse expanded billing periods to return to summary view or navigate to detailed invoice information

    3.1 When user selects an invoice number, system opens detailed invoice information in a slide-out panel
    3.2 User maintains context of the parent billing period during invoice detail review


**Acceptance Criteria:**

**Successful Period Expansion**
Given a self-bill billing account with at least one billing period containing invoices, When the user expands a billing period, Then the system displays all invoices with billable items for that period sorted by issue date in descending order

**Invoice Navigation**
Given an expanded billing period with multiple invoices, When the user selects an invoice number link, Then the system opens the invoice details without losing the billing period context

**Period Collapse Behavior**
Given an expanded billing period, When the user collapses it, Then the system hides the invoice list and returns to the period summary view

**Empty Period Handling**
Given a billing period exists without invoices containing billable items, When the user attempts to expand it, Then the system prevents expansion or displays appropriate notification


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=518854677"
]

---

### Epic: Premium Calculation & Allocation

#### Feature: Calculate Premium for Self-Bill Products Based on Reporting Periods
- **Role**: Billing Administrator
- **Action**: calculate premium allocations across reporting periods for self-bill master policies
- **Value**: accurate premium distribution aligns with customer reporting cycles and policy coverage timelines

**Description:**

As a **Billing Administrator**,
I want to **calculate premium allocations across reporting periods for self-bill master policies**,
So that **accurate premium distribution aligns with customer reporting cycles and policy coverage timelines**


**Key Capabilities:**

**1. Reporting Period Initialization**
System establishes the first reporting period aligned to billing period start date and customer-defined reporting frequency (monthly, quarterly, annual)

**2. Iterative Period Calculation**
System calculates subsequent reporting periods by advancing start dates per configured frequency and aligning to invoicing start date rules within month boundaries
    2.1 When previous period end date remains within billing period, system advances to next period
    2.2 If calculated period exceeds billing boundary, system halts calculation

**3. Master Policy Constraint Application**
System validates reporting periods against master policy effective dates and assigns zero premium when effective date falls after period end

**4. Coverage-Specific Period Management**
System generates distinct reporting period sets per coverage when multiple coverages exist under one master policy


**Acceptance Criteria:**

**1. Period Boundary Compliance**
Given a billing period and reporting frequency, When system calculates reporting periods, Then all periods remain within billing boundaries with no cross-period overlap

**2. Frequency-Based Advancement**
Given monthly/quarterly/annual frequency configuration, When system calculates subsequent periods, Then start dates advance by 1/3/12 months respectively with proper month-end alignment

**3. Effective Date Premium Logic**
Given master policy effective date after reporting period end, When system calculates premium, Then premium equals zero for that period

**4. Calculation Termination**
Given calculated period end date equals or exceeds billing period end, When system evaluates continuation, Then calculation stops and period is not saved

**5. Multi-Coverage Independence**
Given multiple coverages with different reporting frequencies, When system processes master policy, Then each coverage receives independent period calculations within shared billing period


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=527534425"
]

---

#### Feature: Calculate Modal Premium for Seasonal Billing Accounts
- **Role**: Billing Administrator
- **Action**: calculate and allocate modal premiums across active billing periods for seasonal accounts
- **Value**: annual premiums are accurately redistributed when billing is paused during seasonal gaps

**Description:**

As a **Billing Administrator**,
I want to **calculate and allocate modal premiums across active billing periods for seasonal accounts**,
So that **annual premiums are accurately redistributed when billing is paused during seasonal gaps**


**Key Capabilities:**

**1. Configure Seasonal Billing Account**
User enables seasonal billing for monthly invoicing accounts by activating advanced schedule and selecting 1-11 non-billing periods. System automatically initiates modality calculations upon account creation.

**2. Recalculate Premium Distribution**
System calculates modal premium based on total annual invoices minus seasonal gap periods. Modal-based daily rate prorates premium when effective dates misalign with period boundaries.
    2.1 Upon seasonal gap configuration change, system recalculates all member record premiums and updates modal history
    2.2 When premium changes occur during seasonal gaps, adjustments reflect in first post-gap invoice

**3. Manage Billing Period Updates**
User updates seasonal gap configuration. System validates no issued/paid invoices exist before permitting changes; otherwise requires invoice discard.

**4. Generate Invoices and Billable Items**
System validates modal periods against seasonal gap configuration and prevents billable item generation for gap periods and skips invoice creation during configured non-billing months.


**Acceptance Criteria:**

**1. Premium Redistribution Accuracy**
Given a billing account with 3-month seasonal gap configured, When annual premium is $12,000, Then system calculates modal premium as $1,333.33 across 9 active billing periods.

**2. Seasonal Gap Configuration Enforcement**
Given billing account has issued invoices, When user attempts to modify seasonal gap periods, Then system blocks update until invoices are discarded.

**3. Invoice Generation Prevention**
Given billing period falls within configured seasonal gap, When automated invoice generation executes, Then system skips account and generates no invoice for that period.

**4. Mid-Year Premium Change Handling**
Given premium rate change occurs during seasonal gap, When next active billing period begins, Then system reflects adjustment in first post-gap invoice with recalculated modal amount.

**5. Paid-To-Date Continuity**
Given all pre-gap invoices are paid, When seasonal gap period ends, Then system extends paid-to-date to end of gap period maintaining coverage continuity.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=792238839"
]

---

#### Feature: Calculate Paid-To-Date for Self-Bill Master Policies
- **Role**: Billing Administrator
- **Action**: calculate the paid-to-date coverage period for master policies using configurable business strategies
- **Value**: accurate payment-to-coverage reconciliation enables timely delinquency management and supports cross-system policy decisions

**Description:**

As a **Billing Administrator**,
I want to **calculate the paid-to-date coverage period for master policies using configurable business strategies**,
So that **accurate payment-to-coverage reconciliation enables timely delinquency management and supports cross-system policy decisions**.


**Key Capabilities:**

**1. Strategy Configuration & Selection**
Administrator configures one of three calculation strategies (By Invoice, By Daily Rate, or Maximum of Both) via business rules engine.

**2. On-Demand PTD Calculation Trigger**
System performs calculation when user accesses billing views, automated processes execute (delinquency jobs), or external subsystems request via API.

**3. By Invoice Strategy Processing**
System identifies fully-paid invoice sequence, calculates uninterrupted coverage period from policy effective date, ignoring invoice gaps.

**4. By Daily Rate Strategy Processing**
System computes average daily rate from total invoiced amount, divides total payments by rate to determine covered days from effective date.

**5. Maximum Strategy Adjudication**
System calculates both invoice-based and rate-based values, selects later date as paid-to-date result.

**6. Default Condition Handling**
Upon no qualifying payments or invoices, system returns master policy effective date as paid-to-date baseline.


**Acceptance Criteria:**

**1. Strategy-Driven Calculation Accuracy**
Given selected strategy is By Invoice, when multiple invoices are fully paid, then system returns last date of uninterrupted paid sequence from policy effective date.

**2. Dynamic Rate Recalculation**
Given By Daily Rate strategy, when new invoices are generated or discarded, then average daily rate recalculates automatically affecting paid-to-date outcome.

**3. Maximum Strategy Precedence**
Given Maximum strategy is configured, when both invoice and daily rate methods produce different dates, then system selects later date as final paid-to-date value.

**4. Cross-System API Response**
Given external subsystem requests paid-to-date via API, when calculation completes, then system returns per-master-policy result without user interface interaction.

**5. Zero-Payment Baseline**
Given no payments allocated to master policy, when calculation is triggered, then system returns master policy effective date as paid-to-date default.

**6. Multi-Trigger Consistency**
Given paid-to-date calculation is requested via user interface, automated job, or API, when same master policy is evaluated, then all triggers produce identical results.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=726964318"
]

---

#### Feature: Calculate Amendments Not Yet Billed (ANYB) Balance
- **Role**: Billing Administrator
- **Action**: calculate and track premium adjustments before invoice generation
- **Value**: ensure accurate billing amounts reflect all policy changes prior to statement issuance

**Description:**

As a **Billing Administrator**,
I want to **calculate and track premium adjustments before invoice generation**,
So that **ensure accurate billing amounts reflect all policy changes prior to statement issuance**


**Key Capabilities:**

**1. Amendment Balance Aggregation**
User is able to identify and aggregate all policy amendments executed within the billing period that have not yet been reflected in issued invoices.

**2. Premium Recalculation Processing**
Upon detecting policy modifications, system automatically recalculates premium impacts including continuation cases, portability scenarios, and mid-term adjustments.

**3. Excessive Payment Reconciliation**
When amendments result in overpayments, system determines unallocated amounts requiring adjustment before next billing cycle.

**4. Balance Update and Tracking**
System maintains real-time balance of unbilled amendment values and updates records for downstream invoice generation processes.


**Acceptance Criteria:**

**1. Amendment Detection Accuracy**
Given policy amendments exist within billing period, When balance calculation executes, Then all qualifying modifications are included without duplication.

**2. Continuation Case Handling**
Given policy continuation scenario with amendments, When balance is calculated, Then system correctly applies continuation-specific calculation rules and timing logic.

**3. Overpayment Identification**
Given amendments reduce premium liability, When excessive payment calculation runs, Then system accurately identifies unallocated amounts requiring reconciliation.

**4. Invoice Generation Readiness**
Given ANYB balance is calculated, When invoice generation initiates, Then all unbilled amendments are properly reflected in statement amounts.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=516401527"
]

---

#### Feature: Allocate Premium Across Multiple Premium Sequences
- **Role**: Billing Administrator
- **Action**: allocate calculated premiums across multiple premium sequences with automated adjustments for amendments and payment variances
- **Value**: premiums are accurately distributed, amendments are properly accounted for, and payment discrepancies are systematically resolved across complex billing arrangements

**Description:**

As a **Billing Administrator**,
I want to **allocate calculated premiums across multiple premium sequences with automated adjustments for amendments and payment variances**,
So that **premiums are accurately distributed, amendments are properly accounted for, and payment discrepancies are systematically resolved across complex billing arrangements**


**Key Capabilities:**

**Premium Projection Across Sequences**
System executes premium calculations utilizing multiple configured sequences to generate accurate premium projections based on policy characteristics and billing requirements.

**Amendment Value Reconciliation**
Upon detection of policy amendments, system applies business rules to calculate unbilled premium adjustments and integrates values into allocation workflow.

**Excessive Payment Processing**
When payment variances are identified, system calculates excessive payment amounts for True Group and Individual Direct arrangements and initiates appropriate resolution actions.

**Premium Distribution Finalization**
System allocates calculated premiums across designated sequences, ensuring accurate distribution and preparing data for invoice generation.


**Acceptance Criteria:**

**Successful Multi-Sequence Allocation**
Given multiple premium sequences are configured, When projection is triggered, Then system distributes premiums accurately across all sequences per business rules.

**Amendment Integration**
Given policy amendments exist, When calculation executes, Then system includes unbilled amendment values and reflects adjusted totals in allocation.

**Excessive Payment Handling**
Given invoice payment exceeds billed amount, When variance is detected, Then system calculates excessive payment for applicable billing arrangement and records discrepancy.

**Incomplete Data Prevention**
Given required premium calculation data is missing, When allocation is attempted, Then system prevents processing and identifies missing information.

**Allocation Audit Trail**
Given premium allocation completes, When reviewing transaction history, Then system provides complete allocation breakdown across sequences with timestamps.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=773136337"
]

---

#### Feature: Include Pending Invoice Items into List Bill and Individual Direct Invoices
- **Role**: Billing Administrator
- **Action**: include eligible pending invoice items into invoices based on payment allocation rules and billing periods
- **Value**: invoices accurately reflect premiums due according to billing account type, payment modes, and configured invoicing periods

**Description:**

As a **Billing Administrator**,
I want to **include eligible pending invoice items into invoices based on payment allocation rules and billing periods**,
So that **invoices accurately reflect premiums due according to billing account type, payment modes, and configured invoicing periods**


**Key Capabilities:**

**1. Determine Payment Allocation Mode**
Upon invoice generation, system identifies whether billing account uses GROUP or INDIVIDUAL payment allocation mode to apply appropriate inclusion logic.

**2. Apply GROUP Mode Inclusion Rules**
When GROUP mode is active, system includes pending invoice items based on configured criterion (periodFrom or periodTo) compared against invoicing period end date.

**3. Apply INDIVIDUAL Mode Inclusion Rules**
When INDIVIDUAL mode is active, system matches invoice items to payroll deduction dates within invoicing period, including items when deduction dates fall within item coverage periods.

**4. Handle Exception Scenarios**
System processes items without matching payroll dates using frequency-specific deviation rules, assigns retroactive items to prior billing periods, and excludes future-dated items from current invoice.

**5. Apply Migration Exclusion Rules**
When processing migrated accounts, system excludes modal periods starting before aligned billing start date for List Bill and Self-bill accounts.


**Acceptance Criteria:**

**1. GROUP Mode Inclusion Validation**
Given GROUP payment allocation mode with periodFrom criterion, When invoice generation occurs, Then system includes all pending invoice items where periodFrom does not exceed invoice period end date.

**2. INDIVIDUAL Mode Payroll Matching**
Given INDIVIDUAL payment allocation mode, When invoice items have payroll deduction dates within invoicing period and item coverage period, Then system includes those items in current invoice.

**3. Deviation Handling for Unmatched Items**
Given invoice items without matching payroll dates, When item periodFrom precedes invoice period start and invoice period start meets payroll deduction start date, Then system includes items per frequency-specific deviation rules.

**4. Retroactive Period Assignment**
Given invoice items with payroll dates before current invoice period, When system matches dates to previous invoicing periods, Then items are included in current invoice but assigned to matched prior billing period.

**5. Migration Exclusion Enforcement**
Given migrated List Bill or Self-bill account with billing start date, When processing modal periods, Then system excludes periods starting before aligned billing start date.

**6. Deduplication Guarantee**
Given invoice items satisfying multiple inclusion rules, When invoice is generated, Then each item appears exactly once in the invoice.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=478743142"
]

---

#### Feature: Include Pending Invoice Items into Self-Bill Invoices
- **Role**: Billing Administrator
- **Action**: incorporate eligible pending invoice items into self-bill invoices during invoice generation
- **Value**: accurate billing period coverage and complete premium collection are ensured

**Description:**

As a **Billing Administrator**,
I want to **incorporate eligible pending invoice items into self-bill invoices during invoice generation**,
So that **accurate billing period coverage and complete premium collection are ensured**


**Key Capabilities:**

**1. Evaluate Pending Items Against Inclusion Criteria**
System assesses each pending invoice item to determine eligibility based on billing period boundaries, non-zero amount requirements, and adjustment status.

**2. Apply Billing Period Boundary Rules**
System includes items where end date falls within or before the current billing period and incorporates delta adjustments from prior periods.

**3. Enforce Migration Exception Logic**
When billing account originates from legacy system with assigned billing start date, system excludes all billable items from periods prior to that date regardless of policy effective dates.


**Acceptance Criteria:**

**1. Standard Inclusion Validation**
Given pending invoice items exist, When invoice generation occurs, Then only items with end dates within/before billing period and non-zero amounts are included.

**2. Delta Adjustment Handling**
Given prior period adjustments exist, When current invoice is generated, Then delta items from previous billing periods are incorporated.

**3. Migration Boundary Enforcement**
Given billing account has migration billing start date, When invoice generation runs, Then system excludes all items from periods preceding the start date.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=534807102"
]

---

#### Feature: Generate Billable Items for Self-Bill Products Based on Reporting Periods
- **Role**: Billing Administrator
- **Action**: automatically calculate reporting periods and generate billable items for self-bill master policies based on configured invoicing schedules
- **Value**: accurate premium allocation aligned with business reporting cycles and billing periods is ensured without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **automatically calculate reporting periods and generate billable items for self-bill master policies based on configured invoicing schedules**,
So that **accurate premium allocation aligned with business reporting cycles and billing periods is ensured without manual intervention**


**Key Capabilities:**

**1. Reporting Period Initialization**
Upon billing period activation overlapping master policy effective dates, system establishes initial reporting period starting at billing period commencement, calculating end date by determining next period boundary minus one day.

**2. Iterative Period Calculation**
System sequentially generates subsequent reporting periods by adding configured intervals (monthly/quarterly/annual) to previous start date, aligning with invoicing start date while validating month-day existence.
    2.1 When invoicing day exceeds calculated month days, system defaults to last valid day
    2.2 If invoicing date represents month-end, system maintains month-end alignment

**3. Boundary Validation & Termination**
System validates each calculated period falls entirely within billing boundaries, halting generation when period end exceeds billing end.

**4. Zero-Value Period Handling**
When master policy effective date exceeds reporting period end, system records period structure with zero premium allocations.


**Acceptance Criteria:**

**1. Period Containment Validation**
Given multiple reporting periods calculated, When any period spans billing boundary, Then system prevents period creation and terminates calculation for current billing window.

**2. Multi-Coverage Independence**
Given master policy with multiple coverages, When reporting periods calculated, Then each coverage maintains separate period sequences within identical billing windows.

**3. Date Alignment Accuracy**
Given invoicing start date of 31st and calculated month with 30 days, When subsequent period calculated, Then system sets start date to 30th maintaining period continuity.

**4. Pre-Effective Period Handling**
Given master policy effective date after reporting period end, When billable items generated, Then system creates period record with zero premium values and no billing calculations.

**5. Interval Calculation Precision**
Given quarterly reporting configuration, When second period calculated from January 15th, Then system produces April 15th start date applying three-month increment.

**6. Terminal Period Detection**
Given reporting period end equals billing period end, When validation executed, Then system designates as final period and halts further calculations.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=527534425"
]

---

#### Feature: Manage Premium Allocation for List Bill Products with Individual and Group Modes
- **Role**: Billing Administrator
- **Action**: manage premium allocation across individual and group payment modes for list bill products
- **Value**: invoices accurately reflect coverage periods and align with payroll deduction schedules, ensuring timely premium collection

**Description:**

As a **Billing Administrator**,
I want to **manage premium allocation across individual and group payment modes for list bill products**,
So that **invoices accurately reflect coverage periods and align with payroll deduction schedules, ensuring timely premium collection**


**Key Capabilities:**

**1. Premium Allocation Mode Selection**
System determines inclusion rules based on configured Payment Allocation Mode (GROUP or INDIVIDUAL) for the billing account

**2. GROUP Mode Invoice Item Inclusion**
When allocation mode is GROUP, system includes invoice items using configured criterion (periodFrom or periodTo) compared against invoicing period end date

**3. INDIVIDUAL Mode Payroll-Based Inclusion**
When allocation mode is INDIVIDUAL, system maps invoice items to payroll deduction dates within invoicing period boundaries
    3.1 System handles future payroll dates by deferring items to subsequent invoices
    3.2 System includes orphaned items without matching payroll dates based on frequency-specific rules

**4. Migration Account Handling**
System excludes modal periods predating aligned billing start date for migrated policies while including regular modal premiums per standard rules


**Acceptance Criteria:**

**1. GROUP Mode Allocation Execution**
Given payment allocation mode is GROUP and inclusion criterion is periodFrom, When invoice generation occurs, Then system includes all invoice items where periodFrom is on or before invoicing period end date

**2. INDIVIDUAL Mode Payroll Alignment**
Given payment allocation mode is INDIVIDUAL and payroll deduction dates exist within invoicing period, When invoice items match payroll dates within their period boundaries, Then system includes matched items exactly once per invoice

**3. Exception Handling for Missing Payroll Dates**
Given invoice items have no matching payroll deduction dates in their period range, When invoicing frequency is semi-monthly, Then system applies frequency-specific fallback rules comparing periodFrom against payroll deduction start date and invoicing period

**4. Migration Policy Exclusion**
Given billing account contains migrated policies with assigned billing start date, When determining invoice item inclusion, Then system excludes modal periods starting before aligned billing start date


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=478743142"
]

---

#### Feature: Trigger Waived Premium Events for Member Records in Invoices
- **Role**: Billing Administrator
- **Action**: trigger and capture waived premium events during invoice generation for member records
- **Value**: I can accurately track premium waivers and reversals across individual and group policies for compliant billing operations

**Description:**

As a **Billing Administrator**,
I want to **trigger and capture waived premium events during invoice generation for member records**,
So that **I can accurately track premium waivers and reversals across individual and group policies for compliant billing operations**


**Key Capabilities:**

**1. Invoice Generation Trigger**
When system generates invoice containing waived premium information, event is automatically triggered capturing transaction timestamp and invoice context.

**2. Policy Context Identification**
System determines product type and populates master policy details for group benefits or omits for individual benefits products.

**3. Waiver Amount Processing**
User is able to process negative amounts representing premium reductions and positive amounts indicating waiver reversals within modal coverage periods.

**4. Multi-Item Aggregation**
System consolidates multiple waived premium items per invoice, each with distinct modal periods and coverage allocations.

**5. Comprehensive Data Capture**
Upon transaction completion, event captures billing account, member record, invoice periods, situs state, and underwriting company references for audit compliance.


**Acceptance Criteria:**

**1. Event Trigger Validation**
Given invoice generation process initiates, When waived premium amounts exist for member record, Then system triggers event with complete invoice and transaction metadata.

**2. Product Type Differentiation**
Given member record context, When product is individual benefits, Then master policy fields remain blank; When group benefits, Then system retrieves and populates master policy details from policy subsystem.

**3. Waiver Direction Recognition**
Given waived amount processing, When amount is negative, Then system records premium reduction; When positive, Then system records waiver reversal.

**4. Multi-Item Collection Handling**
Given invoice with multiple coverages, When waived premiums span different modal periods, Then system captures separate items with distinct period dates and coverage names.

**5. Regulatory Data Completeness**
Given event finalization, When all data captured, Then system validates presence of situs state, currency, billing account number, and period dates per compliance requirements.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=628370916"
]

---

#### Feature: Configure Invoice Generation Schedule with Advanced Parameters
- **Role**: Billing Administrator
- **Action**: configure flexible invoice generation scheduling rules with automated date range controls
- **Value**: the system dynamically calculates compliant invoice timing parameters, reducing manual errors and ensuring timely payment cycles

**Description:**

As a **Billing Administrator**,
I want to **configure flexible invoice generation scheduling rules with automated date range controls**,
So that **the system dynamically calculates compliant invoice timing parameters, reducing manual errors and ensuring timely payment cycles**


**Key Capabilities:**

**1. Initialize Billing Account Scheduling Parameters**
Upon creating a billing account, the system establishes default invoice timing controls with configurable date range allowances between generation and due dates.

**2. Configure Date Range Flexibility Controls**
User is able to enable or disable automatic range calculations, with the system dynamically adjusting available day ranges based on calculated generation and due date intervals.

**3. Apply Dynamic Range Recalculation Logic**
When billing attributes are specified and dates are calculable, the system automatically adjusts range parameters: for intervals of 10+ days, maximum flexibility is enabled; for shorter intervals, available range values are constrained to actual day count.

**4. Handle Zero-Offset Special Conditions**
If generation date offset is set to zero using offset-type configuration, the system automatically disables range flexibility to enforce immediate invoice generation.


**Acceptance Criteria:**

**1. Default Parameter Initialization**
Given a new billing account is being created, When the account setup form is initialized, Then the system pre-selects range flexibility with maximum allowance values.

**2. Dynamic Range Constraint Application**
Given calculable generation and due dates exist, When the date interval is less than the maximum threshold, Then the system limits available range values to the actual day count between dates.

**3. Extended Range Enablement**
Given generation and due dates with 10+ day intervals, When range flexibility is enabled, Then the system provides full spectrum of allowance values up to the maximum threshold.

**4. Zero-Offset Automatic Restriction**
Given offset-type configuration with zero generation offset, When the offset is applied, Then the system automatically disables range flexibility and enforces immediate generation.

**5. Manual Override Capability**
Given range flexibility is enabled, When the administrator disables the control, Then the system resets allowance parameters and prevents range-based adjustments.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=570107056"
]

---

#### Feature: Restrict Invoice Configuration for FlexiBill Billing Accounts
- **Role**: Billing Administrator
- **Action**: enforce invoice configuration restrictions based on invoicing frequency for FlexiBill accounts
- **Value**: FlexiBill operates within supported configuration boundaries and prevents advance invoice generation that could cause processing errors

**Description:**

As a **Billing Administrator**,
I want to **enforce invoice configuration restrictions based on invoicing frequency for FlexiBill accounts**,
So that **FlexiBill operates within supported configuration boundaries and prevents advance invoice generation that could cause processing errors**


**Key Capabilities:**

**Configuration Restriction Enforcement**
When updating a FlexiBill billing account, system applies frequency-specific restrictions to invoice configuration options to prevent advance scheduling.

**Frequency-Based Due Day Controls**
System disables inappropriate due day calculation methods and offset ranges based on selected invoicing frequency (Weekly, Bi-Weekly, Semi-Monthly, Monthly, Bi-Monthly, Quarterly, Annual).

**Generation Date Constraint Management**
System restricts generation date offset types and value ranges according to invoicing frequency to ensure invoices generate within valid timeframes.

**Universal FlexiBill Safeguards**
System universally disables advanced scheduling toggle and in-advance offset options for all FlexiBill accounts regardless of frequency.

**Frequency Transition Handling**
When invoicing frequency changes, system dynamically adjusts available configuration options to match new frequency requirements.


**Acceptance Criteria:**

**Frequency-Specific Restrictions Applied**
Given a FlexiBill billing account with specific invoicing frequency, When administrator accesses invoice configuration, Then system disables only the due day offsets and generation date options incompatible with that frequency.

**Advanced Options Universally Disabled**
Given any FlexiBill billing account, When administrator views invoice configuration interface, Then advanced schedule toggle and in-advance offset options remain disabled regardless of frequency selection.

**Configuration Validation Enforced**
Given restricted configuration options, When administrator attempts to save billing account settings, Then system prevents submission if any configuration violates frequency-based restrictions.

**Frequency Change Recalculation**
Given an existing FlexiBill account configuration, When invoicing frequency is modified, Then system immediately re-evaluates and adjusts available configuration options to match new frequency rules.

**Valid Configuration Persistence**
Given compliant invoice configuration settings, When administrator saves billing account, Then system successfully persists configuration and enables invoice generation without processing errors.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=823330570"
]

---

### Epic: Invoice Production & Distribution

#### Feature: Generate Draft Bill Documents
- **Role**: Billing Administrator
- **Action**: generate draft billing statements for pre-invoice review
- **Value**: stakeholders can preview and validate billing amounts before final invoice issuance

**Description:**

As a **Billing Administrator**,
I want to **generate draft billing statements for pre-invoice review**,
So that **stakeholders can preview and validate billing amounts before final invoice issuance**


**Key Capabilities:**

**1. Draft Bill Initiation**
User initiates draft bill generation for a billing account. System validates eligibility per invoice generation rules and confirms no concurrent billing processes exist.

**2. Period Determination & Billable Item Calculation**
System determines billing period using invoice generation logic and creates billable items following configured allocation modes (Group Benefits/Individual Premium Accounting).

**3. Invoice Item Assembly & Balance Calculation**
System aggregates invoice items and calculates balances. When multiple drafts exist for same period, balance computation references most recent regular invoice.

**4. Document Generation & Storage**
System produces draft bill document per defined layout, stores in designated repository, and records generation activity.

**5. Alternate Path: Validation Failures**
If no invoice required or concurrent process detected, system prevents generation and notifies user of specific constraint violation.


**Acceptance Criteria:**

**1. Successful Draft Generation**
Given billing account meets invoice generation criteria, when user initiates draft bill, then system generates document and confirms successful completion.

**2. Eligibility Validation**
Given no invoice required per business rules, when generation attempted, then system prevents execution and notifies user of ineligibility.

**3. Concurrency Control**
Given another billing process active, when draft generation requested, then system blocks action and alerts user to retry later.

**4. Balance Calculation Accuracy**
Given multiple drafts exist in same period, when new draft created for next period, then balances reference previous regular invoice, not interim drafts.

**5. Document Accessibility**
Given draft successfully generated, when user accesses repository, then document appears in designated folder with correct classification.

**6. Failure Handling**
Given generation fails due to system error, when process terminates, then failure activity recorded with appropriate status.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=511118646"
]

---

#### Feature: Generate Invoices for Billing Accounts
- **Role**: Billing Administrator
- **Action**: generate and issue invoices for billing accounts based on configured billing product items and invoicing parameters
- **Value**: billing accounts receive accurate, timely invoices reflecting current charges, adjustments, and balances for the defined billing period

**Description:**

As a **Billing Administrator**,
I want to **generate and issue invoices for billing accounts based on configured billing product items and invoicing parameters**,
So that **billing accounts receive accurate, timely invoices reflecting current charges, adjustments, and balances for the defined billing period**


**Key Capabilities:**

**Invoice Request Initiation & Period Setup**
Upon receiving invoice generation request (manual or automated), system creates invoice entity and calculates invoicing period boundaries and due date per configured rules, validating billing period does not fall within seasonal gaps.

**Billable Items Projection & Aggregation**
System generates billable items for billing product items, creates pending invoice items with matching periods and amounts, and links them to invoicing root entity while handling premium sequence configurations.

**Invoice Item Inclusion & Grouping**
System applies bill-type-specific inclusion criteria to filter pending items, generates invoiced items with defined billing periods, groups them into balance details, and merges with previous invoice balance details.

**Balance Calculation & Finalization**
System calculates balances at detail and invoice levels, assigns invoice number, creates balance register operations triggering payment allocation, and transitions invoice status to issued.

**Post-Generation Processing**
System fires invoice generation event, optionally executes automated export if configured, and handles regeneration scenarios with appropriate event notifications.


**Acceptance Criteria:**

**Seasonal Gap Validation**
Given an invoice generation request, when the calculated invoicing period falls within a defined seasonal gap, then system terminates invoice generation without creating invoice entity.

**Zero-Amount Invoice Handling**
Given pending invoice items exist, when inclusion criteria filters exclude all items from invoice, then system generates invoice with zero amount and completes balance calculations.

**Payment Allocation Mode Configuration**
Given payment allocation mode is set to INDIVIDUAL, when generating invoice items, then system calculates payroll deduction dates up to invoicing period end date for associated billing product groups.

**Invoice State Progression**
Given invoice generation process initiates, when each major milestone completes successfully, then system transitions invoice state sequentially through DRAFT, PROJECTED, DETAILS_PREPARED, BALANCE_CALCULATED, and ISSUED states.

**Balance Register Integration**
Given invoice contains invoiced items, when invoice status updates to ISSUED, then system creates balance register operations triggering payment-to-invoice allocation and source distribution data processing.

**Regeneration Event Notification**
Given invoice being generated is a regenerated invoice, when invoice issuance completes, then system fires regenerate invoice event instead of standard generate invoice event.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=447621743"
]

---

#### Feature: Regenerate Invoices
- **Role**: Billing Administrator
- **Action**: regenerate invoices to replace discarded billing documents while maintaining complete financial audit trail
- **Value**: accurate billing records are maintained and all financial calculations are preserved for compliance and reconciliation purposes

**Description:**

As a **Billing Administrator**,
I want to **regenerate invoices to replace discarded billing documents while maintaining complete financial audit trail**,
So that **accurate billing records are maintained and all financial calculations are preserved for compliance and reconciliation purposes**


**Key Capabilities:**

**1. Invoice Regeneration Initiation**
User is able to trigger invoice regeneration either manually or through automated system rules based on predefined conditions.

**2. Original Invoice Preservation**
Upon regeneration request, system captures complete state of existing invoice including all identifiers, dates, status, and comprehensive financial amounts before marking as discarded.

**3. New Invoice Generation**
System creates replacement invoice with recalculated financial data including previous balance, outstanding balance, current period amounts, adjustments, payments, write-offs, and total due amounts.

**4. Dual-State Recording**
When regeneration completes, system maintains parallel records of both discarded and regenerated invoices with full financial details for audit trail integrity.


**Acceptance Criteria:**

**1. Successful Manual Regeneration**
Given a billing administrator initiates manual regeneration, When system processes the request, Then new invoice is created with recalculated amounts and original invoice is marked as discarded with preserved financial state.

**2. Automated Regeneration Execution**
Given predefined business rules trigger regeneration, When automated process executes, Then system generates replacement invoice and records generation source as automated.

**3. Financial Calculation Integrity**
Given invoice regeneration occurs, When system calculates total due, Then amount equals current due plus previous balance minus payments received across all relevant periods.

**4. Audit Trail Completeness**
Given regeneration completes, When reviewing billing history, Then both discarded and regenerated invoices retain complete identifier, date, status, and financial amount records.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=612423298"
]

---

#### Feature: Discard Invoices
- **Role**: Billing Administrator
- **Action**: discard generated invoices and revert associated financial impacts
- **Value**: I can correct billing errors and maintain accurate financial records without manual balance adjustments

**Description:**

As a **Billing Administrator**,
I want to **discard generated invoices and revert associated financial impacts**,
So that **I can correct billing errors and maintain accurate financial records without manual balance adjustments**


**Key Capabilities:**

**1. Invoice Discard Initiation**
User initiates discard action for eligible invoices. System validates authorization privileges, invoice status eligibility, and absence of blocking processes before proceeding.

**2. Status and Balance Management**
Upon validation, system updates invoice status to discarded while preserving original balance records. System generates audit notifications and status change messages.

**3. Payment and Write-off Reversal**
System automatically unallocates previously allocated payments. When write-offs exist, system triggers automatic write-off reversal procedures.

**4. Cross-Invoice Impact Processing**
If invoice contains negative items referencing prior invoices, system recalculates balances, payment allocations, and paid-to-date amounts for affected invoices based on account type rules.

**5. Self-Bill Adjustments**
For Self-Bill accounts affected by structural amendments post-invoice generation, system updates payment requests and recalculates next payment due dates.


**Acceptance Criteria:**

**1. Successful Standard Invoice Discard**
Given an eligible invoice without payments or write-offs, when user confirms discard action, then system updates status to discarded, maintains original balances, and fires completion event.

**2. Payment Reversal Handling**
Given a paid invoice with allocated payments, when discard is confirmed, then system automatically unallocates all payments and recalculates billing account balances.

**3. Write-off Reversal Processing**
Given an invoice with existing write-offs, when discard proceeds, then system automatically reverses write-offs before completing discard operation.

**4. Concurrent Activity Prevention**
Given another billing process is active for the invoice, when user attempts discard, then system prevents action and displays blocking process notification.

**5. Cross-Invoice Balance Recalculation**
Given discarded invoice contains negative items for prior invoices, when discard completes, then system recalculates remaining due balances and payment allocations for referenced invoices per account type rules.

**6. Self-Bill Payment Request Update**
Given a Self-Bill account with structural amendments after invoice generation, when invoice is discarded, then system updates payment request for affected billing period.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=488572623"
]

---

#### Feature: View Invoice Details by Bill Type
- **Role**: Billing Administrator
- **Action**: access and analyze comprehensive invoice details including member-level billing breakdowns across current and retroactive periods
- **Value**: I can verify billing accuracy, resolve member inquiries efficiently, and ensure proper premium allocation across coverages and billing periods

**Description:**

As a **Billing Administrator**,
I want to **access and analyze comprehensive invoice details including member-level billing breakdowns across current and retroactive periods**,
So that **I can verify billing accuracy, resolve member inquiries efficiently, and ensure proper premium allocation across coverages and billing periods**


**Key Capabilities:**

**1. Invoice Generation and Display**
System calculates premium amounts aggregated by Member Record, Product, and Tier across current and previously unbilled periods, then presents invoices with summary information in billing account lists.

**2. Invoice Details Access**
User is able to navigate from billing account invoice section or global invoice list and launch detailed view for any invoice regardless of status.

**3. Member-Level Review**
Upon opening invoice details, user reviews billing periods with expandable member records showing aggregated amounts per coverage and tier, including retroactive adjustments.

**4. Record Identification and Filtering**
User is able to search member records by name, Employee ID, or SSN using autosuggestion or advanced search, and filter displayed records by coverage type.

**5. Data Export and Analysis**
User is able to export filtered invoice data and sort member records according to business rules for offline analysis or audit purposes.


**Acceptance Criteria:**

**1. Complete Invoice Composition**
Given invoice generation completes, When user accesses invoice details, Then system displays all current-period charges plus any retroactively identified unbilled items from previous periods aggregated by Member Record, Coverage, and Tier.

**2. Member Record Search Accuracy**
Given invoice contains multiple member records, When user searches by name, Employee ID, or SSN, Then system returns matching records with corresponding billing amounts across all billing periods.

**3. Coverage Filtering Precision**
Given user applies coverage filter, When viewing member records, Then system displays only records associated with selected coverage type while maintaining accurate aggregated amounts.

**4. Retroactive Adjustment Visibility**
Given member records issued retroactively or tier changes occur mid-period, When viewing invoice details, Then system segregates amounts by billing period and tier with clear period identification.

**5. Performance Optimization**
Given large group invoices with thousands of member records, When user accesses invoice details, Then system loads summary information immediately while enabling progressive expansion of billing periods without performance degradation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=541991512"
]

---

#### Feature: Sort and Filter Invoice Details
- **Role**: Billing Administrator
- **Action**: sort and organize invoice details by multiple business dimensions
- **Value**: member and policy information can be efficiently reviewed and analyzed to support accurate invoice validation and distribution decisions

**Description:**

As a **Billing Administrator**,
I want to **sort and organize invoice details by multiple business dimensions**,
So that **member and policy information can be efficiently reviewed and analyzed to support accurate invoice validation and distribution decisions**.


**Key Capabilities:**

**1. Default Invoice Details Organization**
System presents invoice details with hierarchical member-based ordering: last name, first name, customer identifier, and record sequence. Case-sensitive alphabetical precedence is applied.

**2. Member-Based Sorting Toggle**
User is able to reverse member ordering hierarchy to descending sequence. Upon subsequent activation, system restores default ordering.

**3. Policy-Based Sorting**
User is able to reorganize details by policy identifier with secondary member ordering maintained. System handles alphanumeric identifiers appropriately.

**4. Coverage and Organizational Sorting**
User is able to sort by coverage type or organizational division with preserved member sequence hierarchy. When duplicate member names exist, system maintains original grouping by identifier.


**Acceptance Criteria:**

**1. Default Presentation Validation**
Given invoice contains multiple members, When details are initially displayed, Then system orders records hierarchically by last name, first name, identifier, and sequence with case-sensitive precedence.

**2. Member Sort Toggle Behavior**
Given default ordering is active, When user activates member column sorting, Then system reverses hierarchy to descending order with inverted case precedence. When activated again, Then default ascending order is restored.

**3. Policy Sort Consistency**
Given user activates policy sorting, When records are reorganized, Then system maintains secondary member ordering regardless of subsequent sort requests on same column.

**4. Alternate Dimension Sorting**
Given user activates coverage or division sorting, When records share identical member names, Then system preserves original identifier-based grouping without additional sorting.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=546715757"
]

---

#### Feature: Determine Invoicing Periods
- **Role**: Billing Administrator
- **Action**: determine the appropriate invoicing period for draft bill generation based on existing billing documents and account status
- **Value**: I can ensure accurate sequential billing cycles while handling discarded invoices and new product associations without gaps or duplications

**Description:**

As a **Billing Administrator**,
I want to **determine the appropriate invoicing period for draft bill generation based on existing billing documents and account status**,
So that **I can ensure accurate sequential billing cycles while handling discarded invoices and new product associations without gaps or duplications**


**Key Capabilities:**

**1. Invoice History Assessment**
System evaluates billing account for existing invoices and determines baseline period selection strategy based on document presence and status.

**2. Discarded Invoice Priority Handling**
When discarded invoices exist, system identifies earliest discarded period for rebilling, ensuring previously voided periods are addressed before progression.

**3. Draft Bill Continuity Verification**
System checks for existing draft bills and selects next sequential period, preventing duplicate draft generation for already-processed periods.

**4. New Product Alignment Exception Processing**
Upon detecting new product associations with non-aligned effective dates, system recalculates period selection to match product start dates rather than standard cycle boundaries.

**5. Period Determination Finalization**
System confirms selected period meets all business rules and transitions to draft bill document generation workflow.


**Acceptance Criteria:**

**1. First-Time Billing Scenario**
Given no invoices or draft bills exist, When period determination executes, Then system selects earliest available invoicing period without generated documents.

**2. Discarded Invoice Rebilling**
Given multiple discarded invoices exist, When determination process runs, Then system prioritizes earliest discarded invoice period over new periods.

**3. Sequential Draft Bill Progression**
Given draft bills exist without discarded invoices, When new period determination occurs, Then system selects earliest period following last generated draft bill.

**4. New Product Mid-Cycle Addition**
Given new product effective date misaligns with standard period boundaries, When exceptional flow triggers, Then system creates period aligned with product effective date.

**5. Period Selection Completion**
Given period determination completes successfully, When process reaches finalization, Then system prevents duplicate period selection and initiates draft bill generation workflow.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=512767124"
]

---

#### Feature: Configure Invoice Generation Rules
- **Role**: Billing Administrator
- **Action**: configure invoice generation timing rules based on invoicing frequency and schedule requirements
- **Value**: invoices are produced at the correct time in advance of due dates, ensuring accurate billing cycles and timely customer notification across different frequency types

**Description:**

As a **Billing Administrator**,
I want to **configure invoice generation timing rules based on invoicing frequency and schedule requirements**,
So that **invoices are produced at the correct time in advance of due dates, ensuring accurate billing cycles and timely customer notification across different frequency types**


**Key Capabilities:**

**1. Select Invoicing Frequency Type**
User selects between monthly-based frequencies or semi-monthly with advanced scheduling options to establish the billing cycle framework.

**2. Configure Generation Timing for Monthly Frequencies**
When monthly-based frequency is selected and generation date exceeds due day, system enforces minimum offset of one month to ensure invoice generates before due date.

**3. Configure Primary Generation Parameters for Semi-Monthly**
When advanced schedule is enabled for semi-monthly frequency, user configures first generation day and offset with dynamic range constraints based on first due day.

**4. Configure Secondary Generation Parameters with Dependency Rules**
System applies cascading constraints to second generation day and offset based on first generation parameters, ensuring logical consistency across both billing points in the cycle.


**Acceptance Criteria:**

**1. Monthly Frequency Timing Enforcement**
Given monthly-based frequency is configured with generation date exceeding calendar due day, when user attempts to set generation offset, then system restricts selection to values of 1 or greater and prevents zero offset.

**2. Semi-Monthly Zero Offset Constraint**
Given semi-monthly advanced schedule with first generation offset set to zero, when configuring second generation parameters, then system constrains second generation day to range between first generation day and second due day, and forces second offset to zero.

**3. Semi-Monthly Positive Offset Dependency**
Given first generation offset is greater than zero, when second generation day is less than first generation day, then system automatically reduces second offset by one month; when second generation day equals or exceeds first generation day, then second offset matches first offset.

**4. Configuration Persistence and Validation**
Given all generation parameters are configured per frequency rules, when configuration is saved, then system validates timing logic ensures no generation date occurs after corresponding due date across all billing cycles.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=565755758"
]

---

#### Feature: Manage Invoice Actions by Status
- **Role**: Billing Administrator
- **Action**: execute lifecycle-appropriate actions on invoices based on status and business conditions
- **Value**: I can perform the right operations at the right time while maintaining invoice integrity and compliance with business rules

**Description:**

As a **Billing Administrator**,
I want to **execute lifecycle-appropriate actions on invoices based on status and business conditions**,
So that **I can perform the right operations at the right time while maintaining invoice integrity and compliance with business rules**


**Key Capabilities:**

**1. Invoice Details Access**
User is able to view invoice information unconditionally across all statuses throughout the invoice lifecycle.

**2. Invoice Disposal Management**
When invoice meets discard eligibility criteria per business rules, user is able to remove invoice from active processing.

**3. Invoice Regeneration Workflow**
When invoice satisfies regeneration conditions per business rules, user is able to recreate invoice with updated information.

**4. Manual Write-Off Application**
If bill type is List Bill or Individual Direct AND invoice status is Issued or Partially Paid, user is able to apply manual financial adjustment.


**Acceptance Criteria:**

**1. Unconditional Access Validation**
Given any invoice exists, When user requests invoice details, Then system provides access regardless of status or conditions.

**2. Conditional Action Enablement**
Given invoice does not meet action-specific business rules, When user attempts restricted action, Then system prevents execution until conditions are satisfied.

**3. Write-Off Restriction Enforcement**
Given invoice bill type is not List Bill/Individual Direct OR status is neither Issued nor Partially Paid, When user attempts manual write-off, Then system blocks the action.

**4. Multi-Condition Validation**
Given invoice meets all required criteria for an action, When user initiates that action, Then system permits execution and processes request.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=678433988"
]

---

#### Feature: Validate Invoice and Draft Bill Processes
- **Role**: Billing Administrator
- **Action**: initiate invoice production actions with automated process conflict validation
- **Value**: prevent data inconsistencies and ensure billing operations integrity by avoiding concurrent conflicting processes

**Description:**

As a **Billing Administrator**,
I want to **initiate invoice production actions with automated process conflict validation**,
So that **I can prevent data inconsistencies and ensure billing operations integrity by avoiding concurrent conflicting processes**


**Key Capabilities:**

**1. Process Conflict Detection**
When user initiates any billing action (Draft Bill Generation, Invoice Generation, Invoice Discard, Invoice Regeneration), system validates no conflicting process is in progress before allowing execution.

**2. Draft Bill Generation Validation**
System prevents initiation if Draft Bill generation, Invoice generation, Invoice discard, or Invoice regeneration processes are active.

**3. Invoice Generation Validation**
System blocks execution when Invoice generation, Draft Bill generation, Invoice discard, or Invoice regeneration processes are running.

**4. Invoice Discard Validation**
System restricts action if Invoice discard, Draft Bill generation, Invoice generation, or Invoice regeneration processes are in progress.

**5. Invoice Regeneration Validation**
System prevents initiation during Invoice regeneration or Draft Bill generation processes; uniquely permits concurrent Invoice Generation process.

**6. Conflict Notification**
Upon detecting conflict, system alerts user to defer action until conflicting process completes.


**Acceptance Criteria:**

**1. Successful Action Initiation**
Given no conflicting processes are running, When user initiates any invoice production action, Then system executes the requested operation without restrictions.

**2. Draft Bill Conflict Prevention**
Given Draft Bill generation, Invoice generation, Invoice discard, or Invoice regeneration is in progress, When user attempts Draft Bill Generation, Then system blocks action and notifies user of process conflict.

**3. Invoice Generation Conflict Prevention**
Given conflicting processes are active, When user attempts Invoice Generation, Then system prevents execution and provides conflict alert.

**4. Invoice Regeneration Exception Rule**
Given Invoice Generation process is running, When user initiates Invoice Regeneration, Then system allows execution without conflict detection (exception case).

**5. Concurrent Process Protection**
Given any billing action is in progress, When user attempts conflicting operation, Then system maintains data integrity by blocking simultaneous execution.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=536088626"
]

---

#### Feature: Calculate Billing Periods for Invoice Items
- **Role**: Billing Administrator
- **Action**: calculate and assign billing periods to invoice items based on configurable rules and product-specific logic
- **Value**: invoice items are accurately organized across time periods, ensuring correct charge distribution and payment tracking

**Description:**

As a **Billing Administrator**,
I want to **calculate and assign billing periods to invoice items based on configurable rules and product-specific logic**,
So that **invoice items are accurately organized across time periods, ensuring correct charge distribution and payment tracking**


**Key Capabilities:**

**1. Billing Period Calculation**
System calculates billing periods using invoicing configuration, start date, and frequency parameters. First period begins at configured start date; subsequent periods follow frequency intervals (monthly, quarterly, annual) with day-of-month logic.

**2. Period Assignment for Group Payment Products**
System assigns invoice items by comparing item period dates against invoice period dates using configured inclusion criterion (periodFrom or periodTo).

**3. Period Assignment for Individual Payment Products**
System assigns items based on payroll deduction calendar and member record dates, accommodating scenarios with or without payroll deduction dates.

**4. Self-Bill Product Assignment**
System determines billing period before invoice generation, using item periodTo against billing period boundaries.

**5. Frequency Change Management**
System preserves existing invoiced periods while recalculating future periods upon frequency changes.

**6. Retroactive Adjustment Handling**
System generates new invoices for first-time adjustments; accumulates deltas for subsequent adjustments to same period.


**Acceptance Criteria:**

**1. Accurate Period Calculation**
Given invoicing configuration with start date and frequency, When system calculates billing periods, Then first period starts at configured date and subsequent periods follow frequency rules with correct day-of-month logic.

**2. Correct Item Assignment by Mode**
Given invoice items and payment allocation mode, When system assigns items to periods, Then GROUP mode applies inclusion criterion logic, INDIVIDUAL mode applies payroll calendar logic, and Self-Bill mode applies periodTo boundary logic.

**3. Frequency Change Integrity**
Given invoicing frequency change, When system recalculates periods, Then existing invoiced periods remain unchanged and only future periods reflect new frequency.

**4. Retroactive Adjustment Processing**
Given billing period adjustment, When system processes change, Then first adjustment generates new invoice, subsequent adjustments to same period accumulate deltas without new invoice.

**5. Period Display Organization**
Given invoice items assigned to periods, When user views invoice details, Then items display grouped under Current or Prior billing periods with correct invoice associations.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=507459671"
]

---

#### Feature: Trigger Automated Invoice Generation
- **Role**: Billing Administrator
- **Action**: execute scheduled invoice generation jobs to produce invoices for billing accounts based on predefined calendars and rules
- **Value**: invoices are automatically created at the correct time, ensuring timely billing and revenue recognition across all lines of business

**Description:**

As a **Billing Administrator**,
I want to **execute scheduled invoice generation jobs to produce invoices for billing accounts based on predefined calendars and rules**,
So that **invoices are automatically created at the correct time, ensuring timely billing and revenue recognition across all lines of business**


**Key Capabilities:**

**1. Job Execution Initiation**
User is able to manually trigger the invoice generation job with recommended daily frequency for processing eligible billing accounts.

**2. Invoice Eligibility Determination**
System evaluates billing accounts using configured billing calendars and invoice generation rules to identify accounts ready for invoicing based on numberOfdaysAhead parameters.

**3. Invoice Production Processing**
System generates invoices for eligible billing accounts according to calculated generation dates and configured business rules across all lines of business.

**4. Exception Handling Protocol**
When processing errors occur, system immediately halts job execution to prevent partial invoice generation and data inconsistency.


**Acceptance Criteria:**

**1. Successful Invoice Generation**
Given billing accounts exist with valid calendar and rule configurations, When the job executes, Then invoices are created for all eligible accounts based on calculated generation dates.

**2. Configuration-Driven Timing**
Given invoice generation rules specify numberOfdaysAhead parameters, When determining eligibility, Then system applies configured timing offsets to calculate proper invoice generation dates.

**3. Processing Failure Protection**
Given an exception occurs during processing, When the error is detected, Then system halts immediately without processing remaining accounts to maintain data integrity.

**4. Multi-LOB Coverage**
Given billing accounts span multiple lines of business, When job processes accounts, Then invoices generate consistently across all configured LOBs and Broad LOBs.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=243504231"
]

---

#### Feature: Trigger Automated Draft Bill Generation
- **Role**: Billing Administrator
- **Action**: orchestrate automated draft bill generation across eligible billing accounts based on configured schedules and business rules
- **Value**: invoicing operations are streamlined, manual intervention is minimized, and draft bills are produced timely according to business calendar and account eligibility criteria

**Description:**

As a **Billing Administrator**,
I want to **orchestrate automated draft bill generation across eligible billing accounts based on configured schedules and business rules**,
So that **invoicing operations are streamlined, manual intervention is minimized, and draft bills are produced timely according to business calendar and account eligibility criteria**


**Key Capabilities:**

**1. Account Eligibility Assessment**
System identifies billing accounts qualifying for automated draft bill generation by validating invoicing configuration presence, product modal amounts, and self-bill exclusions. Upon receiving inclusive/exclusive account filters, system applies precedence rules and skips ineligible accounts.

**2. Schedule-Based Execution Control**
System determines job run date from parameters or current date, then calculates generation dates per business rules. When run date precedes generation date, system defers processing to next cycle.

**3. Business Calendar Integration**
System validates working day constraints using configured calendars. If non-working day parameters trigger, system either postpones processing or shifts execution forward until working day identified.

**4. Batch Document Production**
System triggers draft bill generation for each eligible account per invoicing period. Upon detecting multiple periods requiring generation, system iterates through subsequent cycles until all obligations fulfilled.

**5. Error Isolation and Reporting**
When individual account generation fails, system isolates failure without impacting batch continuation, preserves manual retry capability, and reports first five failures per hundred-account batch.

**6. Processing Completeness Verification**
System confirms all discovered accounts processed before concluding job run, maintaining audit trail of skipped accounts and generation outcomes.


**Acceptance Criteria:**

**1. Eligibility Filtering Accuracy**
Given billing accounts with mixed configurations, When job executes without filters, Then system processes only accounts having enabled automation, valid invoicing configurations, product modal amounts, and no self-bill tags.

**2. Calendar-Aware Scheduling**
Given job configured with non-working day shift parameter and run date falling on non-working day, When system validates against business calendar, Then processing either skips affected accounts (postpone mode) or advances execution date to next working day (inAdvance mode).

**3. Generation Date Compliance**
Given billing account with calculated generation date, When job run date precedes generation date, Then system defers account processing without generating draft bill, preserving eligibility for future runs.

**4. Multi-Period Processing**
Given billing account eligible for multiple consecutive invoicing periods, When first draft bill generates successfully, Then system automatically triggers generation for subsequent periods until no further periods qualify.

**5. Fault Tolerance Preservation**
Given batch containing failing and succeeding accounts, When generation fails for specific accounts, Then system continues processing remaining accounts, reports first five failures per batch, and preserves manual generation capability for failed accounts.

**6. Filter Precedence Enforcement**
Given account specified in both inclusive and exclusive parameters, When job evaluates processing queue, Then system applies exclusive criteria and skips account from generation regardless of inclusive designation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=638329519"
]

---

#### Feature: Export Invoice Details to CSV
- **Role**: Billing Administrator
- **Action**: export comprehensive invoice details to CSV format for external distribution and analysis
- **Value**: stakeholders can review billing summaries, member-level charges, and prior adjustments in a structured, shareable format

**Description:**

As a **Billing Administrator**,
I want to **export comprehensive invoice details to CSV format for external distribution and analysis**,
So that **stakeholders can review billing summaries, member-level charges, and prior adjustments in a structured, shareable format**


**Key Capabilities:**

**1. Invoice Document Generation**
System generates draft bill document for billing account covering invoicing period, applying file naming convention with period range and timestamp. Document includes header summary and invoice details sections.

**2. Header Summary Presentation**
System displays billing account identification, period boundaries, due date calculation, and balance totals (Previous Balance, Payments Received, Current Period Amount, Adjustments, Total Due). Upon Individual Premium Accounting configuration, Outstanding Balance replaces Previous Balance and Payments Received fields. When balance is zero, due date displays placeholder.

**3. Member-Level Detail Aggregation**
System renders separate rows for each unique combination of Member Record, Product, Plan, Coverage, Tier, Class, Modality, Location, and Division. Upon premium waiver operation, Premium Waiver indicator displays regardless of balance. When Pet Template applies, Cat and Dog counts appear as additional columns.

**4. Prior Period Adjustment Handling**
When prior period adjustments exist, system displays Prior Billing Period section with historical periods and adjustment amounts using identical column structure. If no adjustments exist, section is omitted.

**5. Conditional Section Visibility**
Upon zero balance for List Bill products, Invoice Details section is suppressed while header summary remains visible. For Individual Direct products, Invoice Details section always displays regardless of balance amounts.


**Acceptance Criteria:**

**1. Document Generation Success**
Given billing account with invoicing period data, When generation is triggered, Then system produces CSV file with correct naming format including period range and generation timestamp.

**2. Balance-Driven Field Display**
Given product configuration type, When Individual Premium Accounting is enabled, Then Outstanding Balance displays and Previous Balance/Payments Received are suppressed; otherwise reverse display logic applies.

**3. Member Classification Segmentation**
Given member with multiple effective classification values within period, When invoice details are compiled, Then system creates separate rows for each unique combination with corresponding billed amounts.

**4. Prior Adjustment Conditional Rendering**
Given billing account history, When prior period adjustments exist, Then Prior Billing Period section appears with adjustment amounts; when no adjustments exist, Then section is completely omitted from document.

**5. Zero Balance Handling**
Given List Bill product with zero balance, When document is generated, Then Invoice Details section is suppressed and header displays all balance fields as $0.00 with due date as placeholder.

**6. Premium Waiver Indicator Logic**
Given member record affected by premium waiver operation, When invoice details are rendered, Then Premium Waiver column displays indicator text even when balance is zero.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=512772624"
]

---

#### Feature: Generate Payment Requests for Self-Administered Accounts
- **Role**: Billing Administrator
- **Action**: automate payment request generation for self-bill accounts based on billing cycles and business rules
- **Value**: timely premium collection is ensured while reducing manual processing effort and maintaining compliance with policy schedules

**Description:**

As a **Billing Administrator**,
I want to **automate payment request generation for self-bill accounts based on billing cycles and business rules**,
So that **timely premium collection is ensured while reducing manual processing effort and maintaining compliance with policy schedules**


**Key Capabilities:**

**1. Account Selection & Eligibility Validation**
System processes self-bill accounts based on inclusion/exclusion criteria, validating active modal amounts, invoice hold status, and master policy status to determine eligibility for payment request generation.

**2. Billing Period & Date Calculation**
System calculates billing period boundaries, payment due dates, and generation dates according to invoicing configuration, respecting business calendar rules for working/non-working days.

**3. Payment Request Creation**
System generates payment request events, opens billing periods with calculated amounts based on product modal amounts or previous period values, and records generation timestamps.

**4. Multi-Period Processing & Error Handling**
System evaluates needs for subsequent billing periods on same account, processes advance requests for non-working days when configured, and reports failures in batches without blocking other accounts.


**Acceptance Criteria:**

**1. Eligible Account Processing**
Given self-bill accounts with active modal amounts and no invoice holds, When the scheduled job executes, Then payment requests are generated only for accounts meeting policy status and generation date criteria.

**2. Accurate Period Calculations**
Given a billing account with defined invoicing configuration, When billing period is calculated, Then period boundaries, due dates, and generation dates align with business rules and respect non-working day parameters.

**3. Proper Amount Assignment**
Given an open billing period for payment request, When period amount is set, Then first periods reflect calculated product modal amounts while subsequent periods inherit previous period premiums.

**4. Resilient Batch Processing**
Given multiple accounts requiring processing with some encountering errors, When job completes, Then successful accounts generate requests while failures are logged in batches without disrupting overall execution.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=527533701"
]

---

#### Feature: Publish Invoice Generation Events
- **Role**: Billing Administrator
- **Action**: publish comprehensive invoice regeneration events capturing both new and replaced invoice states
- **Value**: downstream systems maintain accurate financial records and audit trails during invoice correction processes

**Description:**

As a **Billing Administrator**,
I want to **publish comprehensive invoice regeneration events capturing both new and replaced invoice states**,
So that **downstream systems maintain accurate financial records and audit trails during invoice correction processes**


**Key Capabilities:**

**Invoice Regeneration Initiation**
User initiates manual or system triggers automated invoice regeneration for a billing account requiring correction or adjustment.

**Dual-State Data Capture**
System captures complete financial snapshots of both the newly regenerated invoice and the discarded invoice being replaced, including identification, periods, balances, payments, and adjustments.

**Financial Calculation Processing**
System computes total dues, retroactive adjustments (credits and additions), payment allocations, write-offs, and overpayment amounts for both invoice states using parallel data structures.

**Status Management**
System automatically sets discarded invoice status and marks generation source (Manual/Automated) on the regenerated invoice.

**Event Publication**
System publishes comprehensive regeneration event containing both invoice records with complete financial history and metadata to downstream consumers.


**Acceptance Criteria:**

**Dual Invoice Capture**
Given an invoice regeneration occurs, When the event is published, Then both regenerated and discarded invoice records contain parallel financial data (balances, adjustments, payments, periods).

**Automatic Status Assignment**
Given invoice regeneration completes, When the event is generated, Then the discarded invoice status is set to 'Discarded' and regenerated invoice includes generation source indicator.

**Financial Calculation Accuracy**
Given invoice financial data exists, When Total Due is calculated, Then it equals Current Due plus Previous Balance minus Payments Received for both invoice states.

**Retroactive Adjustment Capture**
Given adjustments exist across periods, When the event is published, Then retroactive credits (negative) and additions (positive) are separately totaled for all bill types.

**Payment Allocation Tracking**
Given List Bill with Individual Premium Accounting, When payments were allocated, Then Payments Allocated To Invoices reflects reductions between previous non-discarded and current invoice generation.

**Audit Trail Completeness**
Given regeneration event is published, When consumed by downstream systems, Then complete historical financial state of replaced invoice is preserved alongside new invoice data.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=612423298"
]

---

#### Feature: Notify Users of Invoice Generation Status
- **Role**: Billing Administrator
- **Action**: notify users of invoice generation status through automated communications
- **Value**: stakeholders remain informed of billing activities and can take timely action on generated invoices

**Description:**

As a **Billing Administrator**,
I want to **notify users of invoice generation status through automated communications**,
So that **stakeholders remain informed of billing activities and can take timely action on generated invoices**


**Key Capabilities:**

**1. Invoice Generation Completion Detection**
System monitors invoice production workflow and identifies completion events for individual or batch invoice generation cycles.

**2. Notification Trigger & Recipient Determination**
Upon invoice generation completion, system determines appropriate recipients based on business roles and notification preferences.

**3. Status Communication Delivery**
System distributes notification messages containing invoice generation outcome, batch identifiers, and relevant metadata to designated users.

**4. Delivery Confirmation & Audit Trail**
System records notification delivery status and maintains audit trail for compliance and troubleshooting purposes.


**Acceptance Criteria:**

**1. Successful Generation Notification**
Given invoice generation completes successfully, When system processes completion event, Then designated users receive notification with generation confirmation and invoice identifiers.

**2. Failed Generation Alert**
Given invoice generation encounters errors, When system detects failure condition, Then administrators receive alert with error details and affected scope.

**3. Batch Processing Status**
Given batch invoice generation involves multiple records, When batch completes, Then notification includes summary statistics and completion status.

**4. Audit Trail Completeness**
Given any notification delivery, When system sends communication, Then delivery timestamp and recipient information are recorded for audit purposes.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=541993275"
]

---

#### Feature: Notify Users of Draft Bill Generation Status
- **Role**: Billing Administrator
- **Action**: receive automated notifications when draft bill documents are generated for list bill and individual direct billing scenarios
- **Value**: I can promptly review, approve, or address issues in the billing cycle without manual status checking

**Description:**

As a **Billing Administrator**,
I want to **receive automated notifications when draft bill documents are generated for list bill and individual direct billing scenarios**,
So that **I can promptly review, approve, or address issues in the billing cycle without manual status checking**


**Key Capabilities:**

**1. Draft Bill Generation Initiation**
System triggers draft bill document creation for applicable list bill or individual direct billing scenarios based on billing cycle schedules

**2. Generation Process Monitoring**
System tracks draft bill document production status across all billing entities and accounts in scope

**3. Status Event Detection**
System identifies completion, failure, or exception conditions during the generation process

**4. Notification Delivery**
Upon detecting status events, system distributes notifications to designated billing administrators through configured channels

**5. Actionable Status Information**
Notifications include generation outcome summary, affected billing entities, and next-step guidance for administrative action


**Acceptance Criteria:**

**1. Successful Generation Notification**
Given draft bills are successfully generated, When the process completes, Then administrators receive confirmation notifications with generation summary

**2. Failure Alert Delivery**
Given generation process encounters errors, When failures occur, Then system immediately notifies administrators with error details and affected accounts

**3. Multiple Scenario Support**
Given both list bill and individual direct billing types exist, When either type generates drafts, Then appropriate notifications are delivered regardless of billing scenario

**4. Notification Completeness**
Given notifications are triggered, When delivered to administrators, Then messages contain generation timestamp, affected entity count, and status outcome


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=515222175"
]

---

### Epic: Invoice Draft & Review Lifecycle

#### Feature: Generate Draft Bill Document for Review
- **Role**: Billing Administrator
- **Action**: generate and access draft billing documents for validation prior to final invoice issuance
- **Value**: I can preview billing outcomes, validate charges, and ensure accuracy before customers receive final invoices

**Description:**

As a **Billing Administrator**,
I want to **generate and access draft billing documents for validation prior to final invoice issuance**,
So that **I can preview billing outcomes, validate charges, and ensure accuracy before customers receive final invoices**


**Key Capabilities:**

**1. Draft Bill Initiation**
User initiates draft bill generation from billing account context. System validates eligibility against invoice generation rules and checks for concurrent processing conflicts.

**2. Billing Period & Item Calculation**
System determines applicable billing period, generates billable items for policy products, creates invoice items, and calculates balances based on previous finalized invoices (ignoring interim drafts).

**3. Document Generation & Storage**
System produces draft bill document using approved layout, stores document in designated repository, and generates completion activity.
    3.1 Upon generation failure, system records cancellation activity without creating document.

**4. Document Access & Review**
User retrieves generated draft bill from document repository and reviews content for accuracy validation.


**Acceptance Criteria:**

**1. Successful Draft Generation**
Given billing account meets eligibility criteria, When user initiates draft bill generation, Then system completes document creation, stores in repository, and records success activity.

**2. Ineligible Account Prevention**
Given billing account does not meet invoice generation rules, When user attempts draft generation, Then system prevents process initiation and notifies user of ineligibility.

**3. Concurrent Process Protection**
Given another invoice or draft bill process is active, When user initiates draft generation, Then system blocks request and alerts user to retry later.

**4. Balance Calculation Integrity**
Given multiple draft bills exist for same period, When generating subsequent period draft, Then system calculates balances from last finalized invoice, excluding previous drafts.

**5. Generation Failure Handling**
Given unexpected system error during document creation, When generation fails, Then system records cancellation activity without producing document.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=511118646"
]

---

#### Feature: Trigger Automated Draft Bill Generation via Scheduled Job
- **Role**: Billing Administrator
- **Action**: execute scheduled automated draft bill generation for eligible billing accounts
- **Value**: invoices are prepared in advance, enabling timely review and approval without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **execute scheduled automated draft bill generation for eligible billing accounts**,
So that **invoices are prepared in advance, enabling timely review and approval without manual intervention**


**Key Capabilities:**

**1. Scope Determination & Account Eligibility Validation**
System identifies billing accounts configured for automated draft generation, excluding self-billed accounts and those without valid invoicing configurations.

**2. Execution Date Calculation & Working Day Verification**
System determines job execution date, validates against business calendars, and applies postponement or advancement rules when generation dates fall on non-working days.

**3. Generation Trigger & Multi-Period Processing**
System calculates generation dates per configured rules, validates timing eligibility, and triggers draft bill creation for current and subsequent invoicing periods when applicable.

**4. Exception Handling & Batch Reporting**
System continues processing remaining accounts upon individual failures, aggregating error details for batch reporting without disrupting overall job completion.


**Acceptance Criteria:**

**1. Eligible Account Processing**
Given billing accounts with valid invoicing configurations and draft generation enabled, When the scheduled job executes, Then draft bills are generated only for accounts meeting all eligibility criteria and timing requirements.

**2. Working Day Enforcement**
Given the shiftNonWorking parameter is configured, When the job run date falls on a non-working day per the business calendar, Then generation is either postponed or advanced according to parameter settings.

**3. Multi-Period Generation**
Given a billing account requires draft bills for multiple invoicing periods, When generation date criteria are met for subsequent periods, Then all applicable draft bills are created in sequence during the same job execution.

**4. Graceful Failure Management**
Given draft generation fails for specific accounts during batch processing, When errors occur, Then the job continues processing remaining accounts and reports failed account identifiers without terminating the entire job run.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=638329519"
]

---

#### Feature: Determine Invoicing Period for Draft Bill Generation
- **Role**: Billing Administrator
- **Action**: determine the appropriate invoicing period for draft bill generation on a billing account
- **Value**: the system generates draft bills for the correct billing cycle, respecting invoice history and product effective dates

**Description:**

As a **Billing Administrator**,
I want to **determine the appropriate invoicing period for draft bill generation on a billing account**,
So that **the system generates draft bills for the correct billing cycle, respecting invoice history and product effective dates**


**Key Capabilities:**

**1. Initial Period Assessment**
System evaluates billing account to determine if any invoices or draft bills have been previously generated for the account.

**2. Invoice History Evaluation**
When prior invoices exist, system checks for discarded invoice status and selects earliest discarded invoice period as draft bill period, unless product effective date misalignment creates an earlier unbilled period.

**3. Draft Bill History Evaluation**
When draft bills exist without invoices, system selects earliest period with generated draft bill, allowing multiple drafts per period.

**4. New Account Period Selection**
When no billing documents exist, system selects earliest invoicing period without any generated documents.

**5. Product Effective Date Alignment**
System validates new product effective dates against period start dates and adjusts period selection to accommodate misalignments.

**6. Process Continuation**
Upon period determination, system proceeds to draft bill document generation workflow.


**Acceptance Criteria:**

**1. First-Time Draft Generation**
Given a billing account with no prior invoices or draft bills, When period determination executes, Then system selects the earliest available invoicing period.

**2. Discarded Invoice Priority**
Given a billing account with discarded invoices, When period determination executes, Then system selects the earliest discarded invoice period as draft bill period.

**3. Existing Draft Bill Continuation**
Given a billing account with existing draft bills but no invoices, When period determination executes, Then system selects the earliest period with generated draft bill.

**4. Product Effective Date Override**
Given a new product with effective date misaligned from discarded invoice period start, When period determination executes, Then system selects period aligned with product effective date if it precedes discarded period.

**5. Multiple Drafts Per Period**
Given a single invoicing period, When period determination executes multiple times, Then system allows generation of multiple draft bills for same period.

**6. Workflow Continuation**
Given successful period determination, When determination completes, Then system automatically proceeds to draft bill document generation process.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=512767124"
]

---

#### Feature: Export Draft Bill Details to CSV Format
- **Role**: Billing Administrator
- **Action**: export draft invoice data to standardized reporting format
- **Value**: stakeholders can analyze billing details, perform external validations, and maintain audit records outside the billing platform

**Description:**

As a **Billing Administrator**,
I want to **export draft invoice data to standardized reporting format**,
So that **stakeholders can analyze billing details, perform external validations, and maintain audit records outside the billing platform**


**Key Capabilities:**

**1. Draft Bill Document Preparation**
System generates exportable draft billing document for specified invoicing period, including header summary, itemized member records, and prior period adjustments when applicable.

**2. Structured Data Export**
User is able to export billing data in CSV format preserving hierarchical structure: account summary metrics, current period member-level itemization (grouped by member, product, plan, coverage, tier, class, modality, location, division), and historical adjustment records.

**3. Conditional Content Assembly**
When zero balances exist, system excludes detail sections. When prior adjustments are absent, system omits historical section. Upon premium waiver application, system flags affected records.

**4. Specialized Attribute Handling**
If billing account uses pet template configuration, system includes supplementary demographic columns. System applies predefined sorting rules to ensure consistent record ordering across exports.


**Acceptance Criteria:**

**1. Complete Data Extraction**
Given a draft bill with current and prior period charges, When user initiates CSV export, Then system generates file containing all header summaries, itemized details, and adjustment records with proper segmentation.

**2. Zero Balance Handling**
Given a draft bill with zero balances, When export is executed, Then system includes header with $0.00 values and hyphenated due date but excludes invoice detail sections.

**3. Configuration-Based Columns**
Given billing account has pet template enabled, When CSV is generated, Then exported file contains Cat and Dog count columns for all member records.

**4. Premium Waiver Identification**
Given member records affected by premium waiver operations, When export completes, Then system populates waiver indicator column for impacted entries only.

**5. Historical Section Logic**
Given no prior period adjustments exist, When draft bill is exported, Then CSV omits prior billing period section entirely.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=512772624"
]

---

#### Feature: Discard Incorrect Draft Bill Before Invoice Finalization
- **Role**: Billing Administrator
- **Action**: discard and regenerate incorrect draft bills during the invoice review lifecycle
- **Value**: I can prevent billing errors from reaching customers and maintain invoice accuracy before finalization

**Description:**

As a **Billing Administrator**,
I want to **discard and regenerate incorrect draft bills during the invoice review lifecycle**,
So that **I can prevent billing errors from reaching customers and maintain invoice accuracy before finalization**


**Key Capabilities:**

**Draft Bill Initiation & Generation**
User initiates draft bill creation for a selected billing period without existing invoices. System validates eligibility, generates CSV document containing billing details, and stores in repository.

**Draft Content Review & Error Detection**
User retrieves generated draft document and analyzes billing data to identify discrepancies, calculation errors, or incomplete information requiring correction.

**Draft Discard & Regeneration Cycle**
Upon identifying errors, user discards current draft version. System permits multiple regeneration attempts for same period, creating separate documents until satisfactory review outcome achieved.

**Final Invoice Preparation Readiness**
When draft review confirms accuracy, billing account remains eligible for actual invoice generation without interference from previous draft activities.


**Acceptance Criteria:**

**Successful Draft Generation**
Given billing period without finalized invoice, When user initiates draft generation, Then system creates CSV document and confirms availability for review.

**Error Identification Prevention**
Given generated draft contains billing errors, When user reviews document before finalization, Then system permits draft discard without impacting customer records.

**Multiple Regeneration Support**
Given discarded draft bill, When user initiates subsequent generation for same period, Then system creates new independent document without restrictions.

**Concurrent Process Protection**
Given another billing process executing, When user attempts draft generation, Then system prevents action and notifies of process conflict.

**Invoice Period Validation**
Given period with existing finalized invoice, When user attempts draft generation, Then system rejects request preventing duplicate document creation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=543264485"
]

---

#### Feature: Validate Draft Bill Generation Eligibility
- **Role**: Billing Administrator
- **Action**: validate eligibility for draft bill generation and handle processing failures
- **Value**: I can ensure only valid billing accounts proceed to draft creation while receiving clear feedback on ineligible requests

**Description:**

As a **Billing Administrator**,
I want to **validate eligibility for draft bill generation and handle processing failures**,
So that **I can ensure only valid billing accounts proceed to draft creation while receiving clear feedback on ineligible requests**


**Key Capabilities:**

**Initiate Draft Generation Request**
User submits request to generate draft bill for selected billing account

**System Validates Eligibility**
System evaluates billing account against generation eligibility rules and business constraints

**Process Validation Outcome**
Upon successful validation, system proceeds to draft creation workflow
    3.1 When eligibility check fails, system prevents generation and notifies user
    3.2 User is able to acknowledge failure notification and investigate account issues

**Enable Recovery Actions**
User receives actionable feedback to address eligibility barriers and retry generation


**Acceptance Criteria:**

**Successful Eligibility Validation**
Given a billing account meets all generation prerequisites, When user initiates draft bill request, Then system proceeds to draft creation without errors

**Failed Eligibility Validation**
Given a billing account fails eligibility checks, When user attempts generation, Then system blocks request and presents error notification

**Error Notification Acknowledgment**
Given generation failure occurs, When error notification displays, Then user can dismiss notification and retain context of failed account

**Prevention of Invalid Processing**
Given ineligible account conditions exist, When validation executes, Then system prevents draft creation and preserves data integrity


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=553157514"
]

---

#### Feature: Regenerate Invoice After Draft Review and Correction
- **Role**: Billing Administrator
- **Action**: regenerate discarded invoices to create corrected versions for the same invoicing period
- **Value**: customers receive accurate billing documents without losing payment history or disrupting the billing cycle

**Description:**

As a **Billing Administrator**,
I want to **regenerate discarded invoices to create corrected versions for the same invoicing period**,
So that **customers receive accurate billing documents without losing payment history or disrupting the billing cycle**


**Key Capabilities:**

**1. Invoice Regeneration Initiation**
User with appropriate privileges initiates regeneration action for discarded invoices. System validates account type (List Bill, Individual Direct, Self Bill) and applies type-specific business rules. Upon Self Bill rewrite scenario detection, system routes through payment request confirmation workflow instead of manual action menu.

**2. Pre-Regeneration Validation**
System validates billing account hold status and concurrent process restrictions. When hold tag exists or conflicting process detected, system prevents regeneration and notifies user of blocking condition.

**3. New Invoice Generation**
System preserves original discarded invoice status unchanged and generates new invoice for identical invoicing period. Upon successful generation, system automatically applies unapplied balance when account type requires payment consumption per configured strategy.

**4. Financial Reconciliation**
When negative invoice items exist with related overpayments or excessive payments, system recalculates amounts and performs account-type-specific reconciliation (True Group, IPA, or Self Bill).

**5. Export and Notification**
Upon completion, system triggers automated invoice data export if configured and generates business activity messages for audit tracking.


**Acceptance Criteria:**

**1. Authorized Regeneration**
Given a discarded invoice exists and user has regeneration privileges, When user confirms regeneration action, Then system validates all preconditions and initiates new invoice generation while preserving original invoice in discarded status.

**2. Hold Status Blocking**
Given billing account has active invoice hold tag with effective date coverage, When regeneration attempted, Then system prevents regeneration and displays hold error without creating new invoice.

**3. Concurrent Process Prevention**
Given another invoice or draft bill process is in progress for same account, When regeneration initiated, Then system blocks action and notifies user to retry later with cancelled status message.

**4. Payment Balance Application**
Given Self Bill or List Bill with Group allocation mode has unapplied balance and automatic consumption enabled, When new invoice generated, Then system applies unapplied payments to unpaid invoices starting from earliest invoice.

**5. Negative Item Reconciliation**
Given regenerated invoice contains negative items with related overpayment amounts, When generation completes, Then system recalculates overpayment per account type and reconciles with corresponding positive invoice items.

**6. Self Bill Rewrite Handling**
Given Self Bill invoice discarded due to Master Policy rewrite, When user confirms payment request adjustment, Then system automatically regenerates invoice without displaying manual regeneration action.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=490607355"
]

---

#### Feature: Discard Invoice for Correction and Reissuance
- **Role**: Billing Administrator
- **Action**: discard an issued invoice to enable correction and regeneration
- **Value**: I can rectify billing errors, reverse overpayments, and maintain accurate customer account balances without manual reconciliation

**Description:**

As a Billing Administrator,
I want to discard an issued invoice to enable correction and regeneration,
So that I can rectify billing errors, reverse overpayments, and maintain accurate customer account balances without manual reconciliation


**Key Capabilities:**

**1. Discard Initiation & Authorization**
User initiates invoice discard action after system validates authorization privileges and confirms invoice eligibility based on current status and account activities.

**2. Pre-Discard Validation**
System verifies no conflicting processes are in progress and validates account type, write-off existence, and structural amendments impacting the billing period.

**3. Payment Reconciliation**
Upon confirmation, system automatically unallocates previously allocated payments, reverses write-offs if present, and recalculates balances for linked invoices containing offsetting items.

**4. Balance Recalculation**
System updates invoice status to Discarded, recalculates account-level balances, adjusts paid-to-date figures, and updates payment requests for self-bill accounts affected by structural amendments.

**5. Negative Item Processing**
When discarded invoice contains negative items offsetting previous invoices, system identifies matching positive items, reallocates payments, and recalculates prior invoice statuses accordingly.


**Acceptance Criteria:**

**1. Authorization & Eligibility**
Given user holds discard privilege and invoice is in eligible status, When discard action is initiated, Then system displays confirmation modal and validates no blocking processes exist.

**2. Concurrent Status Change Prevention**
Given invoice status changes after user opens discard modal, When user confirms discard, Then system rejects action and displays error notification without modifying data.

**3. Payment Unallocation Execution**
Given invoice has allocated payments, When discard is confirmed, Then system automatically unallocates all payments and recalculates account balances before status change.

**4. Write-off Reversal**
Given invoice contains write-off records, When discard process executes, Then system automatically reverses write-off and updates affected invoice balances.

**5. Self-Bill Account Updates**
Given discarded invoice belongs to self-bill account with structural amendments, When discard completes, Then system updates payment request and recalculates next payment due date.

**6. Negative Item Reconciliation**
Given discarded invoice contains negative items offsetting previous invoices, When system processes discard, Then matching positive items are reallocated and prior invoice statuses recalculated per account type rules.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=488572623"
]

---

#### Feature: Calculate Invoice Balances Across Lifecycle States
- **Role**: Billing Accountant
- **Action**: automatically calculate and maintain invoice payment status based on outstanding balances and adjustments throughout the invoice lifecycle
- **Value**: accurate financial records are maintained and stakeholders receive real-time visibility into invoice payment states without manual reconciliation

**Description:**

As a **Billing Accountant**,
I want to **automatically calculate and maintain invoice payment status based on outstanding balances and adjustments throughout the invoice lifecycle**,
So that **accurate financial records are maintained and stakeholders receive real-time visibility into invoice payment states without manual reconciliation**


**Key Capabilities:**

**1. Dynamic Status Assessment**
When invoice reaches issued state, system evaluates remaining balance against current period charges and positive adjustments to determine runtime status (issued, partially paid, or paid)

**2. Adjustment Impact Analysis**
System applies differential treatment where positive adjustments affect only current invoice period while negative adjustments retroactively update prior period balances and statuses

**3. Balance Calculation Orchestration**
System computes remaining due amounts incorporating current period charges, positive adjustments, and negative adjustment exclusions per period-specific business rules

**4. Status Change Event Broadcasting**
Upon each status transition, system generates status change notification enabling downstream financial processes and reporting workflows


**Acceptance Criteria:**

**1. Issued Status Determination**
Given invoice is in issued state, when remaining due equals current period amount plus positive adjustments, then system assigns issued runtime status

**2. Paid Status Recognition**
Given invoice is in issued state, when remaining due reaches zero, then system transitions runtime status to paid and broadcasts status change event

**3. Partial Payment Detection**
Given invoice is in issued state, when remaining due is positive but less than total charges, then system assigns partially paid runtime status

**4. Negative Adjustment Retroactivity**
Given negative adjustment is applied, when affecting prior invoice period, then system recalculates that period's remaining due and updates status accordingly

**5. Positive Adjustment Isolation**
Given positive adjustment is invoiced, when evaluating prior periods, then system excludes adjustment from historical balance calculations maintaining original statuses


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=507458680"
]

---

#### Feature: Sort Invoice Details by Member, Policy, Coverage, and Location
- **Role**: Billing Administrator
- **Action**: sort and organize invoice line items across multiple business dimensions to facilitate review and reconciliation
- **Value**: invoice details can be analyzed from different perspectives (member, policy, coverage, location) enabling efficient validation and error detection before finalization

**Description:**

As a **Billing Administrator**,
I want to **sort and organize invoice line items across multiple business dimensions to facilitate review and reconciliation**,
So that **invoice details can be analyzed from different perspectives (member, policy, coverage, location) enabling efficient validation and error detection before finalization**


**Key Capabilities:**

**1. Initial Invoice Details Presentation**
Upon invoice draft display, system applies hierarchical member-based ordering: member name (last, first), customer identifier, and member record sequence.

**2. Member-Centric Reordering**
User is able to toggle member sort direction to analyze member sequences in reverse hierarchy.

**3. Policy-Centric Grouping**
User is able to reorganize details by policy identifier with nested member ordering to validate policy-level charge accuracy.

**4. Coverage-Based Analysis**
User is able to group charges by coverage type with member sub-grouping to verify benefit-level billing consistency.

**5. Location/Division Segmentation**
User is able to organize details by organizational location or division with member sub-ordering to support departmental reconciliation workflows.


**Acceptance Criteria:**

**1. Default Ordering Applied**
Given invoice draft is generated, When details are initially displayed, Then system presents records in ascending member hierarchy without user intervention.

**2. Policy Dimension Reorganization**
Given details are displayed in any order, When user selects policy-based sorting, Then system groups all charges by policy with member sub-ordering maintained.

**3. Coverage Perspective Enabled**
Given user requires benefit-level analysis, When coverage sort is activated, Then system reorganizes details by coverage type preserving member grouping within each coverage.

**4. Location-Based Segmentation**
Given organizational review workflow, When location/division sort is applied, Then system restructures details by location with member hierarchy intact.

**5. Sort State Persistence**
Given any non-default sort is active, When user switches dimensions, Then system applies new ordering without reverting to default between selections.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=546715757"
]

---

#### Feature: Sort Invoice Details by Plan, Coverage, and Class for Self-Bill
- **Role**: Billing Analyst
- **Action**: organize invoice line items by hierarchical business dimensions to facilitate invoice review and validation
- **Value**: I can efficiently review complex invoice structures, identify discrepancies across policy hierarchies, and ensure accurate billing presentation to clients

**Description:**

As a Billing Analyst,
I want to organize invoice line items by hierarchical business dimensions to facilitate invoice review and validation,
So that I can efficiently review complex invoice structures, identify discrepancies across policy hierarchies, and ensure accurate billing presentation to clients


**Key Capabilities:**

**1. Initial Invoice Display with Default Hierarchy**
Upon accessing invoice details, system automatically applies default sorting: Plan-Coverage (ascending alphabetically), then Class (ascending), Tier (letters before symbols, ascending), and Subgroup per standard definition.

**2. Plan-Coverage Primary Reorganization**
User is able to toggle Plan-Coverage sorting between descending and default ascending order while maintaining secondary class-tier-subgroup hierarchy for lines within same plan-coverage.

**3. Policy-Centric Alternative Sorting**
When user selects policy-based sorting, system reorganizes by alphanumeric policy identifier (ascending) with secondary hierarchy of coverage-class-tier-subgroup applied consistently across matching policies.


**Acceptance Criteria:**

**1. Default Hierarchy Applied Automatically**
Given invoice details exist, When user first accesses self-bill interface, Then system displays lines sorted by Plan-Coverage ascending with class-tier-subgroup secondary hierarchy applied.

**2. Plan-Coverage Toggle Behavior**
Given default display is active, When user activates Plan-Coverage sort once, Then system re-sorts to descending order; When activated again, Then system returns to default ascending order.

**3. Policy Sort with Persistent Order**
Given any current sort state, When user activates Policy sort, Then system applies alphanumeric ascending with coverage-class-tier-subgroup hierarchy; subsequent Policy sort activations maintain established order without toggling.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=546715760"
]

---

#### Feature: Sort Invoice Details by Transaction Date for FlexiBill
- **Role**: Billing Administrator
- **Action**: organize invoice transactions using multi-level sorting hierarchies
- **Value**: I can efficiently review and validate invoice details in chronological and contractual sequence before finalization

**Description:**

As a **Billing Administrator**,
I want to **organize invoice transactions using multi-level sorting hierarchies**,
So that **I can efficiently review and validate invoice details in chronological and contractual sequence before finalization**


**Key Capabilities:**

**1. Default Transaction Presentation**
Upon invoice draft load, system presents transactions sorted by date descending (newest first), then by contract number, product code, and product identifier as hierarchical tie-breakers.

**2. Custom Sorting Activation**
User is able to reorder transactions by selecting alternate sorting dimensions (contract, product, or date priorities) to support specific review workflows.

**3. Sort Direction Reversal**
When user reselects the same sorting dimension, system reverses all hierarchy levels to maintain logical ordering relationships.

**4. Exception Handling for Missing Data**
System automatically segregates transactions with absent contract or product identifiers to list end, preventing disruption of primary review sequence.


**Acceptance Criteria:**

**1. Initial Load Sequence**
Given invoice draft initialization, When transaction list renders, Then system displays newest transactions first with contract-product hierarchy applied as secondary ordering.

**2. Alternate Hierarchy Application**
Given user selects contract-based sorting, When system reorders transactions, Then primary sort uses contract number with date-product hierarchy preserved as tie-breakers.

**3. Direction Reversal Consistency**
Given current ascending sort on any dimension, When user reselects same dimension, Then system reverses entire hierarchy maintaining relational ordering logic.

**4. Incomplete Record Segregation**
Given transactions with missing contract or product codes, When sorting executes, Then system positions incomplete records at list end regardless of other attribute values.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=836868803"
]

---

#### Feature: Prevent Invoice Generation During Seasonal Billing Gaps
- **Role**: Billing Administrator
- **Action**: prevent invoice generation during configured seasonal billing exclusion periods
- **Value**: the organization avoids issuing incorrect invoices during non-billing seasons and maintains accurate billing cycles

**Description:**

As a **Billing Administrator**,
I want to **prevent invoice generation during configured seasonal billing exclusion periods**,
So that **the organization avoids issuing incorrect invoices during non-billing seasons and maintains accurate billing cycles**


**Key Capabilities:**

**1. Seasonal Gap Configuration Validation**
Upon invoice generation initiation, system validates whether seasonal gap billing control is enabled for the billing account. If disabled, processing continues to standard invoice generation workflow.

**2. Exclusion Period Matching**
When seasonal gap control is enabled, system evaluates whether the current invoicing period intersects with any billing periods designated as excluded in the account configuration.

**3. Invoice Generation Control**
If invoicing period matches an excluded billing period, system halts invoice generation for that cycle. If no match exists or no exclusions are configured, processing advances to next invoice generation stage.


**Acceptance Criteria:**

**1. Bypass Validation When Disabled**
Given seasonal gap billing is disabled, When invoice generation is triggered, Then system proceeds directly to standard invoice creation without period validation.

**2. Prevent Generation During Exclusion**
Given seasonal gap billing is enabled and excluded periods are configured, When invoicing period coincides with an excluded billing period, Then system stops invoice generation and does not create the invoice.

**3. Allow Generation Outside Exclusions**
Given seasonal gap billing is enabled, When invoicing period does not match any excluded billing periods or no exclusions are defined, Then system continues invoice generation process.

**4. Configuration Prerequisite**
Given invoice generation is initiated, When billing account lacks invoicing configuration, Then system cannot perform seasonal gap validation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=750556291"
]

---

#### Feature: Configure Invoice Generation Date and Due Date Offset Rules
- **Role**: Billing Administrator
- **Action**: configure automated invoice generation and due date offset rules based on invoicing frequency patterns
- **Value**: invoice production schedules align with business billing cycles and ensure timely payment collection

**Description:**

As a **Billing Administrator**,
I want to **configure automated invoice generation and due date offset rules based on invoicing frequency patterns**,
So that **invoice production schedules align with business billing cycles and ensure timely payment collection**


**Key Capabilities:**

**1. Establish Base Generation Parameters**
User determines invoicing frequency type and applies corresponding timing rules. System configures generation day and offset fields based on selected frequency.

**2. Apply Monthly Frequency Offset Rules**
When generation date exceeds calendar due day, system enforces minimum offset of one day and restricts selection to 1-6 day range to prevent retroactive scheduling.

**3. Configure Advanced Semi-Monthly Schedules**
Upon enabling advanced scheduling for semi-monthly frequencies, user configures independent generation parameters for each due date cycle with separate day and offset values.

**4. Manage Primary Cycle Timing**
User sets first generation day and offset. System adjusts available offset values (0-6 or 1-6) based on relationship to first due day.

**5. Configure Secondary Cycle Dependencies**
User establishes second generation day. System automatically constrains offset options based on first cycle's offset value and maintains logical consistency between cycles.

**6. Validate Cross-Cycle Consistency**
System enforces dependencies ensuring second cycle offset matches or decrements first cycle offset based on relative generation day positions.


**Acceptance Criteria:**

**1. Standard Monthly Offset Enforcement**
Given monthly frequency with generation date after due day, when user configures timing rules, then system restricts offset selection to 1-6 days and prevents zero-day offset.

**2. Semi-Monthly Advanced Configuration Activation**
Given semi-monthly frequency selected, when user activates advanced schedule toggle, then system provides separate generation day and offset configuration for each due date cycle.

**3. Primary Cycle Offset Logic**
Given first generation day configured, when generation day exceeds first due day, then system limits offset to 1-6 range; when generation day is at or before first due day, then system allows 0-6 offset range.

**4. Secondary Cycle Offset Synchronization**
Given first cycle offset equals zero, when user configures second generation day, then system enforces zero offset for second cycle and constrains day selection between first generation day and second due day.

**5. Cross-Cycle Offset Dependency**
Given first cycle offset greater than zero, when second generation day equals or exceeds first generation day, then system matches second offset to first offset; when second generation day is earlier, then system decrements second offset by one.

**6. Configuration Completeness Validation**
Given incomplete or inconsistent timing parameters, when user attempts to finalize rules, then system prevents submission until all generation days and offsets satisfy frequency-specific constraints.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=565755758"
]

---

#### Feature: Validate Concurrent Invoice and Draft Bill Processes
- **Role**: Billing Operations Specialist
- **Action**: ensure only one critical billing process executes at a time per billing account to prevent data conflicts
- **Value**: billing integrity is maintained and system prevents concurrent operations that could corrupt invoice data or create inconsistent financial records

**Description:**

As a **Billing Operations Specialist**,
I want to **ensure only one critical billing process executes at a time per billing account to prevent data conflicts**,
So that **billing integrity is maintained and system prevents concurrent operations that could corrupt invoice data or create inconsistent financial records**


**Key Capabilities:**

**1. Billing Action Initiation and Concurrency Check**
User initiates a critical billing action (Draft Bill Generation, Invoice Generation, Invoice Discard, or Invoice Regeneration). System immediately validates whether conflicting processes are currently executing on the target billing account.

**2. Process Blocking and Conflict Prevention**
When concurrent conflicts detected, system blocks the requested action and notifies user of active conflicting process. User must wait until completion before retrying. Exception: Invoice Regeneration may proceed during Invoice Generation.

**3. Successful Process Execution**
Upon validation confirming no conflicts exist, system permits action to proceed and executes the requested billing process while marking account as locked for other conflicting operations.


**Acceptance Criteria:**

**1. Conflict Detection for Draft Bill Generation**
Given Draft Bill generation, Invoice generation, Invoice discard, or Invoice regeneration is in progress, When user attempts Draft Bill Generation, Then system blocks action and notifies user to retry later.

**2. Conflict Detection for Invoice Operations**
Given any conflicting process is active, When user attempts Invoice Generation, Invoice Discard, or Invoice Regeneration, Then system prevents initiation except Invoice Regeneration during Invoice Generation which is permitted.

**3. Successful Execution Without Conflicts**
Given no conflicting processes are running on the billing account, When user initiates any billing action, Then system executes the requested process successfully.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=536088626"
]

---

#### Feature: Manage Invoice Actions Based on Status and Eligibility
- **Role**: Billing Administrator
- **Action**: execute context-aware invoice lifecycle actions
- **Value**: I can efficiently manage invoice corrections, cancellations, and adjustments while maintaining data integrity and compliance

**Description:**

As a **Billing Administrator**,
I want to **execute context-aware invoice lifecycle actions**,
So that **I can efficiently manage invoice corrections, cancellations, and adjustments while maintaining data integrity and compliance**


**Key Capabilities:**

**1. Invoice Access and Review**
User is able to view invoice details for any invoice regardless of current status, providing universal access to invoice information.

**2. Status-Driven Action Determination**
System evaluates invoice status, billing product type, and business rule criteria to dynamically enable eligible actions from the InvoiceActions lookup configuration.

**3. Conditional Discard Execution**
When invoice satisfies Discard Invoice business rule criteria, user is able to execute discard action to cancel the invoice.

**4. Conditional Regeneration Execution**
When invoice meets Regenerate Invoice business rule conditions, user is able to regenerate invoice to correct billing errors.

**5. Manual Write-Off Application**
When billing product type is List Bill or Individual Direct and invoice status is Issued or Partially Paid, user is able to apply manual write-off adjustments.


**Acceptance Criteria:**

**1. Universal View Access**
Given any invoice exists, When user requests invoice details, Then system displays complete invoice information regardless of status.

**2. Discard Action Eligibility**
Given invoice meets Discard Invoice business rule criteria, When system evaluates available actions, Then Discard action is enabled for execution.

**3. Regenerate Action Eligibility**
Given invoice satisfies Regenerate Invoice business rule conditions, When system determines available actions, Then Regenerate action is enabled.

**4. Write-Off Action Eligibility**
Given billing product is List Bill or Individual Direct and invoice status is Issued or Partially Paid, When system checks action eligibility, Then Apply Manual Write Off action is enabled.

**5. Ineligible Action Prevention**
Given invoice does not meet specific action criteria, When user attempts unauthorized action, Then system prevents execution and maintains invoice integrity.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=678433988"
]

---

#### Feature: Generate Invoice for FlexiBill Billing Accounts
- **Role**: Billing Administrator
- **Action**: automate invoice generation and manage invoice lifecycle for FlexiBill billing accounts
- **Value**: invoices are created timely with accurate product item inclusion, supporting flexible manual interventions while maintaining billing integrity

**Description:**

As a **Billing Administrator**,
I want to **automate invoice generation and manage invoice lifecycle for FlexiBill billing accounts**,
So that **invoices are created timely with accurate product item inclusion, supporting flexible manual interventions while maintaining billing integrity**


**Key Capabilities:**

**1. Scheduled Invoice Generation**
System automatically generates invoices on configured Invoice Generation Date, covering the invoicing period determined by start date and frequency (Weekly, Monthly). Includes product items assigned to billing account, not yet invoiced, and received by period end date.

**2. Due Date Calculation**
System calculates due date using three methods: last day of period, invoicing start date plus specified days, or arrears with period offset.

**3. Manual Invoice Generation**
User initiates invoice creation during active period. System generates invoice covering full period boundaries, includes eligible product items received before manual generation date, and prevents duplicate automatic generation for same period.

**4. Invoice Regeneration Handling**
When invoice is regenerated for same period, system includes original product items plus new items received after initial generation but within period boundaries, maintaining original due date.


**Acceptance Criteria:**

**1. Automatic Generation Success**
Given an invoicing period end date is reached, When automatic generation executes, Then system creates invoice including all eligible product items received by period end.

**2. Manual Generation Prevention**
Given invoice was manually generated mid-period, When automatic generation date arrives and no new items exist, Then system skips invoice creation for that period.

**3. Period Boundary Enforcement**
Given product items with various receipt dates, When invoice is generated, Then only items received within invoicing period boundaries are included.

**4. Regeneration Item Capture**
Given invoice is regenerated for a period, When new items were received after original generation but within period, Then regenerated invoice includes both original and new items.

**5. Due Date Accuracy**
Given configured calculation method, When invoice is generated or regenerated, Then due date reflects correct calculation based on period parameters.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=818187642"
]

---

#### Feature: View Detailed Invoice Information by Billing Account Type
- **Role**: Billing Analyst
- **Action**: review comprehensive invoice details across account types
- **Value**: ensure billing accuracy and resolve payment inquiries efficiently

**Description:**

As a **Billing Analyst**,
I want to **review comprehensive invoice details across account types**,
So that **I can ensure billing accuracy and resolve payment inquiries efficiently**


**Key Capabilities:**

**1. Invoice Overview Access**
User retrieves invoice summary displaying period metadata, financial balances (previous balance, payments, current charges, adjustments, total due), and account-specific balance calculations.

**2. Member-Level Premium Breakdown**
User reviews member records showing enrollment details, coverage tier, location/division, and amounts, with separate entries created when tier, location, division, or modality varies within billing periods.

**3. Exception and Adjustment Identification**
User identifies tolerance flags, delinquency indicators, premium waivers, and overpayment allocations displayed at invoice or member level.

**4. Data Refinement and Analysis**
User searches members by name/ID/SSN, filters by coverage products, applies sorting, and views optional subtotals by class/location/division when configured.

**5. Data Export**
User exports filtered invoice data to CSV for external analysis.


**Acceptance Criteria:**

**1. Account-Specific Balance Display**
Given the billing account type is True Group, Individual Direct, or Individual Premium Accounting, when the invoice opens, then only balances calculated for that account type are displayed.

**2. Member Record Granularity**
Given a member has multiple tier, location, division, or modality values within invoice periods, when records load, then separate entries are created for each unique combination.

**3. Exception Flagging**
Given delinquency events exist or tolerance threshold is met, when the invoice displays, then corresponding flags appear in the header or member row.

**4. Search and Filter Integration**
Given the user applies both name search and coverage filter, when results display, then records match all criteria using AND logic.

**5. Data Export Accuracy**
Given active filters or search, when export executes, then CSV contains only displayed records respecting current view.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=457778501"
]

---

#### Feature: Publish Business Activity Monitoring Events for Draft Bill Lifecycle
- **Role**: Billing Administrator
- **Action**: publish business activity monitoring events throughout the draft bill lifecycle to enable real-time tracking and operational transparency
- **Value**: I can monitor billing process health, identify bottlenecks early, and ensure timely invoice delivery across all billing types

**Description:**

As a **Billing Administrator**,
I want to **publish business activity monitoring events throughout the draft bill lifecycle to enable real-time tracking and operational transparency**,
So that **I can monitor billing process health, identify bottlenecks early, and ensure timely invoice delivery across all billing types**


**Key Capabilities:**

**Draft Bill Generation Initiation**
When billing cycle triggers, system publishes event capturing billing type (List Bill or Individual Direct), request timestamp, and associated customer context.

**Draft Document Creation Milestones**
Upon each critical stage completion (calculation, validation, formatting), system emits progress events with stage identifier and processing duration.

**Exception and Error Tracking**
If generation failures or data anomalies occur, system publishes diagnostic events with error classification and affected bill references.

**Completion and Handoff**
When draft bill finalizes, system publishes completion event enabling downstream review workflow initiation and audit trail establishment.


**Acceptance Criteria:**

**Successful Event Publication**
Given a draft bill generation process initiates, When each lifecycle stage completes, Then corresponding BAM event is published with accurate timestamp, billing type, and process context.

**Error Event Capture**
Given generation encounters exceptions, When failure occurs, Then system publishes diagnostic event containing error classification and affected bill identifiers without halting downstream processes.

**End-to-End Traceability**
Given multiple billing types process concurrently, When querying BAM events, Then complete lifecycle trace is available for each bill from initiation through completion.

**Performance Baseline**
Given normal operating conditions, When events publish, Then event lag remains under 5 seconds to support near real-time monitoring dashboards.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=515222175"
]

---

#### Feature: Notify Users of Draft Bill Generation Failures
- **Role**: Billing Administrator
- **Action**: receive automated notifications when draft bill generation processes fail
- **Value**: I can promptly investigate and resolve billing issues before customer statement deadlines

**Description:**

As a **Billing Administrator**,
I want to **receive automated notifications when draft bill generation processes fail**,
So that **I can promptly investigate and resolve billing issues before customer statement deadlines**


**Key Capabilities:**

**1. Automated Failure Detection**
System continuously monitors draft bill generation processes for both list billing and individual direct billing cycles, identifying exceptions or incomplete executions.

**2. Stakeholder Notification**
Upon detection of generation failures, system automatically alerts designated billing administrators through configured notification channels with failure context.

**3. Failure Documentation**
System captures error metadata linking failed generation attempts to affected accounts, billing periods, and root cause indicators for investigation tracking.


**Acceptance Criteria:**

**1. Failure Detection Accuracy**
Given a draft bill generation process encounters errors, When the system identifies incomplete or failed processing, Then notification is triggered within defined SLA timeframes.

**2. Notification Delivery**
Given failure notification is triggered, When system routes alert to billing administrators, Then recipients receive actionable information including affected billing scope and timestamp.

**3. Audit Traceability**
Given notification has been issued, When administrators access failure records, Then complete failure metadata is retrievable for compliance and resolution tracking purposes.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=533635522"
]

---

### Epic: Billing Amendments & Adjustments

#### Feature: Calculate Amendments Not Yet Billed (ANYB) for Retroactive Changes
- **Role**: Billing Administrator
- **Action**: process retroactive policy amendments to calculate unbilled premium adjustments
- **Value**: accurate billing accounts reflect all policy changes before invoice generation

**Description:**

As a **Billing Administrator**,
I want to **process retroactive policy amendments to calculate unbilled premium adjustments**,
So that **accurate billing accounts reflect all policy changes before invoice generation**


**Key Capabilities:**

**Amendment Evaluation**
Upon policy amendment issuance, system determines if change is premium-bearing and requires invoice adjustment

**Delta Calculation for Out-of-Sequence Changes**
When amendment is retroactive, system retrieves member and coverage data, compares against existing invoices by effective date, and calculates premium differences

**Billable Item Generation**
System validates amendment against unbilled criteria, generates billable items reflecting deltas, and accumulates adjustments in billing account

**Balance Aggregation**
System computes total unbilled premium amounts across all amendments and presents consolidated balance for next invoice cycle


**Acceptance Criteria:**

**Premium-Bearing Amendment Processing**
Given a premium-bearing policy amendment, when system evaluates the change, then invoice operations are triggered and billable items are generated

**Non-Premium Amendment Exclusion**
Given a non-premium-bearing amendment, when system evaluates the change, then no invoice operations occur and process terminates

**Retroactive Delta Calculation**
Given an out-of-sequence amendment, when system retrieves historical coverage data and compares against existing invoices, then accurate premium deltas are calculated

**Balance Accumulation**
Given multiple generated billable items, when deltas are aggregated in billing account, then total amendments not yet billed value reflects all unbilled adjustments


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=528755587"
]

---

#### Feature: Process Mid-Cycle Member Record Cancellations with Proration
- **Role**: Billing Administrator
- **Action**: process member record cancellations with automated proration and premium adjustments across billing cycles
- **Value**: accurate billing reflecting actual coverage periods, preventing over-billing and streamlining credit reconciliation

**Description:**

As a **Billing Administrator**,
I want to **process member record cancellations with automated proration and premium adjustments across billing cycles**,
So that **accurate billing reflecting actual coverage periods, preventing over-billing and streamlining credit reconciliation**


**Key Capabilities:**

**1. Cancellation Intake & Classification**
System evaluates cancellation effective date position within billing period, payment allocation mode (True Group/IPA), and invoice generation status to determine processing path.

**2. Pre-Invoice Cancellation Processing**
When invoice not yet generated, system calculates prorated premiums for mid-period cancellations or sets monthly premium to zero for period-start cancellations, excluding member records from applicable future invoices.

**3. Post-Invoice Adjustment Management**
Upon detecting invoice already generated, system calculates Amendments Not Yet Billed (ANYB) reflecting over-billed amounts and applies credits to subsequent invoices.

**4. IPA Remediation Workflow**
For Individual Premium Accounting mode, system executes invoice discard, regenerates corrected invoices with prorated amounts, and transfers allocated payments to Member Record Overpayments account.


**Acceptance Criteria:**

**1. Pre-Invoice Period-Start Cancellation**
Given cancellation effective date equals billing period start date and invoice not generated, when cancellation processed, then monthly premium set to zero and member record excluded from all future invoices without proration.

**2. Pre-Invoice Mid-Period Cancellation**
Given cancellation effective date falls mid-period and invoice not generated, when cancellation processed, then system calculates prorated premium based on coverage days and includes partial amount in cancellation period invoice only.

**3. Post-Invoice Credit Application (True Group)**
Given invoice already generated for cancellation period in True Group mode, when cancellation processed, then ANYB reflects negative over-billed amount and next consolidated invoice reduced by ANYB value.

**4. Post-Invoice Remediation (IPA)**
Given invoice already generated in IPA mode, when remediation triggered, then system discards original invoice, regenerates with prorated amounts, and transfers prior payments to overpayments account.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=567631777"
]

---

#### Feature: Process Out-of-Sequence (OOS) Amendments with Invoice Adjustments
- **Role**: Billing Administrator
- **Action**: process retroactive policy amendments and reconcile billing discrepancies through automated invoice adjustments
- **Value**: premium calculations remain accurate and billing integrity is maintained when policy changes occur outside the standard billing cycle

**Description:**

As a **Billing Administrator**,
I want to **process retroactive policy amendments and reconcile billing discrepancies through automated invoice adjustments**,
So that **premium calculations remain accurate and billing integrity is maintained when policy changes occur outside the standard billing cycle**


**Key Capabilities:**

**1. Amendment Processing Initiation**
User is able to create out-of-sequence amendments with effective dates preceding current billing period. System determines if amendment falls within uninvoiced or already-invoiced periods and applies appropriate calculation logic.

**2. Modal Premium Recalculation**
Upon amendment submission, system recalculates modal premiums retroactively from effective date. When effective date aligns with premium period start, full-month premiums apply; when mid-period, prorated amounts calculate using daily rates.

**3. ANYB Balance Reconciliation**
System compares originally invoiced amounts against corrected premiums to calculate Amendments Not Yet Billed balances. Over-billed scenarios generate negative ANYB credits; under-billed scenarios generate positive ANYB charges.

**4. Roll-On Transaction Processing**
When subsequent amendments occur, system advances transaction effective dates and applies new modal premiums prospectively while preserving prior period calculations and accumulated ANYB balances.

**5. Multi-Account Transaction Handling**
For portability and continuation scenarios, system propagates OOS amendments across originating and destination billing accounts, calculating separate ANYB balances and adjusting invoices for each account independently.

**6. Invoice Adjustment Execution**
System applies accumulated ANYB to next invoice generation, increasing invoice amounts for under-billed periods or reducing/crediting for over-billed periods until discrepancies are fully reconciled.


**Acceptance Criteria:**

**1. Amendment Within Uninvoiced Period**
Given an OOS amendment effective before invoice generation, When modal premium changes from $100 to $125, Then system generates invoice at $125 with zero ANYB balance.

**2. Amendment Within Already Invoiced Period**
Given invoice already generated at $200 and OOS amendment reduces premium to $100, When amendment processes, Then system creates -$100 ANYB and reduces next invoice by over-billed amount.

**3. Proration Calculation Accuracy**
Given mid-month amendment effective date of 15th day, When system prorates premium, Then calculation applies daily rate for partial period and generates correct prorated invoice amount.

**4. Accumulated ANYB Adjustment**
Given existing ANYB balance of -$50 and new OOS amendment creating -$75 additional, When next invoice generates, Then system applies total -$125 ANYB adjustment to reconcile cumulative discrepancy.

**5. Portability Transaction Reconciliation**
Given member transfer from group to individual billing with OOS amendment, When system processes portability, Then separate ANYB balances calculate for each account and adjust respective invoices independently.

**6. Roll-On Amendment Sequencing**
Given OOS amendment effective February and Roll-On effective March, When both process, Then February uses OOS premium, March forward uses Roll-On premium, and ANYB calculates only for invoiced periods.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=582460325"
]

---

#### Feature: Process Out-of-Sequence (OOS) Cancellations with Retroactive Impact
- **Role**: Billing Administrator
- **Action**: process retroactive policy cancellations with automated premium adjustments and invoice corrections
- **Value**: ensure accurate billing reconciliation, prevent revenue leakage, and maintain compliance when policy terminations occur after invoices are generated

**Description:**

As a **Billing Administrator**,
I want to **process retroactive policy cancellations with automated premium adjustments and invoice corrections**,
So that **ensure accurate billing reconciliation, prevent revenue leakage, and maintain compliance when policy terminations occur after invoices are generated**


**Key Capabilities:**

**1. Cancellation Request Intake & Period Evaluation**
System receives cancellation request with effective date and evaluates alignment with premium period boundaries to determine proration requirements.

**2. Premium Adjustment Calculation**
When period-aligned, system sets modal premium to $0 from cancellation date. When mid-period, system calculates prorated premium using daily rate formula and establishes $0 premium from next period.

**3. Amendment Effectiveness Assessment**
System marks all amendments with effective dates on/after cancellation date as not effective and removes associated billing impacts.

**4. Over-Billing Reconciliation & Credit Tracking**
System identifies invoices already generated for affected periods, calculates over-billed amounts as negative ANYB balances, and automatically applies offsets to subsequent invoices until fully reconciled.

**5. Multi-Account Impact Management**
Upon member movement between billing accounts, system processes cancellation independently per account with separate ANYB tracking and invoice exclusion logic based on respective effective dates.

**6. Invoice Correction & Regeneration**
User is able to discard affected invoices triggering ANYB reset, invoice regeneration with corrected amounts, and payment reallocation to member record overpayments.


**Acceptance Criteria:**

**1. Period-Aligned Cancellation Processing**
Given cancellation date matches period start date, When system processes cancellation, Then modal premium sets to $0 from cancellation date without proration and future amendments marked not effective.

**2. Mid-Period Proration Accuracy**
Given cancellation date falls mid-period, When system calculates adjustment, Then prorated premium uses daily rate formula with HALF_UP rounding and establishes $0 premium from next period.

**3. Retroactive Over-Billing Credit Management**
Given invoices already generated for affected periods, When system reconciles over-billing, Then negative ANYB balances accumulate across periods and automatically offset subsequent invoices until fully cleared.

**4. ANYB Balance Replacement Logic**
Given existing positive ANYB from prior amendments, When cancellation creates negative ANYB, Then system removes existing balance and replaces with new over-billing calculation.

**5. Multi-Account Independent Processing**
Given member movement between billing accounts, When cancellation occurs, Then each account processes ANYB and invoice exclusion independently based on respective cancellation and movement effective dates.

**6. Invoice Discard & Regeneration**
Given user discards affected invoices, When discard action completes, Then ANYB resets to $0, invoices regenerate with corrected amounts, and payments reallocate to member overpayments.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=582462767"
]

---

#### Feature: Process Member Record Reinstatements with Premium Restoration
- **Role**: Billing Administrator
- **Action**: process policy reinstatements with automatic premium recalculation and billing adjustments
- **Value**: cancelled coverage is restored with accurate premium calculations reflecting lapse status and coverage periods

**Description:**

As a **Billing Administrator**,
I want to **process policy reinstatements with automatic premium recalculation and billing adjustments**,
So that **cancelled coverage is restored with accurate premium calculations reflecting lapse status and coverage periods**


**Key Capabilities:**

**1. Reinstatement Classification**
System determines reinstatement type (with or without lapse) based on effective dates and applies corresponding premium treatment rules

**2. Premium Recalculation Engine**
System calculates modal premiums using daily rate proration when reinstatement occurs mid-period, applying rounding rules and adjusting for partial coverage periods

**3. Invoice Timing Assessment**
System evaluates whether invoices were generated prior to reinstatement and routes to appropriate billing adjustment workflow
    3.1 When invoice not yet generated, system includes recalculated amounts in next scheduled invoice
    3.2 When invoice already generated, system creates ANYB adjustment entries

**4. ANYB Management**
System tracks amendments not yet billed as separate ledger entries and consolidates adjustments into next invoice generation cycle

**5. Multi-Period Billing Adjustment**
System applies full premium restoration for future periods while reconciling past period amounts based on lapse acknowledgment

**6. Billing Account Synchronization**
Upon completion, system updates billing account with restored premium schedules and clears temporary adjustment entries after invoice generation


**Acceptance Criteria:**

**1. Reinstatement Without Lapse - Pre-Invoice**
Given a cancelled policy is reinstated without lapse before invoice generation, When reinstatement effective date matches cancellation date, Then system restores full modal premium from reinstatement date and includes amount in next invoice

**2. Reinstatement Without Lapse - Post-Invoice**
Given policy is reinstated without lapse after invoice generated with prorated cancellation, When reinstatement is processed mid-period, Then system calculates premium difference as ANYB and adds adjustment to next invoice alongside current period premium

**3. Reinstatement With Lapse - No Proration**
Given policy is reinstated with lapse at modal period start, When reinstatement is processed, Then system charges zero premium for lapsed period and resumes full premium from reinstatement date forward

**4. Reinstatement With Lapse - Proration Required**
Given policy is reinstated with lapse mid-period, When reinstatement date falls within billing cycle, Then system prorates premium for partial period using daily rate calculation

**5. ANYB Processing**
Given premium adjustments exist as ANYB entries, When next invoice is generated, Then system consolidates ANYB amounts with current period charges and clears ANYB ledger

**6. Multi-Component Premium Handling**
Given policy has multiple model rules, When reinstatement is processed, Then system independently calculates and adjusts each premium component while maintaining accurate aggregate billing amounts


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=581111204"
]

---

#### Feature: Process Premium Waiver Transactions with Invoice Adjustments
- **Role**: Billing Administrator
- **Action**: process premium waiver lifecycle events with automated invoice adjustments
- **Value**: accurate billing reflects coverage changes without manual intervention or billing errors

**Description:**

As a **Billing Administrator**,
I want to **process premium waiver lifecycle events with automated invoice adjustments**,
So that **accurate billing reflects coverage changes without manual intervention or billing errors**


**Key Capabilities:**

**1. Waiver Initiation and Premium Suspension**
System identifies waiver effective date, determines proration requirements, and suspends modal premium. Upon invoice pre-existence, system calculates over-billed amounts and records in Amendments Not Yet Billed (ANYB) for future offset.

**2. Prorated Premium Calculation**
System applies daily proration formula (Annual Premium  Days in Year  Applicable Days) when waiver effective date falls mid-period, generating partial-period charges before zero-billing commences.

**3. ANYB Management and Invoice Offset**
System tracks billing discrepancies in ANYB until next invoice generation, then applies positive or negative adjustments to reconcile amounts. Upon invoice generation, ANYB resets to zero.

**4. Waiver Expiration and Premium Restoration**
System restores modal premium to full or amended amounts, calculates under-billed ANYB for already-invoiced periods, and includes catch-up amounts in subsequent invoices.

**5. Concurrent Transaction Processing**
System maintains waiver status through amendments, portability, and continuation events, recalculating prorated amounts using updated premium rates when waiver ends post-amendment.

**6. Payment Allocation Mode Handling**
System generates consolidated group invoices (True Group mode) or individual member invoices (IPA mode), applying zero-billing or negative adjustments per mode-specific rules.


**Acceptance Criteria:**

**1. Waiver Without Pre-Generated Invoice**
Given waiver effective date at period start with no invoice generated, When system processes waiver transaction, Then modal premium becomes zero and future invoices exclude member premium without ANYB creation.

**2. Waiver With Pre-Generated Invoice**
Given invoice already generated for waiver effective period, When system processes waiver, Then ANYB records negative over-billed amount and next invoice applies offsetting adjustment before ANYB resets to zero.

**3. Mid-Period Waiver With Proration**
Given waiver effective mid-period, When system calculates partial-period premium, Then prorated amount uses daily rate formula and applies to current period only while subsequent periods bill zero.

**4. Waiver Expiration With Under-Billing**
Given waiver ends during already-invoiced period, When system restores premium, Then ANYB records positive under-billed amount and next invoice includes catch-up adjustment before resuming normal billing.

**5. Amendment During Active Waiver**
Given premium amendment occurs while waiver active, When system processes both transactions, Then zero-billing continues during waiver and restored billing uses amended premium rates with prorated calculations.

**6. Cross-Transaction Waiver Preservation**
Given member undergoes portability or continuation during waiver, When billing account changes, Then waiver status transfers to new billing account maintaining zero-billing until waiver expiration.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=596035111"
]

---

#### Feature: Process Policy Rewrite Transactions with Effective Date Changes
- **Role**: Billing Administrator
- **Action**: process policy rewrite transactions with cascading effective date changes across master policies, member records, billing accounts, and invoices
- **Value**: billing data remains accurate and synchronized when policy effective dates are retroactively adjusted, ensuring proper invoice generation and premium allocation

**Description:**

As a Billing Administrator,
I want to process policy rewrite transactions with cascading effective date changes across master policies, member records, billing accounts, and invoices,
So that billing data remains accurate and synchronized when policy effective dates are retroactively adjusted, ensuring proper invoice generation and premium allocation


**Key Capabilities:**

**1. Master Policy Rewrite Initiation**
User initiates master policy rewrite with new effective date; system generates business activity monitoring record and determines invoice start date recalculation based on earliest effective date across all policies on billing account.

**2. Member Record Cascade Processing**
System propagates effective date changes to associated member records per business rules; generates rewrite transactions; determines state reset eligibility based on billed period balances; recalculates amount not yet billed.

**3. Invoice Impact Assessment**
Upon identifying existing invoices outside new billing period range, system automatically discards affected invoices; evaluates payment allocation status; un-allocates payments from discarded invoices when necessary.

**4. Sequential Invoice Regeneration**
User regenerates discarded invoices in chronological sequence; system validates regeneration prerequisites; recalculates premium allocations and balances for affected periods.

**5. Deduction Date Synchronization (IPA)**
When individual premium accounting applies, system automatically shifts deduction start date by time difference between original and new effective dates; recalculates payroll deduction schedule; adjusts premium item inclusion rules.

**6. Multi-Account Coordination**
For split-bill scenarios, system applies rewrite logic independently across multiple billing accounts; ensures business activity monitoring visibility in all associated accounts; maintains account-specific invoice handling.


**Acceptance Criteria:**

**1. Effective Date Cascade Accuracy**
Given master policy rewrite with forward-moved effective date, when no prior invoices exist, then invoice start date advances to new effective date and member record states reset where billed balances equal zero.

**2. Invoice Discard and Payment Handling**
Given existing paid invoices falling outside new billing period range, when rewrite processes, then system discards affected invoices and un-allocates payments to unapplied balance for future allocation.

**3. Sequential Regeneration Enforcement**
Given multiple discarded invoices requiring regeneration, when user attempts to generate new invoice, then system prevents action until discarded invoices regenerate in chronological order starting with earliest period.

**4. Deduction Schedule Synchronization**
Given individual premium accounting with established deduction start date, when master policy effective date shifts backward or forward, then system recalculates deduction start date by equivalent time difference and adjusts premium item inclusion accordingly.

**5. Cross-Account Consistency**
Given master policy associated with multiple billing accounts, when rewrite completes, then business activity monitoring appears in all accounts and invoice handling executes independently per account rules.

**6. Transaction Override Protection**
Given member record amendment exists before master policy rewrite, when rewrite discards invoices containing amendment, then system overrides amendment transaction and resets amount not yet billed to original pre-amendment values.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=654980735",
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=427300400",
  "/pages/viewpage.action?pageId=671291397"
]

---

#### Feature: Process Member Record Renewals with Premium Changes
- **Role**: Billing Administrator
- **Action**: process member renewals with updated premium amounts and reconcile billing adjustments
- **Value**: premium changes are accurately reflected in invoices while maintaining historical billing integrity and ensuring proper reconciliation of unbilled amounts

**Description:**

As a **Billing Administrator**,
I want to **process member renewals with updated premium amounts and reconcile billing adjustments**,
So that **premium changes are accurately reflected in invoices while maintaining historical billing integrity and ensuring proper reconciliation of unbilled amounts**


**Key Capabilities:**

**1. Renewal Initiation with Premium Update**
Member renewal is initiated with effective date and new premium amount. System updates modal premium effective from renewal date.

**2. Invoice Existence Verification**
System determines billing treatment by checking if invoices already exist for renewal period.
    2.1 When no invoices exist: New premium applies directly to future invoices
    2.2 When invoices exist: System enters ANYB tracking mode

**3. ANYB Calculation and Accumulation**
For pre-existing invoices, system calculates premium difference per period and accumulates Amount Not Yet Billed across affected periods.

**4. Reconciliation in Next Billing Cycle**
First uninvoiced period receives current premium plus accumulated ANYB, resetting tracking balance to zero.


**Acceptance Criteria:**

**1. Premium Application for Future Periods**
Given no invoices exist for renewal period, When member renewal processes with premium change, Then new premium amount applies directly to all future invoices without ANYB tracking.

**2. ANYB Tracking Activation**
Given invoices already exist for renewal period, When premium change becomes effective, Then system preserves existing invoices and calculates accumulated ANYB based on premium difference.

**3. Historical Invoice Preservation**
Given renewal with premium increase occurs mid-cycle, When existing invoices cover renewal period, Then system maintains original invoice amounts without retroactive adjustments.

**4. ANYB Reconciliation Completion**
Given accumulated ANYB exists, When next uninvoiced period generates, Then invoice includes current premium plus total ANYB and resets tracking balance to zero.

**5. Post-Reconciliation Normalization**
Given ANYB reconciliation completed, When subsequent invoices generate, Then amounts reflect only new modal premium with zero ANYB.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=680305289"
]

---

#### Feature: Process Portability and Continuation Transactions with Amendment Impact
- **Role**: Billing Administrator
- **Action**: process member record transitions between billing accounts while managing prorated premiums and invoice adjustments
- **Value**: member billing remains accurate across account transitions and reflects all premium amendments without revenue leakage or over-billing

**Description:**

As a Billing Administrator,
I want to process member record transitions between billing accounts while managing prorated premiums and invoice adjustments,
So that member billing remains accurate across account transitions and reflects all premium amendments without revenue leakage or over-billing


**Key Capabilities:**

**1. Account Transition Initiation**
Upon member record movement between billing accounts, system deactivates modal premium on originating account and activates on receiving account from transaction effective date

**2. Proration Calculation**
When transaction effective date falls mid-period, system calculates prorated premiums using daily rate formula for both old and new accounts based on days in affected period

**3. Amendment Adjustment Tracking**
System updates Amendments Not Yet Billed values on originating account to reflect over-billed or under-billed amounts for periods with generated invoices

**4. Modal Period Recalculation**
System recalculates billing periods on receiving account based on applicable modality and transaction timing, applying proration where transaction dates misalign with period boundaries

**5. Invoice Adjustment Processing**
System generates invoices incorporating active modal premiums plus cumulative adjustment values, resetting adjustment balances to zero after allocation to invoices


**Acceptance Criteria:**

**1. Aligned Transaction Without Prior Invoices**
Given transaction effective date aligns with modal period start and no invoices exist for future periods on old account, When transition processes, Then system deactivates/activates premiums without proration and sets adjustments to zero

**2. Aligned Transaction With Existing Invoices**
Given transaction date aligns with period start and invoices exist for affected periods on old account, When transition processes, Then system updates adjustments with negative modal premium amounts for over-billed periods without proration

**3. Mid-Period Transaction Processing**
Given transaction effective date falls within modal period, When transition processes, Then system prorates premiums on both accounts using daily rate calculation and updates adjustments for invoice-generated periods

**4. Amendment Priority Handling**
Given portability transaction with earlier effective date than subsequent amendment, When processing, Then system applies pre-amendment premium amounts on new account until amendment effective date

**5. Invoice Generation with Adjustments**
Given cumulative adjustment balance exists from prior transactions, When invoice generates, Then invoice amount equals active modal premiums plus adjustment balance and resets allocated adjustments to zero


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=585317489"
]

---

#### Feature: Process Stop Billing Transactions with Invoice Suspension
- **Role**: Billing Administrator
- **Action**: Process stop billing amendments that suspend premium invoicing for member records
- **Value**: Member records transition to non-premium status without disrupting billing account workflows

**Description:**

As a **Billing Administrator**,
I want to **process stop billing amendments that suspend premium invoicing for member records**,
So that **member records transition to non-premium status without disrupting billing account workflows**


**Key Capabilities:**

**1. Stop Billing Amendment Initiation**
User is able to apply non-forfeiture attributes (reduced paid-up or extended term) that automatically trigger stop billing flag and set modal premium to zero for effective period and all subsequent periods.

**2. Sequential Amendment Processing**
When amendment effective date follows existing transactions chronologically, system applies zero premium immediately and propagates stop billing characteristics to all future transactions.

**3. Out-of-Sequence Amendment Handling**
When amendment effective date precedes existing transactions, system automatically performs roll-on processing to inherit non-forfeiture attributes and maintain zero premium across impacted periods.

**4. Differential Invoice Management**
Upon stop billing activation, system generates invoices without line items for list bill accounts while suppressing invoice generation entirely for individual direct accounts.


**Acceptance Criteria:**

**1. Non-Forfeiture Attribute Application**
Given stop billing amendment is created, when non-forfeiture attribute is applied with reduced paid-up or extended term values, then system automatically sets stop billing flag and modal premium to zero.

**2. Sequential Transaction Inheritance**
Given stop billing amendment exists, when subsequent transaction is created with later effective date, then system automatically inherits non-forfeiture attributes and applies stop billing flag.

**3. Out-of-Sequence Roll-On Processing**
Given existing transactions present, when stop billing amendment is created with earlier effective date, then system automatically rolls-on subsequent transactions maintaining zero premium and inherited attributes.

**4. List Bill Invoice Generation**
Given list bill account with stop billing member record, when invoice generation occurs, then system produces invoice without line items for affected member.

**5. Individual Direct Invoice Suppression**
Given individual direct account with stop billing member record, when invoice generation occurs, then system prevents invoice creation entirely.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=737156559"
]

---

#### Feature: Process Resume Billing Transactions with Premium Restoration
- **Role**: Billing Administrator
- **Action**: process resume billing transactions to restore premium billing after stop periods
- **Value**: members are accurately billed for coverage periods with correct premium amounts and retroactive adjustments

**Description:**

As a Billing Administrator,
I want to process resume billing transactions to restore premium billing after stop periods,
So that members are accurately billed for coverage periods with correct premium amounts and retroactive adjustments


**Key Capabilities:**

**1. Receipt and Validation of Resume Billing Transaction**
System receives resume billing amendment with effective date and validates against prior stop billing transaction. Determines if invoices were generated during stop billing period.

**2. Modal Premium Restoration and Amendment Processing**
System restores modal premium to specified amount. When amendments exist between stop and resume dates, executes roll-back of post-stop amendments, applies resume billing, then roll-on amendments with updated values.

**3. Retroactive Adjustment Calculation**
System calculates Amount Not Yet Billed (ANYB) for unbilled coverage periods. Applies prorated calculations when amendments have mid-month effective dates.
    3.1 When out-of-sequence amendments are received, system rolls back stop billing transaction to apply historical amendments chronologically.
    3.2 System generates negative adjustments to reverse previously billed amounts requiring correction.

**4. Invoice Generation with Period Reconciliation**
System generates invoices containing prior period amounts for missed billing periods and current period amounts. Consolidates multiple amendment impacts into appropriate invoice line items.


**Acceptance Criteria:**

**1. In-Sequence Resume Without Intermediate Invoices**
Given stop billing effective February 1st with no invoices generated and resume billing effective February 1st, When system processes resume billing transaction, Then modal premium is restored and next invoice includes prior period amount for February plus current period amount.

**2. In-Sequence Resume With Intermediate Amendments**
Given stop billing followed by amendments with zero amounts, When resume billing is processed, Then system executes roll-back of all post-stop amendments, restores premium, executes roll-on with updated values, and generates separate invoices for affected periods with prorated amounts.

**3. Resume With Issued Invoices During Stop Period**
Given invoices were generated during stop billing period without member items, When resume billing is processed, Then ANYB is calculated for unbilled stop period and next invoice includes both prior period and current period amounts.

**4. Out-of-Sequence Amendment Handling**
Given resume billing followed by out-of-sequence amendments predating stop billing, When system processes transactions, Then stop billing is rolled back, historical amendments applied chronologically, stop billing rolled on, and invoice includes negative adjustment plus prorated prior period amounts.

**5. Modal Premium Accuracy Verification**
Given multiple amendments in transaction chain, When resume billing processing completes, Then final modal premium reflects last amendment effective date and amount correctly.

**6. ANYB Calculation for Multiple Periods**
Given resume billing after extended stop period with multiple unbilled months, When invoice is generated, Then prior period amount accurately captures sum of all unbilled monthly premiums using appropriate proration.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=770584233"
]

---

#### Feature: Process Rescind Cancellation Transactions with Retroactive Adjustments
- **Role**: Billing Administrator
- **Action**: reverse member record cancellations and restore active billing status with retroactive premium recalculations
- **Value**: previously cancelled members are accurately reinstated with correct premium amounts reconciled across affected billing periods

**Description:**

As a **Billing Administrator**,
I want to **reverse member record cancellations and restore active billing status with retroactive premium recalculations**,
So that **previously cancelled members are accurately reinstated with correct premium amounts reconciled across affected billing periods**


**Key Capabilities:**

**1. Cancellation Reversal Initiation**
User initiates rescind cancellation for previously cancelled member record with specified effective date. System validates member eligibility and retrieves cancellation transaction history.

**2. Premium Recalculation & Status Restoration**
System recalculates modal premium from rescind effective date to standard amount and restores member to active billing status for current and future periods.

**3. Invoice Timing Assessment**
When affected period invoice has not been generated, system includes member in next invoice at full standard premium without adjustments.

**4. Retroactive Adjustment Processing**
When affected period invoice was already generated with prorated cancellation amount, system calculates underbilling difference as outstanding balance (ANYB).

**5. Catch-Up Billing Execution**
Upon next invoice generation, system combines current period premium with outstanding ANYB amount as single consolidated charge, then resets outstanding balance to zero for subsequent normal billing cycles.


**Acceptance Criteria:**

**1. Successful Pre-Invoice Rescind**
Given member cancellation exists and affected period invoice is not yet generated, When rescind is processed, Then member is included in next invoice at full standard premium without adjustments or outstanding balances.

**2. Successful Post-Invoice Rescind with ANYB**
Given member cancellation exists and affected period invoice was already generated with prorated amount, When rescind is processed, Then system calculates underbilling difference as ANYB and includes combined amount (current premium plus ANYB) in next invoice.

**3. ANYB Reset After Catch-Up**
Given catch-up invoice has been generated with ANYB included, When subsequent invoices are generated, Then outstanding balance resets to zero and member billing returns to standard modal premium.

**4. Premium Calculation Accuracy**
Given rescind effective date and billing parameters, When system recalculates premium, Then daily rate proration and rounding rules are applied correctly producing accurate modal premium amounts.

**5. Active Status Restoration**
Given rescind transaction is completed, When member record status is updated, Then member is restored to active billing status and included in all future invoice generation cycles.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=621214721"
]

---

### Epic: Invoice Query, Retrieval & Reporting

#### Feature: Search and Retrieve Invoices by Criteria
- **Role**: Billing Administrator
- **Action**: search, filter, and retrieve customer invoices using multiple criteria to locate specific billing records
- **Value**: I can efficiently access and review relevant invoice information for account management and customer service

**Description:**

As a Billing Administrator,
I want to search, filter, and retrieve customer invoices using multiple criteria to locate specific billing records,
So that I can efficiently access and review relevant invoice information for account management and customer service


**Key Capabilities:**

**1. Invoice Access Initiation**
User navigates from billing account overview to invoice section. System displays recent invoices with option to view complete history when account contains multiple invoices.

**2. Criteria-Based Filtering**
User applies filtering criteria including status values, invoicing period ranges, and invoice identifiers. System dynamically refines results based on cumulative filter selections with real-time updates.

**3. Invoice Record Review**
User examines filtered invoice list with expandable payment allocation details. System displays invoice attributes across navigable table columns.

**4. Invoice Action Determination**
User accesses action menu for eligible invoices. System validates invoice state and displays contextually appropriate actions based on status, chronology, and business rule eligibility.


**Acceptance Criteria:**

**1. Invoice List Retrieval**
Given a billing account with multiple invoices, when user initiates full invoice view, then system displays complete invoice history with filtering capabilities enabled.

**2. Multi-Criteria Filtering**
Given active filter selections across status, period ranges, and invoice number, when user applies combined criteria, then system returns only invoices matching all specified conditions simultaneously.

**3. Payment Allocation Visibility**
Given an invoice with allocated payments, when user expands invoice record, then system reveals detailed payment allocation information associated with that invoice.

**4. Conditional Action Availability**
Given an invoice not meeting latest period and date requirements, when user accesses action menu, then system restricts available actions to view-only operations excluding discard functionality.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=463473529"
]

---

#### Feature: Display Invoice Summary and Details
- **Role**: Billing Administrator
- **Action**: retrieve and display invoice summary information for payment processing
- **Value**: I can quickly access critical invoice details to support payment decisions and customer inquiries

**Description:**

As a **Billing Administrator**,
I want to **retrieve and display invoice summary information for payment processing**,
So that **I can quickly access critical invoice details to support payment decisions and customer inquiries**


**Key Capabilities:**

**1. Invoice Identification**
User is able to specify the target invoice through unique invoice identifier for retrieval.

**2. Summary Data Retrieval**
System retrieves core invoice attributes including payment deadline and total amount from billing records.

**3. Summary Presentation**
Upon successful retrieval, system displays invoice identifier, payment due date in standard format, and total invoice amount.

**4. Exception Handling**
When invoice does not exist or validation fails, system prevents retrieval and provides diagnostic information with error classification and reference logging.


**Acceptance Criteria:**

**1. Valid Invoice Retrieval**
Given an existing invoice identifier is provided, When user requests invoice summary, Then system returns invoice number, due date, and amount with HTTP 200 status.

**2. Non-Existent Invoice**
Given an invalid invoice identifier is provided, When user requests summary, Then system prevents retrieval and returns error code 'bil0014' with HTTP 400 status.

**3. Missing Required Information**
Given required invoice identifier or reference is absent, When user attempts retrieval, Then system prevents submission and returns constraint violation error with HTTP 400 status.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=219538769"
]

---

#### Feature: Export Invoice Data to External Format
- **Role**: Billing Administrator
- **Action**: export validated invoice data to standardized external file formats for downstream consumption and archival
- **Value**: stakeholders can access invoice information in compatible formats for accounting systems, regulatory compliance, and audit requirements

**Description:**

As a **Billing Administrator**,
I want to **export validated invoice data to standardized external file formats for downstream consumption and archival**,
So that **stakeholders can access invoice information in compatible formats for accounting systems, regulatory compliance, and audit requirements**


**Key Capabilities:**

**1. Export Initiation**
User initiates invoice export manually from invoice details view, or system automatically triggers export for accounts configured with automated export settings.

**2. Document Generation & Storage**
System generates standardized export file following predefined naming and layout specifications, then stores document in designated billing account folder structure with appropriate classification.

**3. Event Tracking & Notification**
System creates completion events for successful exports and failure events for unsuccessful attempts. Upon manual export triggers, user receives notification of export progress and file location.

**4. Automated Processing Pathway**
When export is system-triggered for configured accounts, process executes silently without user notification while maintaining full event audit trail.


**Acceptance Criteria:**

**1. Manual Export Success**
Given user initiates export from invoice details view, When export completes successfully, Then system generates completion event, stores file in designated folder, and displays notification message to user.

**2. Automated Export Success**
Given billing account has automated export enabled, When system triggers export, Then process completes silently without user notification and generates completion event.

**3. Export Failure Handling**
Given export process encounters error during generation, When failure occurs, Then system creates failure event and terminates process without creating export file.

**4. File Specification Compliance**
Given export completes successfully, When file is generated, Then document follows predefined naming convention, layout specification, and is classified with correct document type.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=531206975"
]

---

#### Feature: Filter Invoice Contents by Coverage and Member
- **Role**: Billing Analyst
- **Action**: filter invoice details by coverage and member attributes to isolate relevant billing records
- **Value**: I can quickly analyze specific product and member billing data without manual sorting, enabling faster reconciliation and customer inquiry resolution

**Description:**

As a **Billing Analyst**,
I want to **filter invoice details by coverage and member attributes to isolate relevant billing records**,
So that **I can quickly analyze specific product and member billing data without manual sorting, enabling faster reconciliation and customer inquiry resolution**


**Key Capabilities:**

**1. Coverage Selection Initiation**
User accesses coverage filtering mechanism and system presents available products associated with existing invoice items for the current billing account.

**2. Product Filter Application**
User selects one or multiple product coverage types and system applies cumulative filtering logic combining member criteria (if specified) with product selections.
    2.1 Upon filter confirmation, system displays member records matching at least one selected product across all relevant billing periods.

**3. Filter Refinement Management**
User modifies active filters by removing individual product selections or clearing all coverage criteria, triggering immediate re-filtering of member records.

**4. Cross-Period Data Presentation**
System aggregates and displays filtered member records across multiple billing periods where they appear, maintaining selection context throughout navigation.


**Acceptance Criteria:**

**1. Product Availability Constraint**
Given an invoice with multiple invoice items, When user initiates coverage filtering, Then system displays only products for which invoice items exist in the current invoice.

**2. Cumulative Filter Logic**
Given user has specified member criteria, When user selects coverage products, Then system displays only member records matching both the member filter AND at least one selected product.

**3. Selective Filter Removal**
Given multiple products are selected, When user removes individual coverage selections, Then system immediately re-filters member records using remaining product criteria without clearing other filters.

**4. Complete Filter Reset**
Given active coverage filters exist, When user clears all product selections, Then system displays all member records complying with remaining member criteria (if any) across all billing periods.

**5. Multi-Period Visibility**
Given filtered member records span multiple billing periods, When system applies coverage filter, Then all instances of qualifying member records appear across their respective billing periods.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=521354704"
]

---

#### Feature: Sort Invoice Details by Multiple Attributes
- **Role**: Billing Analyst
- **Action**: sort invoice details by multiple business attributes to organize billing data
- **Value**: I can efficiently analyze and reconcile self-bill account charges across policies and coverage plans

**Description:**

As a **Billing Analyst**,
I want to **sort invoice details by multiple business attributes to organize billing data**,
So that **I can efficiently analyze and reconcile self-bill account charges across policies and coverage plans**


**Key Capabilities:**

**1. Invoice Detail Access & Default Display**
User accesses invoice details for self-bill billing accounts with baseline presentation order established by system.

**2. Primary Attribute Sorting**
User applies sorting by coverage plan attribute; system reorganizes invoice line items according to defined sorting rules.

**3. Secondary Attribute Sorting**
User applies additional sorting by policy attribute; system re-sequences data while maintaining sorting logic hierarchy.
    3.1 Upon applying secondary sort, system preserves user's organizational intent across multiple dimensions.
    3.2 User is able to revert or reapply sorting at any stage during invoice review.


**Acceptance Criteria:**

**1. Baseline Invoice Presentation**
Given user has accessed invoice details, When no sorting actions performed, Then system displays invoice data in default sequence.

**2. Single-Attribute Sort Execution**
Given invoice details displayed, When user initiates sorting by coverage plan, Then system reorganizes all line items per defined business rules.

**3. Multi-Attribute Sort Execution**
Given coverage plan sort applied, When user initiates policy-level sorting, Then system applies hierarchical sorting logic.

**4. Sort State Persistence**
Given user applied sorting, When user continues invoice review, Then most recent sorting configuration remains active until modified.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=546715817"
]

---

#### Feature: Export Billing Period Details for Self-Bill Accounts
- **Role**: Billing Administrator
- **Action**: export comprehensive billing period details for self-bill accounts
- **Value**: I can generate accurate reports for reconciliation, audit, and customer distribution purposes

**Description:**

As a **Billing Administrator**,
I want to **export comprehensive billing period details for self-bill accounts**,
So that **I can generate accurate reports for reconciliation, audit, and customer distribution purposes**


**Key Capabilities:**

**1. Billing Period Selection**
User is able to specify target billing period and self-bill account scope for data extraction.

**2. Data Compilation & Validation**
System aggregates transaction details, adjustments, and account balances for the selected period. Upon completion, system validates data completeness and integrity.

**3. Export Generation**
User is able to initiate export process in required format. System generates structured output containing all billing period details.

**4. Retrieval & Distribution**
When export completes successfully, user is able to download results and distribute to authorized stakeholders for reconciliation activities.


**Acceptance Criteria:**

**1. Valid Period Export**
Given a self-bill account with billing activity, When user requests export for a completed billing period, Then system generates complete export containing all transactions and balances.

**2. Incomplete Period Handling**
Given an open billing period, When user attempts export, Then system prevents export and notifies user that period must be closed.

**3. Data Integrity Verification**
Given generated export file, When system validates content, Then all financial totals reconcile with source billing records without discrepancies.

**4. Empty Period Response**
Given a billing period with no activity, When export is requested, Then system generates export with zero transactions and appropriate indicators.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=809867499"
]

---

#### Feature: Generate Invoice Export Activity Tracking
- **Role**: Billing Administrator
- **Action**: export and track invoice data extraction activities
- **Value**: ensure audit compliance and maintain operational visibility of data distribution processes

**Description:**

As a **Billing Administrator**,
I want to **export and track invoice data extraction activities**,
So that **I can ensure audit compliance and maintain operational visibility of data distribution processes**


**Key Capabilities:**

**1. Invoice Data Export Initiation**
User is able to request extraction of invoice data from the system based on business requirements.

**2. Export Specification**
User defines the scope and parameters for data extraction according to business needs.

**3. Export Execution**
System processes the export request and generates invoice data package following documented data handling protocols.

**4. Activity Tracking**
System automatically records export activity including initiator, timestamp, and scope for audit purposes.

**5. Export Retrieval**
User is able to access and retrieve the generated invoice data export package for downstream use.


**Acceptance Criteria:**

**1. Successful Export Request**
Given valid export parameters, When user initiates invoice data export, Then system processes request and generates data package.

**2. Automatic Activity Logging**
Given any export execution, When system completes data extraction, Then activity metadata is automatically recorded for audit purposes.

**3. Incomplete Request Handling**
Given missing required parameters, When user attempts export initiation, Then system prevents execution until specifications are complete.

**4. Export Retrieval Confirmation**
Given completed export, When user accesses generated package, Then system confirms data availability and maintains access record.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=532318155"
]

---

#### Feature: Provide Total Billed Amount to Third-Party Systems
- **Role**: Billing Administrator
- **Action**: calculate and transmit aggregated billing totals per plan for master policies to external systems
- **Value**: third-party systems receive accurate financial summaries for reporting, reconciliation, and compliance purposes

**Description:**

As a **Billing Administrator**,
I want to **calculate and transmit aggregated billing totals per plan for master policies to external systems**,
So that **third-party systems receive accurate financial summaries for reporting, reconciliation, and compliance purposes**


**Key Capabilities:**

**1. Master Policy Identification**
System receives master policy identifier and validates its existence and type classification.

**2. Invoice Period Selection**
For each specified date, system retrieves invoices generated during periods encompassing that date.

**3. Plan-Level Aggregation**
System calculates total billed amounts with breakdown per plan included in selected invoices.
    3.1 Upon invalid policy type, system halts calculation and returns exception notification.
    3.2 Upon missing policy record, system prevents processing and alerts requester.

**4. Data Transmission**
System submits calculated totals per plan with exact plan identifiers to requesting third-party system.


**Acceptance Criteria:**

**1. Valid Master Policy Processing**
Given a valid master policy number and date list, When calculation is initiated, Then system returns total billed amounts per plan for each specified date.

**2. Non-Existent Policy Handling**
Given a master policy number not in system, When validation occurs, Then system halts processing and returns policy-not-found error without calculation.

**3. Member Record Rejection**
Given a policy identifier for member record (non-master), When policy type verification executes, Then system prevents calculation and returns policy-type-mismatch error.

**4. Multi-Plan Breakdown**
Given invoices spanning multiple plans, When aggregation completes, Then system provides separate totals with exact plan names for each plan.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=596020891"
]

---

#### Feature: View Invoice Details Across Billing Account Types
- **Role**: Billing Administrator
- **Action**: access and review comprehensive invoice details across multiple billing account types with flexible navigation and sorting capabilities
- **Value**: I can efficiently analyze invoice composition, investigate billing periods, and respond to customer inquiries with accurate financial information

**Description:**

As a **Billing Administrator**,
I want to **access and review comprehensive invoice details across multiple billing account types with flexible navigation and sorting capabilities**,
So that **I can efficiently analyze invoice composition, investigate billing periods, and respond to customer inquiries with accurate financial information**


**Key Capabilities:**

**1. Invoice Access Initiation**
User initiates invoice detail review through action menu selection or direct invoice number navigation from payment-related screens

**2. Account Type Validation & Presentation**
System validates billing account type and presents appropriate detail view; routes List Bill and Individual Direct accounts to standard detail interface, Self-Bill accounts to specialized interface

**3. Period-Based Information Organization**
System displays invoice details grouped by billing periods in collapsed state; user expands specific periods to reveal itemized invoice components with default ordering applied

**4. Member and Coverage Refinement**
User applies member search by name or advanced criteria and filters invoice contents by coverage to isolate specific billing items

**5. Dynamic Sorting Application**
User applies column-based sorting to expanded period details; system reorders items while preserving sort preferences across expand/collapse actions

**6. Session Completion**
User closes detail view to return to previous navigation context


**Acceptance Criteria:**

**1. Authorized Invoice Retrieval**
Given valid user credentials and existing customer with invoices, When user selects view invoice details action, Then system validates authorization and displays invoice organized by billing periods

**2. Account Type Routing**
Given billing account with specific bill type, When system validates account type, Then List Bill and Individual Direct accounts route to standard interface while Self-Bill accounts route to specialized interface

**3. Period Expansion Behavior**
Given collapsed billing period row, When user expands period, Then system displays invoice items with default ordering applied and allows column-based sorting

**4. Search and Filter Integration**
Given expanded invoice details, When user applies member search or coverage filter, Then system displays refined results matching search criteria within selected billing period

**5. Sort Persistence**
Given user-applied sorting on expanded period, When user collapses and re-expands same period, Then system retains previously applied sort order

**6. Navigation Continuity**
Given open invoice detail view, When user closes detail interface, Then system returns to previous page context


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=502432863"
]

---

#### Feature: Manage Invoice List Pagination and Display Controls
- **Role**: Billing Administrator
- **Action**: manage and monitor invoice portfolio with dynamic filtering and responsive display controls
- **Value**: I can efficiently track payment status, identify overdue accounts, and take appropriate collection actions based on real-time account balances

**Description:**

As a **Billing Administrator**,
I want to **manage and monitor invoice portfolio with dynamic filtering and responsive display controls**,
So that **I can efficiently track payment status, identify overdue accounts, and take appropriate collection actions based on real-time account balances**


**Key Capabilities:**

**1. Account Financial Position Assessment**
System loads billing account and calculates real-time balances (Unapplied, Due & Unpaid, Account Balance, Amendments Not Yet Billed) with visual indicators during processing.

**2. Portfolio Status Visualization**
System presents status summary displaying counts of Overdue, Issued, and Partially Paid invoices independent of applied filters, enabling priority identification.

**3. Invoice Discovery and Filtering**
User applies criteria by status, invoicing period, or invoice number. System refreshes display while maintaining status bar integrity.
    3.1 For Self-Bill accounts, user toggles between 'By Period' and 'By Invoice' organizational views.

**4. Invoice Detail Examination**
User expands individual invoices to review allocated payments, write-off transactions, and credit adjustments.

**5. Context-Sensitive Action Execution**
User accesses privilege-based action menu to view details, discard, regenerate, or apply write-offs based on invoice state.

**6. Responsive Layout Adaptation**
System adjusts column visibility and provides navigation controls when workspace layout changes.


**Acceptance Criteria:**

**1. Real-Time Balance Accuracy**
Given a billing account is selected, When the system loads the invoice listing, Then all balance figures are calculated on-demand and display spinners during computation until final values are presented.

**2. Filter-Independent Status Reporting**
Given filters are applied to the invoice list, When the system refreshes the display, Then the status bar counts (Overdue, Issued, Partially Paid) reflect the complete invoice population regardless of active filters.

**3. Account-Type-Specific Display**
Given the billing account type is Self-Bill, When the page loads, Then navigation tabs for 'By Period' and 'By Invoice' views are available; Given the account type is non-Self-Bill, Then these tabs are hidden.

**4. Privilege-Based Action Control**
Given a user lacks specific privileges, When accessing the invoice action menu, Then restricted operations (Discard, Regenerate, Manual Write Off) are unavailable or hidden.

**5. Special Condition Identification**
Given an invoice meets tolerance thresholds or enters delinquency, When displayed in the list, Then appropriate tags ('Tolerance' or 'Delinquency Process Started') are visible on the invoice row.

**6. Responsive Layout Management**
Given the customer profile sidebar state changes, When the system adjusts layout, Then column visibility adapts dynamically and chevron navigation enables access to hidden columns.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=463473394"
]

---

### Epic: Invoice & Payment Reconciliation

#### Feature: View Payment Allocation to Invoices
- **Role**: Billing Administrator
- **Action**: review payment allocation details for invoices to reconcile payment activity and resolve inquiries
- **Value**: I can efficiently verify which payments have been applied to specific invoices, enabling accurate dispute resolution and financial reconciliation

**Description:**

As a **Billing Administrator**,
I want to **review payment allocation details for invoices to reconcile payment activity and resolve inquiries**,
So that **I can efficiently verify which payments have been applied to specific invoices, enabling accurate dispute resolution and financial reconciliation**


**Key Capabilities:**

**Invoice Selection & Access**
User is able to access invoice records from billing account or invoice listing views to initiate allocation inquiry.

**Payment Allocation Disclosure**
Upon expanding invoice details, system reveals all currently allocated payments with transaction metadata including payment identifier, transaction timing, allocation timestamp, status, and allocated amount.

**Current State Reconciliation**
System displays real-time payment allocation snapshot, automatically excluding payments removed through invoice discard, payment transfer, or decline transactions.

**Payment Prioritization**
When multiple payments exist, system orders allocations by payment number in descending sequence for efficient review.


**Acceptance Criteria:**

**Successful Allocation Retrieval**
Given an invoice with allocated payments exists, when user expands invoice details, then system displays allocation table with payment number, transaction dates, status, and allocated amounts ordered by payment number descending.

**Empty Allocation Handling**
Given an invoice without payment allocations, when user expands invoice details, then system displays empty allocation table indicating no payments currently cover the invoice.

**Removed Payment Exclusion**
Given payments previously allocated have been reversed through discard, transfer, or decline, when user views allocations, then system excludes removed payments and displays only current allocations.

**Collapsible View Control**
Given allocation details are expanded, when user collapses the section, then system hides allocation table while preserving invoice summary view.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=541991517"
]

---

#### Feature: Calculate Excessive Payment on Invoice
- **Role**: Billing Administrator
- **Action**: automatically calculate and reconcile excessive payments when premium-decreasing adjustments create negative invoice items
- **Value**: billing accuracy is maintained and overpayments are systematically reallocated to the unapplied balance without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **automatically calculate and reconcile excessive payments when premium-decreasing adjustments create negative invoice items**,
So that **billing accuracy is maintained and overpayments are systematically reallocated to the unapplied balance without manual intervention**.


**Key Capabilities:**

**1. Negative Adjustment Detection**
Upon generation of an invoice with negative items following a premium-decreasing transaction, system identifies the affected master policy and extracts negative invoice items.

**2. Historical Invoice Matching**
System locates corresponding positive invoice items in previous invoices (most recent first) that match the negative adjustments and identifies paid or partially paid amounts.

**3. Excessive Payment Calculation**
When paid items are found, system calculates excessive payment amount by comparing negative adjustments against paid positive items.
    3.1 If no paid items exist or excessive payment equals zero, process terminates

**4. Payment Unallocation Execution**
System unallocates excessive payment from previous invoices using configured priority order and transfers amount to billing account unapplied balance.

**5. Financial Reconciliation**
System recalculates billing account balances, updates payment and invoice statuses as needed, and generates audit messages for distribution operations.


**Acceptance Criteria:**

**1. Negative Adjustment Recognition**
Given a premium-decreasing transaction has occurred, When an invoice with negative items is generated, Then system identifies the master policy and negative adjustment amounts without user intervention.

**2. Payment Matching Validation**
Given negative invoice items exist, When system searches historical invoices, Then corresponding paid positive items are identified starting from most recent invoices.

**3. Zero Payment Handling**
Given excessive payment calculation is performed, When no paid items exist or calculated amount equals zero, Then unallocation process terminates without errors.

**4. Unallocation Execution**
Given excessive payment amount exceeds zero, When unallocation executes, Then funds are transferred to unapplied balance following configured priority rules and audit events are triggered.

**5. Balance Integrity**
Given unallocation completes, When billing balances recalculate, Then account totals reflect accurate unapplied balance and invoice/payment statuses update accordingly.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=684563333"
]

---

#### Feature: Reconcile Negative Invoice Adjustments
- **Role**: Billing Administrator
- **Action**: reconcile negative invoice adjustments arising from retroactive policy events
- **Value**: payment allocations and invoice balances accurately reflect policy changes across billing periods

**Description:**

As a **Billing Administrator**,
I want to **reconcile negative invoice adjustments arising from retroactive policy events**,
So that **payment allocations and invoice balances accurately reflect policy changes across billing periods**


**Key Capabilities:**

**1. Initial Invoice Generation & Retroactive Event Reception**
System generates baseline invoice with coverage and premium amounts, then receives retroactive policy events (terminations, amendments, life events) with past effective dates affecting prior billing periods.

**2. Classification-Based Adjustment Calculation**
System calculates adjustments at defined classification segments (Plan, Class, Location, Division, Tier, Age Band, Tobacco) without combining across different segments. Negative adjustments occur when net combined billable items within same segment are negative.

**3. Invoice Reconciliation Execution**
When negative adjustments affect previously paid invoices, system unallocates payments chronologically from most recent to oldest invoices, reconciles items across affected periods, and updates balances.

**4. Future Invoice Integration**
System includes negative adjustments on next future invoice alongside current period charges, maintaining segment-level separation throughout the billing cycle.


**Acceptance Criteria:**

**1. Retroactive Event Processing**
Given retroactive policy events with past effective dates, When system processes changes, Then adjustments are calculated at appropriate classification segment level without cross-segment netting.

**2. Negative Adjustment Classification**
Given multiple billable items within same classification segment, When combined net amount is negative, Then system classifies as negative adjustment and includes on next future invoice.

**3. Payment Reconciliation Trigger**
Given negative adjustment affects previously paid invoices, When reconciliation is required, Then system unallocates payments chronologically from recent to older invoices and updates balances.

**4. Segment Isolation**
Given adjustments across different classification segments, When processing negative amounts, Then each segment is calculated independently without combining positive and negative across segments.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=607685333"
]

---

#### Feature: Unallocate Payments from Reconciled Invoice Items
- **Role**: Billing Administrator
- **Action**: automatically unallocate excessive payments when premium reductions occur on already-paid invoice items
- **Value**: billing accuracy is maintained and overpayments are properly redistributed to unapplied balances without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **automatically unallocate excessive payments when premium reductions occur on already-paid invoice items**,
So that **billing accuracy is maintained and overpayments are properly redistributed to unapplied balances without manual intervention**


**Key Capabilities:**

**1. Premium Reduction Detection & Validation**
System detects member records with premium-reducing transactions and identifies corresponding negative billable adjustments. System locates positive invoice items within affected modal periods and validates absence of unreversed write-off transactions.

**2. Write-Off Reversal Management**
When write-offs exist on detected invoice items, system automatically reverses prior write-off transactions by generating offsetting entries, recalculating invoice balances, and notifying compensation subsystem.

**3. Excessive Payment Calculation**
System identifies paid or partially-paid invoice items, calculates total excessive payment amounts by comparing allocated payments against reduced premium obligations per business rules.

**4. Payment Unallocation & Redistribution**
System unallocates excessive amounts from invoice items following configured priority order, applies funds to member-level or account-level unapplied balances based on payment category.

**5. Balance Reconciliation & Status Updates**
System recalculates billing account balances, paid-to-date values, invoice payment statuses, and generates notification messages for downstream systems and audit trails.


**Acceptance Criteria:**

**1. Successful Excessive Payment Unallocation**
Given a paid invoice with premium-reducing transaction and no write-offs, when excessive payment is detected, then system unallocates overpaid amounts to member unapplied balance and recalculates all balances.

**2. Write-Off Reversal Handling**
Given invoice items with existing write-off transactions, when premium reduction triggers reconciliation, then system automatically reverses write-offs before proceeding with excessive payment calculation.

**3. No Unallocation for Non-Overpaid Invoices**
Given invoice items with premium reduction, when calculated payments do not exceed revised premium obligations, then system exits without unallocation and maintains current allocation.

**4. Customer Credit Routing**
Given excessive payment from customer credit category, when unallocation occurs, then system applies funds to billing account unapplied balance instead of member record level.

**5. Status and Notification Updates**
Given successful unallocation, when balance recalculation completes, then system updates invoice/payment statuses if changed and generates appropriate business activity messages for audit.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=609531368"
]

---

#### Feature: Calculate Invoice Balances and Outstanding Amounts
- **Role**: Billing Administrator
- **Action**: calculate and maintain invoice balances with payment reconciliation across billing periods
- **Value**: accurate financial records are maintained while ensuring invoice immutability and proper reflection of all transactions including retroactive adjustments

**Description:**

As a **Billing Administrator**,
I want to **calculate and maintain invoice balances with payment reconciliation across billing periods**,
So that **accurate financial records are maintained while ensuring invoice immutability and proper reflection of all transactions including retroactive adjustments**


**Key Capabilities:**

**1. Invoice Generation with Immutable Balance Calculation**
User is able to generate invoices with calculated balances that remain static after creation, reflecting only transactions between previous and current generation dates across all payment allocation modes.

**2. Payment Activity Reconciliation**
Upon receiving payments between invoice periods, system captures all cash movements in Payments Received field for next invoice regardless of allocation status or suspense state.

**3. Retroactive Adjustment Processing**
When retroactive changes occur after invoice generation, system processes backdated cancellations and endorsements as Adjustments in future invoices without modifying past records.

**4. Payment Mode-Specific Balance Determination**
System calculates distinct balance types (Previous Balance, Outstanding Balance, Overpayment, Current Period Amount, Adjustments, Total Due) based on configured Payment Allocation Mode.


**Acceptance Criteria:**

**1. Immutable Invoice Balance Preservation**
Given an invoice has been generated, When any retroactive changes or payments occur, Then the original invoice balances remain unchanged and only invoice status may be updated.

**2. Complete Payment Reconciliation**
Given payments are received between invoice generation dates, When the next invoice is generated, Then all cash movements including suspense payments and transfers are reflected in Payments Received field.

**3. Retroactive Change Handling**
Given retroactive endorsements or cancellations occur for already-invoiced periods, When the next invoice is generated, Then these changes appear as Adjustments without modifying historical invoices.

**4. Mode-Specific Balance Calculation**
Given a Payment Allocation Mode is configured, When invoice is generated, Then system calculates appropriate balance fields per mode specifications and Total Due using correct formula.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=615332192"
]

---

#### Feature: Configure Excessive Payment Unallocation Triggers
- **Role**: Billing Administrator
- **Action**: configure reconciliation trigger strategies for handling negative invoice adjustments and excessive payments
- **Value**: the system accurately manages overpayments arising from retroactive policy changes or member account movements

**Description:**

As a **Billing Administrator**,
I want to **configure reconciliation trigger strategies for handling negative invoice adjustments and excessive payments**,
So that **the system accurately manages overpayments arising from retroactive policy changes or member account movements**


**Key Capabilities:**

**1. Reconciliation Configuration Selection**
System enables client to select between combined trigger approach (single workflow) or separate triggers approach (split workflow) as hard-coded implementation

**2. Combined Trigger Execution**
Upon invoice generation with negative adjustments, system automatically executes sequential two-part process: excessive payment calculation and unallocation followed by invoice reconciliation

**3. Separate Trigger Execution**
When separate triggers configuration is active, retroactive policy transactions initiate payment unallocation independently, while invoice generation with negative items triggers reconciliation separately

**4. ANYB Calculation and Consumption**
System calculates Amount Not Yet Billed when negative adjustments occur, which is consumed by next generated invoice to maintain billing accuracy

**5. Payment Unallocation Processing**
System unallocates excessive payments (full or partial) from affected invoice items based on calculated negative adjustment amounts


**Acceptance Criteria:**

**1. Configuration Implementation**
Given client selects reconciliation trigger strategy, When configuration is implemented, Then system enforces chosen approach as hard-coded behavior for all subsequent reconciliation events

**2. Combined Trigger Sequential Execution**
Given combined trigger approach is configured, When invoice with negative adjustments is generated, Then system completes excessive payment unallocation before initiating invoice reconciliation

**3. Separate Trigger Independence**
Given separate triggers approach is configured, When retroactive policy transaction occurs, Then system executes payment unallocation independently without waiting for invoice generation

**4. ANYB Accuracy**
Given negative adjustment occurs from retroactive update or member movement, When ANYB is calculated, Then amount accurately reflects unbilled adjustment and is consumed by next invoice

**5. Payment Unallocation Completeness**
Given excessive payment exists on affected invoice, When unallocation process executes, Then system deallocates appropriate full or partial payment amount corresponding to negative adjustment


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=606242589"
]

---

#### Feature: Calculate Paid-to-Date for Self-Admin Billing Accounts
- **Role**: Billing Administrator
- **Action**: calculate and access paid-to-date coverage status for master policies
- **Value**: I can determine coverage duration funded by existing payments and support delinquency processing and policy management decisions

**Description:**

As a **Billing Administrator**,
I want to **calculate and access paid-to-date coverage status for master policies**,
So that **I can determine coverage duration funded by existing payments and support delinquency processing and policy management decisions**


**Key Capabilities:**

**1. PTD Calculation Initiation**
User navigates to billing account views or automated processes/external systems request PTD calculation for a master policy on self-bill accounts

**2. Strategy-Based Calculation Execution**
System applies configured strategy: By Invoice (uninterrupted sequence of paid-in-full invoices), By Daily Rate (payment coverage days using average daily rate), or Maximum (latest date from both methods)

**3. Default Handling When Data Unavailable**
Upon absence of qualifying invoices or payments, system defaults PTD to master policy effective date

**4. Delinquency Processing Integration**
When delinquency job executes, system provides PTD as cancellation effective date option for triggering notices and cancellation events

**5. External System API Integration**
External subsystems request PTD via API; system calculates using configured strategy and returns value for downstream processing


**Acceptance Criteria:**

**1. Strategy-Driven PTD Calculation**
Given a configured calculation strategy exists, When PTD calculation is triggered, Then system computes PTD using By Invoice, By Daily Rate, or Maximum strategy per configuration

**2. Default to Policy Effective Date**
Given no qualifying invoices or payments exist, When PTD calculation executes, Then system returns master policy effective date as default PTD value

**3. Invoice-Based Sequential Coverage**
Given invoices with items paid in full exist, When By Invoice strategy is applied, Then system determines PTD as last date of uninterrupted invoice sequence from policy effective date

**4. Daily Rate Coverage Calculation**
Given payments allocated to invoice items exist, When By Daily Rate strategy is applied, Then system calculates coverage days using total paid amount divided by average daily rate

**5. External System Data Provision**
Given external system requests PTD via API, When calculation completes, Then system provides PTD value to requesting subsystem for integration purposes


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=726964318"
]

---

#### Feature: Process Negative Adjustment Reconciliation Across Bill Types
- **Role**: Billing Administrator
- **Action**: reconcile negative adjustments and corresponding positive invoice items after payment unallocation
- **Value**: invoice balances and payment allocations remain accurate and invoice statuses reflect current payment positions

**Description:**

As a **Billing Administrator**,
I want to **reconcile negative adjustments and corresponding positive invoice items after payment unallocation**,
So that **invoice balances and payment allocations remain accurate and invoice statuses reflect current payment positions**


**Key Capabilities:**

**1. Balance Recalculation for Negative Adjustments**
Upon payment unallocation, system recalculates remaining due amounts for invoices and products containing negative adjustments across master policy, plan-coverage, reporting period, and classification segments.

**2. Balance Recalculation for Positive Items**
System recalculates remaining due for invoices containing corresponding positive items, processing from most recent items first.

**3. Payment Allocation Exclusion**
System excludes negative adjustments and equivalent positive item amounts from payment allocation calculations.

**4. Invoice Status Determination**
System evaluates whether invoice status recalculation is required for both positive and negative item invoices, executing updates when business rules trigger recalculation.

**5. Automatic Payment Processing**
When configured, system validates unapplied balance availability and automatically allocates payments to unpaid invoices starting from earliest invoice.


**Acceptance Criteria:**

**1. Negative Adjustment Balance Accuracy**
Given excessive payment has been unallocated from invoice with positive items, When balance recalculation executes, Then remaining due reflects negative adjustment impact across policy and classification dimensions.

**2. Positive Item Balance Accuracy**
Given corresponding positive items exist, When system recalculates balances, Then remaining due updates sequentially from most recent items with negative amounts excluded.

**3. Payment Allocation Integrity**
Given negative adjustments and matching positive amounts are identified, When payment allocation calculates, Then system prevents allocation to excluded item amounts.

**4. Conditional Status Update**
Given invoice status recalculation rules evaluate true, When system determines recalculation necessity, Then invoice status updates for both positive and negative item invoices.

**5. Automatic Payment Application**
Given automatic consumption is enabled and unapplied balance exists, When system validates configuration, Then payments allocate chronologically to unpaid invoices and movement events fire.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=688787924"
]

---

#### Feature: Reverse Write-Off on Invoice Items
- **Role**: Billing Administrator
- **Action**: reconcile overpayments and reverse write-offs when premium-reducing transactions create negative invoice adjustments
- **Value**: accurate billing balances are maintained, inappropriate write-offs are corrected, and excess payments are properly reallocated to member accounts

**Description:**

As a **Billing Administrator**,
I want to **reconcile overpayments and reverse write-offs when premium-reducing transactions create negative invoice adjustments**,
So that **accurate billing balances are maintained, inappropriate write-offs are corrected, and excess payments are properly reallocated to member accounts**


**Key Capabilities:**

**1. Premium Reduction Detection & Invoice Matching**
System detects premium-reducing transactions and identifies corresponding negative invoice adjustments, then matches them to previously billed positive invoice items within affected modal periods.

**2. Write-Off Validation & Automatic Reversal**
Upon detecting write-offs on matched invoice items, system automatically reverses them by generating opposite-sign transactions, recalculating invoice balances, and notifying compensation subsystem.

**3. Overpayment Calculation & Unallocation**
System calculates excessive payment amounts from paid/partially-paid invoice items and unallocates funds based on configured priority order and payment category.

**4. Intelligent Reallocation Routing**
When payment category is Customer Credit, funds route to BA Unapplied; otherwise system evaluates transaction type (Amendment/OOS Amendment) and configuration to allocate to Member Record Unapplied or Overpayment balance.

**5. Comprehensive Balance Recalculation**
System recalculates billing account balances, Paid-To-Date values, invoice/payment statuses, generates audit messages (BAM), and fires distribution events for downstream processing.


**Acceptance Criteria:**

**1. Write-Off Reversal Trigger**
Given write-off transactions exist on invoice items with subsequent negative adjustments, When overpayment process executes, Then system automatically reverses all unreversed write-offs and recalculates invoice balances before proceeding.

**2. Overpayment Detection & Calculation**
Given positive invoice items are paid/partially-paid and matched negative adjustments exist, When excessive payment calculation runs, Then system accurately computes overpayment amount using configured business rules.

**3. Payment Category-Based Routing**
Given unallocation amount is determined, When payment category is Customer Credit, Then funds route to BA Unapplied; When payment category is not Customer Credit, Then system routes to Member Record Unapplied unless Amendment configuration overrides.

**4. Balance & Status Synchronization**
Given unallocation completes, When balance recalculation executes, Then all billing account balances, PTD values, and invoice/payment statuses reflect updated state with corresponding BAM messages generated.

**5. Exit Conditions**
Given no paid positive invoice items exist or invoice is not overpaid, When detection step completes, Then system exits process without unallocation or balance changes.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=606252861"
]

---

#### Feature: View Invoices Covered by Payment
- **Role**: Billing Administrator
- **Action**: review invoice allocations linked to a specific payment transaction
- **Value**: I can verify payment distribution across outstanding invoices and ensure accurate reconciliation

**Description:**

As a **Billing Administrator**,
I want to **review invoice allocations linked to a specific payment transaction**,
So that **I can verify payment distribution across outstanding invoices and ensure accurate reconciliation**


**Key Capabilities:**

**1. Payment Transaction Selection**
User locates and expands a payment transaction to initiate allocation review

**2. Payment Status Validation**
System verifies payment eligibility based on status
    2.1 If status is 'Transferred', system displays empty allocations section and exits process
    2.2 If status is valid, system proceeds to display allocations

**3. Allocation Summary Display**
System presents list of invoices covered by payment with key financial attributes (invoice identifier, dates, period, amount)

**4. Invoice Detail Navigation**
Upon selecting an invoice, system opens detailed view tailored to billing account type (List Bill, Individual Direct, or Self-Bill)


**Acceptance Criteria:**

**1. Valid Payment Expansion**
Given a payment with non-Transferred status, When user expands the transaction, Then system displays allocations section with associated invoices

**2. Transferred Payment Handling**
Given a payment with Transferred status, When user expands the transaction, Then system displays empty allocations section without invoice data

**3. Invoice Navigation**
Given displayed allocation list, When user selects an invoice identifier, Then system opens appropriate detail view matching the billing account type

**4. Allocation Data Completeness**
Given invoice allocations are displayed, When user reviews the list, Then system shows invoice number, issuance date, due date, period, and allocated amount for each entry


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=467807832"
]

---

#### Feature: Manage Payment Allocation Order by Category
- **Role**: Billing Analyst
- **Action**: automatically reconcile invoice overpayments when premium-decreasing transactions generate negative adjustments
- **Value**: billing accounts maintain accurate payment allocation and prevent manual reconciliation efforts while ensuring compliance with category-based unallocation rules

**Description:**

As a **Billing Analyst**,
I want to **automatically reconcile invoice overpayments when premium-decreasing transactions generate negative adjustments**,
So that **billing accounts maintain accurate payment allocation and prevent manual reconciliation efforts while ensuring compliance with category-based unallocation rules**


**Key Capabilities:**

**1. Negative Adjustment Detection**
When premium-decreasing transaction occurs for billed member records, system identifies negative adjustment invoice items and locates corresponding positive items from prior invoices starting with most recent.

**2. Write-Off Validation and Reversal**
System validates no unreversed write-offs exist for affected parameters. If found, automatically reverses write-off transactions and recalculates balances before proceeding.

**3. Overpayment Calculation**
System determines paid/partially-paid items amounts and calculates overpayment by comparing total paid amounts against adjusted obligations.

**4. Category-Based Unallocation**
Upon detecting overpayment, system unallocates excess amounts following configured payment category priority order and transfers funds to unapplied balance.

**5. Balance and Status Reconciliation**
System recalculates billing account balances, invoice statuses, and payment statuses, generating audit events and notifications for downstream systems.


**Acceptance Criteria:**

**1. Overpayment Detection Accuracy**
Given invoice with negative adjustment from premium decrease, when system analyzes corresponding positive items from previous invoices, then overpayment amount correctly reflects difference between allocated payments and adjusted obligations.

**2. Write-Off Handling**
Given write-off transactions exist for affected parameters, when overpayment process initiates, then system automatically reverses write-offs with opposite-sign transactions before calculating overpayment.

**3. Priority-Based Unallocation**
Given overpayment identified and payment category priority configured, when unallocation executes, then funds are removed following exact category sequence and transferred to unapplied balance.

**4. No Processing for Zero Overpayment**
Given invoice items analyzed, when no overpayment exists or no paid items found, then system exits without unallocation and maintains current allocation state.

**5. Audit Trail Completeness**
Given unallocation completes, when reviewing transaction history, then business events, BAM messages, and status changes provide complete reconciliation trace for compliance verification.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=601635585"
]

---

#### Feature: Handle Negative Invoice Items Across Payment Modes
- **Role**: Billing Administrator
- **Action**: reconcile retroactive premium adjustments appearing as negative invoice items across payment modes to maintain accurate balances and payment allocations
- **Value**: payments are correctly reallocated when policy changes affect past billing periods, preventing overpayment retention and ensuring accurate account balances across List Bill, Individual Direct, and Self Bill configurations

**Description:**

As a **Billing Administrator**,
I want to **reconcile retroactive premium adjustments appearing as negative invoice items across payment modes to maintain accurate balances and payment allocations**,
So that **payments are correctly reallocated when policy changes affect past billing periods, preventing overpayment retention and ensuring accurate account balances across List Bill, Individual Direct, and Self Bill configurations**


**Key Capabilities:**

**1. Detection and Excessive Payment Calculation**
When negative invoice items appear in generated invoices, system identifies matching positive invoice items from previous invoices using billing-type-specific criteria (Member Record/Coverage/Tier/Modal Period for List Bill; Policy/Plan-Coverage/Reporting Period/Classification for Self Bill) and calculates excessive payment amount.

**2. Payment Unallocation and Rebalancing**
Upon detecting excessive payment greater than zero, system unallocates payment from positive invoice items and transfers amount to Billing Account Unapplied or Member Record Unapplied balance, generating payment distribution events and business activity messages.

**3. Cross-Invoice Reconciliation**
System executes billing-type-specific reconciliation logic to offset negative items against corresponding positive items, recalculates Remaining Due for affected invoices and products, and updates invoice payment statuses according to balance calculation rules.


**Acceptance Criteria:**

**1. Excessive Payment Handling**
Given retroactive premium reduction creates negative invoice items, When system detects matching positive items in prior invoices with allocated payments, Then system unallocates excessive payment and transfers to appropriate Unapplied balance generating required events.

**2. Zero Excessive Payment Bypass**
Given excessive payment calculation results in zero, When reconciliation process executes, Then system skips unallocation and event generation steps while continuing with invoice item reconciliation and balance recalculation.

**3. Payment Allocation Prevention**
Given negative and corresponding positive invoice items have been reconciled, When subsequent payment allocation attempts occur, Then system prohibits further allocation to these processed invoice items maintaining reconciliation integrity.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=613798682"
]

---
## Initiative: Payment Processing & Cash Application

### Epic: Payment Request & Self-Service Billing

#### Feature: Generate Payment Requests for Billing Periods
- **Role**: Billing Administrator
- **Action**: generate payment requests for billing periods with automated amount calculation
- **Value**: accurate payment collection is ensured through systematic billing cycle management

**Description:**

As a **Billing Administrator**,
I want to **generate payment requests for billing periods with automated amount calculation**,
So that **accurate payment collection is ensured through systematic billing cycle management**


**Key Capabilities:**

**1. Payment Request Initiation**
User is able to initiate payment request generation either manually or through automated system triggers for a billing account within a defined billing period.

**2. First Period Amount Calculation**
Upon generating the first open billing period, system aggregates product modal amounts across all product item combinations (class, tier, subgroup) within coverages of master policies for included reporting periods.

**3. Subsequent Period Amount Calculation**
When processing subsequent billing periods, system derives period amount from the previous billing period's premium amount as of generation time.

**4. Payment Request Finalization**
System records generation timestamp, calculates payment due date, and associates request with billing account and master policy identifiers for tracking and reconciliation.


**Acceptance Criteria:**

**1. Billing Period Payment Request Generation**
Given a billing account with active master policies, When payment request generation is triggered, Then system creates request with unique identifier, billing period dates, and generation source tracking.

**2. Initial Period Calculation Accuracy**
Given first open billing period, When calculating period amount, Then system sums product modal amounts across all product item combinations for all master policies and reporting periods.

**3. Renewal Period Calculation**
Given subsequent billing period, When calculating period amount, Then system retrieves premium amount from previous billing period as of current generation time.

**4. Payment Due Date Assignment**
Given completed period amount calculation, When finalizing payment request, Then system assigns payment due date and associates all relevant billing account and master policy references.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=796006257"
]

---

#### Feature: Regenerate Payment Requests for Master Policy Rewrites
- **Role**: Billing Administrator
- **Action**: regenerate payment requests when master policies are rewritten
- **Value**: billing continuity is maintained with accurate premium calculations and proper request lifecycle management

**Description:**

As a **Billing Administrator**,
I want to **regenerate payment requests when master policies are rewritten**,
So that **billing continuity is maintained with accurate premium calculations and proper request lifecycle management**


**Key Capabilities:**

**1. Payment Request Regeneration Initiation**
User is able to trigger payment request regeneration either manually or through automated system events when master policy rewrites occur within a billing account.

**2. Automated Request Replacement**
System creates new payment request while simultaneously discarding existing automated payment request, maintaining comprehensive audit trail of both transactions.

**3. Dynamic Premium Calculation**
Upon regeneration, system calculates period amount based on billing period type:
    3.1 First open period: aggregates product modal amounts across all policy items, coverages, and reporting periods
    3.2 Subsequent periods: applies premium amount from previous billing period

**4. Request Lifecycle Management**
System records generation source, billing period boundaries, payment due dates, and associated policy references for both new and discarded requests.


**Acceptance Criteria:**

**1. Successful Manual Regeneration**
Given billing administrator initiates manual regeneration for rewritten master policy, When system processes request, Then new payment request is created with manual generation source and existing automated request is discarded.

**2. Automated Regeneration Execution**
Given master policy rewrite triggers automated regeneration, When system executes process, Then new automated payment request replaces prior automated request with complete transaction metadata.

**3. First Period Premium Calculation**
Given regeneration occurs during first open billing period, When system calculates period amount, Then premium equals sum of all product modal amounts across policy coverages and reporting periods.

**4. Subsequent Period Premium Calculation**
Given regeneration occurs in subsequent billing periods, When system determines period amount, Then premium matches previous billing period amount at generation time.

**5. Audit Trail Completeness**
Given payment request regeneration completes, When reviewing transaction records, Then system captures full details for both newly generated and discarded requests including timestamps and generation sources.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=799346210"
]

---

#### Feature: Discard Payment Requests for Policy Changes
- **Role**: Billing Administrator
- **Action**: discard obsolete payment requests when policy changes occur
- **Value**: billing accuracy is maintained and customers are not charged for invalidated billing periods

**Description:**

As a **Billing Administrator**,
I want to **discard obsolete payment requests when policy changes occur**,
So that **billing accuracy is maintained and customers are not charged for invalidated billing periods**


**Key Capabilities:**

**1. Policy Change Detection**
System monitors policy transactions that impact active billing periods and identifies affected payment requests requiring discard action.

**2. Payment Request Invalidation**
Upon detecting invalidating policy changes, system automatically discards associated payment requests and captures comprehensive metadata including billing account references, period parameters, payment amounts, and product associations.

**3. Audit Trail Creation**
System records discard event with timestamp, generation source marker, and complete payment request details for compliance and reconciliation purposes.


**Acceptance Criteria:**

**1. Automated Discard Trigger**
Given a policy change invalidates an active billing period, When the system processes the policy transaction, Then the associated payment request is automatically discarded without manual intervention.

**2. Complete Event Capture**
Given a payment request discard occurs, When the discard event is recorded, Then all mandatory data elements (payment request identification, billing account reference, period dates, amounts, occurrence timestamp) are captured and marked with automated generation source.

**3. Billing Integrity Preservation**
Given a discarded payment request, When customers access their billing account, Then the obsolete payment request does not appear in outstanding balances or payment due calculations.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=799345973"
]

---

#### Feature: Track Payment Request Lifecycle Events
- **Role**: Billing Administrator
- **Action**: monitor payment request generation and lifecycle transitions across billing accounts
- **Value**: I can ensure accurate premium calculations, timely payment processing, and complete audit visibility across all billing periods

**Description:**

As a **Billing Administrator**,
I want to **monitor payment request generation and lifecycle transitions across billing accounts**,
So that **I can ensure accurate premium calculations, timely payment processing, and complete audit visibility across all billing periods**


**Key Capabilities:**

**1. Payment Request Initiation**
System generates payment request for billing account, capturing identification, temporal metadata, and generation source (manual/automated). Request is linked to billing account and associated master policies.

**2. Premium Amount Calculation**
Upon first open period, system calculates amount by aggregating product modal amounts across all coverages and reporting periods.
    2.1 For subsequent periods, system retrieves premium amount from previous billing period as of generation time

**3. Lifecycle Event Tracking**
System records temporal milestones including generation date, billing period boundaries, payment due date, and occurrence timestamps for downstream reconciliation and audit purposes.


**Acceptance Criteria:**

**1. Payment Request Generation Success**
Given a billing account with active master policies, when payment request is generated, then system creates request with unique identifier, links to account, and captures all associated products.

**2. First Period Calculation**
Given first open billing period, when premium calculation executes, then system aggregates modal amounts across all product items and coverages.

**3. Subsequent Period Calculation**
Given an existing billing history, when generating new payment request, then system retrieves previous period premium amount as baseline.

**4. Event Metadata Completeness**
Given payment request generation, when event is recorded, then system captures generation source, temporal boundaries, due date, and invoicing root identifier for traceability.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=796006257"
]

---

### Epic: Recurring Payments & Auto-Debits

#### Feature: Authorize Recurring Payment Methods on Billing Accounts
- **Role**: Billing Administrator
- **Action**: authorize and configure recurring payment methods for automated payment processing
- **Value**: billing accounts can generate automatic payments against outstanding invoices without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **authorize and configure recurring payment methods for automated payment processing**,
So that **billing accounts can generate automatic payments against outstanding invoices without manual intervention**


**Key Capabilities:**

**1. Recurring Payment Authorization Setup**
Billing Administrator enables recurring payment processing on billing accounts by authorizing specific payment methods and defining payor information.

**2. Payment Method Eligibility Validation**
System verifies payment method is active, not expired, and billing account has no active holds blocking recurring payments before processing.

**3. Automated Payment Generation Scheduling**
System executes scheduled jobs to identify eligible billing accounts, retrieve outstanding invoices, and calculate payment amounts based on due dates and configured offsets.

**4. Payment Creation and Allocation**
System generates recurring payments with pre-authorized attributes, allocates amounts to invoices per configured strategy, and publishes payment events for downstream processing.


**Acceptance Criteria:**

**1. Successful Payment Method Authorization**
Given a billing account with valid payment method, When administrator authorizes recurring payments, Then system enables automated processing and validates waiting period requirements.

**2. Payment Generation Job Execution**
Given authorized billing accounts with outstanding invoices, When scheduled job runs, Then system generates payments only for accounts meeting eligibility criteria and calculated payment dates.

**3. Expired Payment Method Handling**
Given a billing account with expired payment method, When recurring payment job executes, Then system skips that account, fires expiration event, and continues processing remaining accounts.

**4. Hold Prevention Logic**
Given a billing account with active recurring payment hold, When generation job runs, Then system bypasses account and publishes hold notification message.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=579237058"
]

---

#### Feature: Generate Automated Recurring Payments Based on Customer Schedules
- **Role**: Billing Administrator
- **Action**: generate automated recurring payments based on customer billing schedules and authorized payment methods
- **Value**: customers receive timely, consistent payment processing without manual intervention, reducing payment delays and administrative overhead

**Description:**

As a **Billing Administrator**,
I want to **generate automated recurring payments based on customer billing schedules and authorized payment methods**,
So that **customers receive timely, consistent payment processing without manual intervention, reducing payment delays and administrative overhead**


**Key Capabilities:**

**1. Job Initiation & Account Selection**
System launches recurring payment job via scheduler or manual trigger, selecting billing accounts authorized for recurring processing with active payment methods and no payment holds

**2. Eligibility & Configuration Validation**
System verifies waiting period compliance, validates payment method status, and retrieves billing calendar, customer identity, and billing type dimension data from configuration

**3. Invoice Identification & Payment Calculation**
System identifies issued or partially paid invoices excluding future-dated items, calculates payment dates using due date offsets, and determines payment amounts exceeding zero
    3.1 When payment amount is zero or negative, system skips account processing
    3.2 When payment holds exist, system generates alerts and bypasses account

**4. Payment Generation & Allocation**
System creates pre-authorized recurring payment transactions with allocated status, applies configurable allocation strategies to selected invoices, and triggers payment hub processing flow

**5. Exception Management**
Upon expired payment methods or missing invoices, system fires business events, generates alerts, and continues processing remaining accounts or terminates job appropriately


**Acceptance Criteria:**

**1. Successful Multi-Account Processing**
Given multiple eligible billing accounts, When job executes, Then system generates allocated recurring payments for all qualifying accounts with appropriate transaction attributes and invoice allocations

**2. Payment Hold Enforcement**
Given billing account has active recurring payment hold, When job processes account, Then system skips payment generation, produces hold alert message, and continues with remaining accounts

**3. Expired Payment Method Handling**
Given payment method has expired, When job validates account eligibility, Then system fires expired payment event, bypasses account, and prevents payment generation

**4. Waiting Period Compliance**
Given current date precedes setup date plus waiting period, When job evaluates account, Then system excludes account from processing cycle without generating payments

**5. Invoice Eligibility Filtering**
Given no issued or partially paid invoices exist, When job searches for payable invoices, Then system skips account and continues processing or terminates if single account

**6. Zero Amount Prevention**
Given calculated payment amount is zero or negative, When job computes recurring amount, Then system prevents payment creation and proceeds to next eligible account


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=579237058"
]

---

#### Feature: Calculate Recurring Payment Dates with Configurable Waiting Periods
- **Role**: Billing Administrator
- **Action**: configure and enforce waiting periods between authorization and first automated withdrawal for recurring payments
- **Value**: I ensure compliant, predictable payment processing that accommodates different customer segments and regulatory requirements

**Description:**

As a **Billing Administrator**,
I want to **configure and enforce waiting periods between authorization and first automated withdrawal for recurring payments**,
So that **I ensure compliant, predictable payment processing that accommodates different customer segments and regulatory requirements**


**Key Capabilities:**

**1. Authorization Registration**
System persists billing account authorization date upon recurring payment enrollment, establishing the baseline for eligibility calculations.

**2. Waiting Period Configuration**
User is able to define waiting periods per bill type and payment method in configurable business rules, supporting differentiated customer treatment.

**3. Eligibility Calculation**
System computes eligible processing date by adding configured waiting period to authorization date, then compares against current system date.

**4. Processing Determination**
When current date equals or exceeds eligible processing date, system permits recurring payment generation; otherwise, billing account is skipped until eligibility achieved.


**Acceptance Criteria:**

**1. Zero-Day Waiting Period**
Given waiting period configured as 0 days, When current system date exceeds authorization date, Then billing account proceeds to recurring payment generation.

**2. Standard Waiting Period Enforcement**
Given 14-day waiting period for individual customers, When current system date is within 14 days of authorization, Then system skips billing account from automated processing.

**3. Eligibility Threshold**
Given authorization date plus waiting period equals current system date, When system evaluates eligibility, Then billing account qualifies for recurring payment generation.

**4. Multi-Segment Configuration**
Given different waiting periods per bill type and payment method, When system processes billing accounts, Then appropriate waiting period applies based on account attributes.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=648795113"
]

---

#### Feature: Validate Payment Method Expiration for Recurring Payments
- **Role**: Billing Administrator
- **Action**: validate payment method expiration status before processing recurring payments
- **Value**: prevent payment failures and maintain uninterrupted service for customers with active recurring payment arrangements

**Description:**

As a **Billing Administrator**,
I want to **validate payment method expiration status before processing recurring payments**,
So that **prevent payment failures and maintain uninterrupted service for customers with active recurring payment arrangements**


**Key Capabilities:**

**1. Payment Method Status Assessment**
System evaluates active payment methods against expiration dates for all recurring payment schedules

**2. Expiration Risk Identification**
When payment method approaches or exceeds expiration date, system flags the record for validation

**3. Payment Processing Determination**
System applies business rules to determine if expired or expiring payment method remains eligible for transaction processing

**4. Preventive Action Trigger**
Upon detecting invalid payment method status, system initiates workflow to update payment information or suspend recurring charges


**Acceptance Criteria:**

**1. Valid Payment Method Processing**
Given an active recurring payment with current payment method, When expiration validation executes, Then system approves payment method for scheduled transaction

**2. Expired Method Prevention**
Given a payment method past expiration date, When validation occurs, Then system blocks automatic debit and triggers update notification

**3. Expiration Threshold Detection**
Given payment method expiring within defined grace period, When validation runs, Then system flags account for proactive intervention while allowing current transaction


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=628370732"
]

---

#### Feature: Apply Payment Allocation with Configurable Priority Rules
- **Role**: Billing Administrator
- **Action**: generate and allocate recurring payments automatically based on configurable rules
- **Value**: I ensure timely collection of outstanding balances while reducing manual intervention and payment processing errors

**Description:**

As a Billing Administrator,
I want to generate and allocate recurring payments automatically based on configurable rules,
So that I ensure timely collection of outstanding balances while reducing manual intervention and payment processing errors


**Key Capabilities:**

**1. Job-Based Payment Generation Initiation**
System launches recurring payment job via scheduler or manual trigger to process authorized billing accounts

**2. Eligibility Validation and Account Selection**
System identifies billing accounts enabled for recurring processing, validates active payment methods, verifies absence of blocking holds, and confirms waiting period requirements are met
    2.1 Upon encountering expired payment methods, system fires notification events and skips account processing
    2.2 When billing account holds are detected, system generates alert messages and excludes account from processing

**3. Invoice Identification and Payment Calculation**
System retrieves issued or partially paid invoices, calculates payment dates using configured offset rules, and determines recurring payment amounts based on outstanding balances

**4. Payment Creation and Allocation Execution**
System generates recurring payment records with bank processing flags, publishes billing events, triggers payment hub integration, and allocates amounts to invoices according to configurable priority strategies


**Acceptance Criteria:**

**1. Successful Multi-Account Processing**
Given multiple billing accounts are configured for recurring payments, When the job executes and all eligibility criteria are satisfied, Then system generates allocated payments for each qualifying account and publishes confirmation messages

**2. Account Hold Prevention**
Given a billing account has an active recurring payment hold, When the job processes that account, Then system skips the account, generates hold alert message, and continues processing remaining accounts

**3. Expired Payment Method Handling**
Given a payment method has expired, When the job validates the account, Then system fires expired payment method event and excludes account from payment generation

**4. Waiting Period Enforcement**
Given current date is before the waiting period threshold, When the job evaluates the account, Then system bypasses the account for current cycle without generating payments

**5. Zero-Balance Prevention**
Given calculated recurring payment amount is zero or negative, When the system validates payment amount, Then system skips payment creation and continues with next eligible account


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=579237058"
]

---

#### Feature: Auto-Consume Unapplied Balance During Recurring Payment Processing
- **Role**: Billing Administrator
- **Action**: automatically apply unapplied account balances to eligible recurring payment invoices
- **Value**: outstanding balances are efficiently utilized to reduce manual payment processing and accelerate invoice settlement

**Description:**

As a **Billing Administrator**,
I want to **automatically apply unapplied account balances to eligible recurring payment invoices**,
So that **outstanding balances are efficiently utilized to reduce manual payment processing and accelerate invoice settlement**


**Key Capabilities:**

**1. Trigger Evaluation & Configuration Validation**
Upon recurring payment job execution, system evaluates whether unapplied autoconsumption is enabled for the billing account type and identifies invoices eligible for payment generation.

**2. Unapplied Balance Calculation & Availability Check**
System calculates net available unapplied balance by excluding amounts designated for pending refunds. Process terminates if balance equals zero; proceeds if greater than zero.

**3. Strategic Balance Allocation to Invoices**
System allocates available balance to eligible invoices using account-type-specific distribution rules (True Group/Self-Bill use group distribution logic; Individual Direct uses automatic allocation rules). Allocation disregards standard parameter restrictions (gaps, mismatches, partial coverage, priority rules) to maximize consumption.

**4. Consumption Order Determination**
System applies payment category priority configuration, consuming highest-priority transactions first before progressing to lower-priority categories sequentially.


**Acceptance Criteria:**

**1. Configuration-Based Process Activation**
Given unapplied autoconsumption is enabled for the billing account type, When the recurring payment job identifies eligible invoices, Then the system initiates balance calculation and allocation workflow.

**2. Zero Balance Termination**
Given unapplied balance calculation completes, When the net available balance equals zero, Then the system immediately stops processing without performing allocation.

**3. Refund-Adjusted Balance Calculation**
Given pending refunds exist on the billing account, When calculating available balance, Then the system excludes amounts with 'Refund Pending' status from allocation eligibility.

**4. Account-Type-Specific Allocation**
Given available balance exceeds zero, When allocating to True Group or Self-Bill accounts, Then the system applies group distribution rules; When allocating to Individual Direct accounts, Then the system applies individual automatic allocation rules.

**5. Priority-Based Sequential Consumption**
Given multiple payment category priorities are configured, When consuming unapplied balance, Then the system exhausts all highest-priority transactions before processing lower-priority categories.

**6. Standard Parameter Override Behavior**
Given autoconsumption is enabled, When standard allocation parameters restrict processing, Then the system overrides restrictions to allocate from earliest unpaid invoice, allow partial coverage, and prioritize prior period corrections.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=636887098"
]

---

#### Feature: Process Recurring Payment Requests with Multiple Payment Methods
- **Role**: Billing Administrator
- **Action**: configure and execute recurring payment schedules using multiple payment methods
- **Value**: customers can maintain uninterrupted service through automated billing cycles with flexible payment options

**Description:**

As a **Billing Administrator**,
I want to **configure and execute recurring payment schedules using multiple payment methods**,
So that **customers can maintain uninterrupted service through automated billing cycles with flexible payment options**


**Key Capabilities:**

**1. Payment Schedule Configuration**
User is able to establish recurring billing schedules with defined frequency, amount, and duration parameters for automated execution.

**2. Multi-Method Payment Assignment**
User is able to assign and prioritize multiple payment methods (primary and fallback options) to handle payment processing hierarchy.

**3. Automated Payment Execution**
System processes scheduled payments automatically using the designated payment method hierarchy.
    3.1 Upon primary method failure, system attempts payment using fallback methods in priority order

**4. Payment Processing Validation**
System validates payment method availability, customer eligibility, and sufficient funds before execution.

**5. Transaction Recording & Reconciliation**
System captures payment results, applies cash allocation, and updates account balances with complete audit trails.


**Acceptance Criteria:**

**1. Schedule Initialization**
Given valid recurring parameters are provided, When the billing schedule is activated, Then the system creates automated payment triggers at specified intervals.

**2. Multi-Method Fallback Processing**
Given primary payment method fails, When system detects the failure, Then alternative payment methods are attempted in configured priority sequence.

**3. Successful Payment Application**
Given payment processes successfully, When transaction completes, Then system applies funds to outstanding balances and generates confirmation records.

**4. Incomplete Configuration Prevention**
Given required payment method information is missing, When user attempts schedule activation, Then system prevents execution until all mandatory payment data is provided.

**5. Payment Failure Notification**
Given all payment methods fail, When final attempt is unsuccessful, Then system records failure status and triggers appropriate exception handling workflows.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=796006159"
]

---

#### Feature: Manage Payment Creation and Allocation Across Billing Accounts
- **Role**: Billing Administrator
- **Action**: accept and process customer payments with automated validation and allocation
- **Value**: payments are accurately captured, validated, and posted to the correct accounts while ensuring compliance with business rules

**Description:**

As a **Billing Administrator**,
I want to **accept and process customer payments with automated validation and allocation**,
So that **payments are accurately captured, validated, and posted to the correct accounts while ensuring compliance with business rules**


**Key Capabilities:**

**Payment Initialization**
User is able to initiate a new payment transaction with system-generated defaults for currency and effective date.

**Payment Submission and Validation**
User submits payment details including amount, method, and customer information. System validates business rules: positive amounts with maximum two decimal places, valid currency codes, and payment method correspondence.

**Payment Method Verification**
System verifies payment details match registered customer payment methods and validates method type alignment.

**Payment Acceptance and Status Management**
Upon successful validation, system accepts payment and assigns appropriate lifecycle status (CLEARED for cash, ISSUED for checks). Credit card payments trigger external payment management integration.

**Financial Posting**
System executes ledger posting for payment creation transaction and returns confirmation with system-generated payment number.


**Acceptance Criteria:**

**Payment Initialization Success**
Given no active payment session, When user requests payment initialization, Then system creates payment entity with USD currency and current date as defaults.

**Amount Validation**
Given payment submission, When amount is negative, zero, or exceeds two decimal places, Then system prevents acceptance and returns validation error.

**Payment Method Matching**
Given payment details provided, When payment method does not match customer's registered methods or method type is inconsistent, Then system rejects submission.

**Currency Validation**
Given payment data submitted, When currency code is invalid, Then system prevents processing and returns error.

**Status Assignment by Type**
Given successful payment acceptance, When payment type is cash, Then status is CLEARED; When type is check, Then status is ISSUED.

**Ledger Integration**
Given payment accepted, When processing completes, Then system posts to ledger and returns payment number confirmation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=243506577"
]

---

#### Feature: Track Payment Activity with Business Activity Monitoring
- **Role**: Billing Administrator
- **Action**: monitor and analyze recurring payment and auto-debit transaction activities in real-time
- **Value**: I can proactively identify payment anomalies, ensure processing compliance, and optimize cash application workflows

**Description:**

As a **Billing Administrator**,
I want to **monitor and analyze recurring payment and auto-debit transaction activities in real-time**,
So that **I can proactively identify payment anomalies, ensure processing compliance, and optimize cash application workflows**


**Key Capabilities:**

**Activity Stream Initialization**
User is able to establish monitoring connections to recurring payment and auto-debit transaction systems

**Real-Time Transaction Monitoring**
Upon payment execution, system captures transaction events including status, amount, and timing across all automated payment channels

**Exception Detection & Alerting**
When anomalies occur (failures, delays, threshold breaches), system generates prioritized alerts for administrator review

**Performance Analytics**
User is able to analyze payment success rates, processing times, and cash application efficiency metrics

**Audit Trail Maintenance**
System maintains comprehensive activity logs for regulatory compliance and dispute resolution


**Acceptance Criteria:**

**Monitoring Activation**
Given administrator configures monitoring parameters, When system connects to payment sources, Then real-time activity tracking is established

**Transaction Visibility**
Given payments are processing, When transactions execute, Then system displays current status and key metrics within defined latency thresholds

**Exception Handling**
Given monitoring thresholds are defined, When payment anomalies occur, Then system generates alerts with relevant context for investigation

**Historical Analysis**
Given activity data is captured, When administrator requests analytics, Then system provides trend analysis and performance insights

**Audit Compliance**
Given regulatory requirements, When audit trail is accessed, Then comprehensive activity history is available with timestamp integrity


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=527538398"
]

---

#### Feature: Control Payment Application Access with User Privileges
- **Role**: Billing Administrator
- **Action**: configure role-based access controls for payment application operations
- **Value**: payment processing activities are restricted to authorized personnel, ensuring financial security and operational compliance

**Description:**

As a **Billing Administrator**,
I want to **configure role-based access controls for payment application operations**,
So that **payment processing activities are restricted to authorized personnel, ensuring financial security and operational compliance**


**Key Capabilities:**

**Access Control Configuration**
Administrator defines user roles and assigns specific privileges for payment application operations across billing account types (IPA, True Group, Individual Direct, Self-Bill)

**Privilege Enforcement**
System validates user credentials and enforces access restrictions when users attempt payment allocation, manual application, or automated processing actions

**Multi-Workflow Protection**
Access controls span all payment operations including unapplied payment addition, invoice allocation, member record application, and file-based processing

**Audit Trail Generation**
System logs all access attempts and privilege validations for compliance reporting and security monitoring


**Acceptance Criteria:**

**Authorized Access Grant**
Given a user with assigned payment application privileges, When the user initiates a payment allocation workflow, Then the system permits access and enables authorized operations

**Unauthorized Access Prevention**
Given a user without required privileges, When attempting to access payment application functions, Then the system denies access and records the attempt

**Cross-Workflow Consistency**
Given privilege configurations are established, When users access different payment workflows (automatic, manual, file-based), Then the system consistently enforces the same access controls

**Audit Compliance**
Given payment operations occur, When administrators review security logs, Then all access validations and privilege checks are recorded with user identification


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=561844119"
]

---

#### Feature: Export Payment Details for External Processing
- **Role**: Billing Administrator
- **Action**: export payment transaction details to external systems for reconciliation and processing
- **Value**: payment data can be integrated with downstream financial systems and third-party processors for accurate reconciliation

**Description:**

As a **Billing Administrator**,
I want to **export payment transaction details to external systems for reconciliation and processing**,
So that **payment data can be integrated with downstream financial systems and third-party processors for accurate reconciliation**


**Key Capabilities:**

**1. Payment Data Selection**
User is able to specify criteria for payment transactions to be exported, including transaction date ranges and payment types.

**2. Export Format Configuration**
User is able to configure export file format and data structure to meet external system requirements.

**3. Export Execution**
System generates export file containing payment transaction details based on selected criteria.

**4. Export Validation**
System validates data completeness and format compliance before finalizing export package.

**5. Export Delivery**
User is able to retrieve generated export file for transmission to external processing systems.


**Acceptance Criteria:**

**1. Successful Export Generation**
Given valid payment transactions exist, When user initiates export with defined criteria, Then system generates complete export file with all specified payment details.

**2. Data Integrity Validation**
Given export file is generated, When system validates content, Then all payment records match source transaction data without discrepancies.

**3. Format Compliance**
Given external system requirements are configured, When export is produced, Then file format adheres to specified structure and schema.

**4. Incomplete Data Handling**
Given selection criteria yields no results, When user attempts export, Then system prevents generation and notifies user of empty dataset.

**5. Export Retrieval**
Given export file is successfully created, When user accesses export package, Then file is available for download and transmission.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=699244545"
]

---

#### Feature: Preset Payment Allocation from E-Folder Documents
- **Role**: Billing Administrator
- **Action**: allocate remittance file payments from stored E-Folder documents to member account invoices
- **Value**: I can efficiently process bulk payments using previously uploaded remittance files without re-uploading, ensuring accurate distribution to member accounts based on business rules

**Description:**

As a **Billing Administrator**,
I want to **allocate remittance file payments from stored E-Folder documents to member account invoices**,
So that **I can efficiently process bulk payments using previously uploaded remittance files without re-uploading, ensuring accurate distribution to member accounts based on business rules**


**Key Capabilities:**

**1. E-Folder Document Retrieval**
User accesses billing account's E-Folder payment documents subfolder. System presents available remittance files with metadata (name, size, last modified timestamp, parent account).

**2. File Selection & Allocation Strategy Configuration**
User selects single remittance file from inventory. System enables allocation initiation and presents allocation strategy toggle (earliest outstanding invoice versus specific invoice targeting).

**3. File Validation & Structure Verification**
Upon allocation initiation, system validates CSV/XLSX format, confirms presence of required allocation data columns (member identifier, payment amount), and verifies structural integrity.

**4. Payment Distribution Execution**
When validation succeeds, system applies payments to member records following configured strategystandard distribution rules for earliest invoice allocation or targeted distribution for specific invoice allocation.


**Acceptance Criteria:**

**1. Document Retrieval Success**
Given billing account has remittance files in E-Folder, when user initiates preset allocation, then system displays all files from Payments subfolder with complete metadata.

**2. Selection & Configuration Controls**
Given file list is displayed, when user selects file, then allocation button activates and strategy toggle becomes available with default setting (earliest invoice allocation enabled).

**3. Validation Enforcement**
Given user initiates allocation with invalid file structure or missing required columns, when system validates file, then system prevents processing and presents specific error guidance without data corruption.

**4. Allocation Strategy Execution**
Given validated remittance file and selected strategy, when user confirms allocation, then system distributes payments per configured business rules and updates member account balances accordingly.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=691641245"
]

---

### Epic: Payment Hub & Gateway Integration

#### Feature: Route Inbound Payments from Payment Hub to Billing Accounts
- **Role**: Billing Administrator
- **Action**: route and process third-party payments through the Payment Hub to billing accounts
- **Value**: payments are validated, allocated correctly, and exceptions are managed systematically

**Description:**

As a **Billing Administrator**,
I want to **route and process third-party payments through the Payment Hub to billing accounts**,
So that **payments are validated, allocated correctly, and exceptions are managed systematically**


**Key Capabilities:**

**1. Payment Receipt & Routing**
Payment Hub receives inbound payments from third-party systems and applies routing rules to direct payments to billing subsystem or other application subsystems

**2. Validation Processing**
Upon routing to billing, system validates payment against defined business rules including billing account existence and data integrity requirements

**3. Acceptance & Allocation**
When validation succeeds, system accepts payment and allocates funds to single or multiple billing accounts based on bill type configuration and payment allocation mode

**4. Exception Management**
If validation fails, system rejects payment, communicates rejection reason to Payment Hub, and suspends payment in General Suspense with documented failure cause


**Acceptance Criteria:**

**1. Successful Payment Routing**
Given a valid third-party payment arrives at Payment Hub, When routing rules identify billing as destination, Then payment is transmitted to billing subsystem for processing

**2. Validation Execution**
Given payment routed to billing, When validation rules execute, Then system confirms billing account existence and data completeness before acceptance

**3. Successful Allocation**
Given payment passes validation, When billing accepts payment, Then funds are allocated according to configured bill type and allocation mode settings

**4. Rejection Handling**
Given payment fails validation, When billing rejects payment, Then system suspends payment in General Suspense with documented rejection reason from billing subsystem


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=573314082"
]

---

#### Feature: Allocate Payments Using Remittance Files
- **Role**: Billing Specialist
- **Action**: allocate payments to member accounts by uploading and processing remittance distribution files
- **Value**: payment application is automated based on payer instructions, reducing manual effort and allocation errors while accelerating cash application cycles

**Description:**

As a **Billing Specialist**,
I want to **allocate payments to member accounts by uploading and processing remittance distribution files**,
So that **payment application is automated based on payer instructions, reducing manual effort and allocation errors while accelerating cash application cycles**


**Key Capabilities:**

**1. Remittance File Submission**
User initiates file-based allocation for new or existing payments, selects distribution file from local system or document repository, and confirms allocation request. System queues allocation activity and applies processing status.

**2. File Validation & Structure Analysis**
System validates file format (CSV comma-separated or XLSX), inspects column structure and data completeness, and verifies total file amount does not exceed available payment balance.
    2.1 Upon validation failure, system saves draft allocation with error details, triggers validation failure event for task registration, and enables correction workflow.

**3. Automated Distribution Execution**
System distributes payment amounts to member records per file instructions, calculates actually distributed totals, and saves draft allocation with incomplete status for final review and confirmation.


**Acceptance Criteria:**

**1. File Format Compliance**
Given a remittance file is submitted, When the file format is neither CSV (comma-separated) nor XLSX, Then system rejects allocation, saves draft with format error, and triggers validation failure event for remediation.

**2. Data Completeness Validation**
Given file structure is valid, When required allocation columns are missing or contain invalid data, Then system fails distribution, preserves draft with validation errors, and enables user correction via allocation interface.

**3. Amount Threshold Enforcement**
Given file validation passes, When total file allocation amount exceeds available payment balance, Then system prevents distribution, records threshold violation, and notifies user of excess amount for file correction.

**4. Successful Draft Allocation Creation**
Given file validation succeeds and amounts are within limits, When distribution completes, Then system saves draft allocation with incomplete status, removes processing indicator, and enables final confirmation workflow.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=747867606"
]

---

#### Feature: Allocate Payments Based on Premium Sequence Priority
- **Role**: Billing Administrator
- **Action**: allocate remittance payments across member records using priority-based sequencing and proportional distribution rules
- **Value**: ensure accurate payment application aligned with business policy, prevent cross-member fund misallocation, and handle overpayments systematically

**Description:**

As a **Billing Administrator**,
I want to **allocate remittance payments across member records using priority-based sequencing and proportional distribution rules**,
So that **ensure accurate payment application aligned with business policy, prevent cross-member fund misallocation, and handle overpayments systematically**


**Key Capabilities:**

**1. Payment Intake & Member Grouping**
System groups unpaid invoice items by SSN/Employee ID from remittance file, preventing cross-member fund allocation.

**2. Invoice Prioritization**
System prioritizes oldest unpaid invoice first (Priority 1), ensuring chronological payment application.

**3. Premium Sequence Priority Application**
System allocates funds within each invoice by premium sequence effective date (earliest first), then by invoicing period priority from configuration.

**4. Equal Priority & Partial Payment Handling**
When items share effective dates or payment is insufficient, system applies proportional distribution based on remaining due using coefficient formula (fileAmount / totalRemainingDue).

**5. Modal Period Sequencing**
For multiple modal periods within single invoicing period, system covers oldest modal period first with proportional allocation if incomplete.

**6. Overpayment Distribution**
When all invoices are covered, system allocates surplus proportionally based on annual premium amounts across member records.


**Acceptance Criteria:**

**1. SSN/Employee ID Isolation**
Given multiple member records on billing account, When remittance file contains payment for specific SSN/Employee ID, Then system allocates funds only to matching member records without cross-contamination.

**2. Invoice Chronology Enforcement**
Given multiple unpaid invoices, When payment amount is sufficient, Then system fully covers oldest invoice before moving to subsequent invoices.

**3. Premium Sequence Priority Execution**
Given invoice items with different premium sequence effective dates, When payment is distributed, Then system allocates to earliest effective date first.

**4. Proportional Distribution Accuracy**
Given items with equal priority or partial payment scenario, When allocation occurs, Then system calculates proportional amounts using coefficient formula with HALF_UP rounding to 8 digits.

**5. Overpayment Handling**
Given all invoices fully paid with surplus remaining, When overpayment is processed, Then system distributes proportionally based on annual premium amounts across member records.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=779984004"
]

---

#### Feature: Route Outbound Refund Requests to Payment Hub
- **Role**: Billing Operations
- **Action**: route validated refund transactions to Payment Hub for payment processing
- **Value**: refunds are executed accurately through appropriate payment channels with full traceability

**Description:**

As a Billing Operations,
I want to route validated refund transactions to Payment Hub for payment processing,
So that refunds are executed accurately through appropriate payment channels with full traceability


**Key Capabilities:**

**1. Refund Transaction Preparation**
Capture refund details with payee recipient, amount, currency, transaction date, payment method type, and reason codes. Validate payment method eligibility including expiration dates for cards and effective date ranges for EFT accounts.

**2. Payment Hub Transmission**
Transmit prepared refund to Payment Hub with mapped attributes and domain correlation identifier. Assign payment reference number for unique transaction tracking.
    2.1 Upon DRAFT status, defer payment reference assignment until submission
    2.2 When payment method is Check, include mailing address details and optional check number

**3. Multi-Channel Payment Method Handling**
Route refund based on payment method type. Support Check (with mailing address), Credit Card (with tokenized credentials and billing address), or EFT (with tokenized bank account details and routing number).

**4. Transaction Lifecycle Tracking**
Monitor payment status through correlation identifiers linking billing and Payment Hub records. Capture decline, cancellation, or failure reasons when applicable.


**Acceptance Criteria:**

**1. Successful Refund Routing**
Given a validated refund transaction with complete payment method details, When routed to Payment Hub with correlation identifier, Then Payment Hub assigns payment reference number and processes through appropriate channel.

**2. Expired Payment Method Prevention**
Given a refund request with expired credit card or EFT account outside valid date range, When eligibility validation executes, Then system prevents refund creation and requires alternative payment method.

**3. Payment Method Channel Selection**
Given refund with specified payment method type (Check/Card/EFT), When transmitted to Payment Hub, Then system routes with corresponding method-specific attributes (mailing address for Check, tokenized credentials for Card/EFT).

**4. Transaction Correlation Maintenance**
Given refund routed to Payment Hub, When status changes occur in either system, Then correlation identifiers enable bilateral status synchronization and audit trail.

**5. Decline Reason Capture**
Given Payment Hub rejects refund transaction, When decline event occurs, Then system captures reason code and prevents duplicate submission until issue resolution.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=636889487"
]

---

#### Feature: Process Payment Status Updates from Payment Hub
- **Role**: Billing Administrator
- **Action**: receive and process real-time payment status updates from the payment hub
- **Value**: billing records accurately reflect payment outcomes and enable timely financial reconciliation

**Description:**

As a **Billing Administrator**,
I want to **receive and process real-time payment status updates from the payment hub**,
So that **billing records accurately reflect payment outcomes and enable timely financial reconciliation**


**Key Capabilities:**

**1. Payment Event Monitoring**
System continuously monitors payment hub for status notifications on submitted payment requests

**2. Completed Payment Processing**
Upon receiving 'COMPLETED' event, system automatically clears outstanding billing obligations and updates account balances

**3. Failed Payment Handling**
When 'FAILED' event is received, system declines the payment transaction and triggers appropriate collection workflows

**4. Continuous Operations**
System processes multiple payment events sequentially while maintaining active listener state for subsequent updates


**Acceptance Criteria:**

**1. Successful Payment Clearance**
Given a payment request exists, When 'COMPLETED' event is received from payment hub, Then system clears the billing obligation and reflects paid status

**2. Failed Payment Recording**
Given a payment request exists, When 'FAILED' event is received, Then system declines payment and maintains outstanding balance

**3. Continuous Event Processing**
Given multiple payment events arrive, When each event is processed, Then system returns to listening state and handles subsequent events without interruption

**4. Integration Availability**
Given payment hub integration is active, When listener is operational, Then system receives all status events without data loss


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=309466827"
]

---

#### Feature: Cancel Refunds Based on Payment Hub Void Events
- **Role**: Billing Administrator
- **Action**: automatically void approved refunds when Payment Hub cancellation events are received
- **Value**: payment records remain synchronized across systems and balances are accurately maintained without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **automatically void approved refunds when Payment Hub cancellation events are received**,
So that **payment records remain synchronized across systems and balances are accurately maintained without manual intervention**


**Key Capabilities:**

**1. Event Reception & Validation**
System receives outbound payment cancellation event from Payment Hub with void substatus indicator and validates cancellation type

**2. Refund Cancellation Execution**
System automatically cancels approved refund with void substatus, applies cancellation reason, and updates available payment actions per business rules

**3. Financial Status Recalculation**
System recalculates inbound payment status, billing account balances, member record unapplied amounts, and payment allocation availability

**4. Source-Based Event Orchestration**
System fires refund cancellation events and conditionally triggers payment reapplication events based on original refund source (billing account unapplied or member record unapplied)

**5. Audit Trail & Notification**
System generates business activity monitoring messages for refund void and payment status changes


**Acceptance Criteria:**

**1. Void Event Processing**
Given an approved refund exists, When Payment Hub void event is received with valid substatus, Then system cancels refund with void status and captures cancellation reason

**2. Balance Accuracy**
Given refund is voided, When cancellation is processed, Then billing account balance, member record unapplied balance, and payment remaining allocation amount reflect accurate post-void values

**3. Conditional Reapplication**
Given refund originated from billing account unapplied, When void is processed, Then system fires payment reapplication event to billing account unapplied

**4. Audit Completeness**
Given refund void is executed, When status changes, Then system creates monitoring messages for both refund void and associated payment status change

**5. Action Availability Update**
Given refund is voided, When business rules are applied, Then available outbound payment actions reflect current permissible operations


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=737153893"
]

---

#### Feature: Generate Automated Refunds for Overpayments
- **Role**: Billing Administrator
- **Action**: automatically generate and process customer refunds based on overpayment scenarios
- **Value**: customers receive timely refunds and billing accounts maintain accurate balances without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **automatically generate and process customer refunds based on overpayment scenarios**,
So that **customers receive timely refunds and billing accounts maintain accurate balances without manual intervention**


**Key Capabilities:**

**1. Payment Overpayment Refund Determination**
Upon payment allocation to first invoice, system evaluates if overpayment meets threshold criteria (10% of invoice amount OR TWD 2,000) and automatically generates refund record. For subsequent invoices, overpayment balance is maintained in legacy system for manual processing.

**2. Policy Amendment Refund Processing**
When member records are cancelled or amended resulting in negative premium difference, system automatically generates refund record for negative invoice amounts.

**3. Master Policy Cancellation Financial Settlement**
Upon master policy cancellation request, system calculates net settlement amount using unearned premium, unbilled amendments, unapplied amounts, and existing overpayments to determine whether refund or additional charge is required.

**4. Experience Refund Generation**
At policy year-end renewal, system verifies profitability criteria and claim records, calculates experience refund amount, and generates refund record upon user confirmation of calculation results.


**Acceptance Criteria:**

**1. Overpayment Threshold-Based Refund**
Given payment allocation creates overpayment on first invoice, When overpayment meets defined threshold criteria, Then system automatically generates refund record and integrates with legacy system for transaction execution.

**2. Policy Amendment Negative Balance**
Given member record cancellation or amendment is processed, When calculated invoice amount is negative, Then system automatically generates corresponding refund record.

**3. Master Policy Cancellation Settlement**
Given master policy cancellation is confirmed with valid cancellation date, When settlement calculation yields positive result, Then system generates refund record; When calculation yields zero or negative result, Then system generates invoice for additional charges.

**4. Experience Refund Eligibility**
Given policy year-end renewal scenario, When all four conditions are met (renewal decision, claim criteria, profitability, negative refund amount), Then system calculates experience refund and generates record upon user confirmation; When any condition fails, Then no experience refund is generated.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=704847805"
]

---

#### Feature: Automatically Consume Unapplied Payments Upon Invoice Generation
- **Role**: Billing Administrator
- **Action**: automatically consume unapplied payments to settle outstanding invoices
- **Value**: I can reduce manual payment allocation efforts and accelerate accounts receivable recovery

**Description:**

As a **Billing Administrator**,
I want to **automatically consume unapplied payments to settle outstanding invoices**,
So that **I can reduce manual payment allocation efforts and accelerate accounts receivable recovery**


**Key Capabilities:**

**1. Configuration Validation**
System verifies automated consumption strategy is enabled on the billing account configuration before processing.

**2. Sequential Payment Application**
System applies unapplied balance to unpaid or partially paid invoices chronologically, starting with oldest invoice. When payment insufficient to cover invoice, system distributes funds based on priority settings and applies proportional allocation within priority groups.

**3. Event Orchestration**
System fires allocation events for invoice items and member records, supporting both list bill and direct bill scenarios.

**4. Downstream Notification**
System generates business activity monitoring messages for payment allocation updates and invoice status changes.


**Acceptance Criteria:**

**1. Configuration Enforcement**
Given automated consumption is disabled, When invoice generated, Then system retains payment in unapplied status without allocation.

**2. Chronological Application**
Given multiple outstanding invoices exist, When unapplied payment consumed, Then system allocates funds to earliest invoice first.

**3. Proportional Distribution**
Given payment insufficient for priority group, When system processes allocation, Then available funds distributed proportionally within that group.

**4. Event Generation**
Given payment fully or partially consumed, When allocation completes, Then system fires allocation events and generates Payment Allocation Updated message.

**5. Status Synchronization**
Given invoice status changes, When payment applied, Then system generates Invoice Status Changed message for downstream systems.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=773137298"
]

---

#### Feature: Validate Payment Allocation Configuration Rules
- **Role**: Billing Administrator
- **Action**: validate payment allocation configuration rules across bill types to ensure operational compliance and system integrity
- **Value**: automated payment processing executes without errors and follows established business rules for diverse billing scenarios

**Description:**

As a **Billing Administrator**,
I want to **validate payment allocation configuration rules across bill types to ensure operational compliance and system integrity**,
So that **automated payment processing executes without errors and follows established business rules for diverse billing scenarios**


**Key Capabilities:**

**1. Configuration Scope Validation**
System verifies payment allocation mode is specified and valid for List Bill types (IPA or True Group modes)

**2. Allocation Approach Verification**
When automated allocation is enabled, system confirms appropriate approaches (allocationRules, remittanceFile) are configured per bill type

**3. Rule Completeness Check**
System validates required parameters (allocation rules, priority orders, strategy names) are defined based on selected approach

**4. Uniqueness and Consistency Enforcement**
System ensures configuration IDs are unique and autoconsumption settings are valid per bill type constraints
    4.1 If List Bill IPA includes autoconsumption from unapplied, system rejects configuration
    4.2 For other bill types, system validates only supported actions are configured


**Acceptance Criteria:**

**1. Valid Configuration Acceptance**
Given complete and compliant allocation parameters are provided, When validation executes, Then system accepts configuration without errors

**2. Missing Mode Rejection**
Given List Bill type lacks payment allocation mode, When validation runs, Then system prevents configuration save with mode specification error

**3. Invalid Approach Detection**
Given unsupported allocation approach for bill type, When system validates, Then configuration is rejected with valid approach guidance

**4. Incomplete Rules Prevention**
Given allocationRules approach without required parameters, When validation occurs, Then system blocks submission citing missing rule definitions

**5. Duplicate ID Detection**
Given non-unique configuration ID, When system checks uniqueness, Then duplicate configuration is rejected

**6. Unsupported Autoconsumption Block**
Given List Bill IPA with autoconsumption enabled, When validation executes, Then system rejects configuration with capability restriction message


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=644464309"
]

---

#### Feature: Apply Manual Payments to Invoices or Unapplied Balance
- **Role**: Billing Administrator
- **Action**: apply and allocate manual payments to invoices or unapplied balance
- **Value**: payments are properly recorded and allocated to prevent invoice cancellations and resolve business process interruptions

**Description:**

As a **Billing Administrator**,
I want to **apply and allocate manual payments to invoices or unapplied balance**,
So that **payments are properly recorded and allocated to prevent invoice cancellations and resolve business process interruptions**


**Key Capabilities:**

**1. Payment Intake & Selection**
User initiates payment application for Self-Bill accounts, choosing to create new payment or allocate existing unapplied balance payment

**2. Payment Details Specification**
User provides payment information for new payments or selects existing payment from unapplied balance inventory

**3. Allocation Target Determination**
User designates payment allocation to specific invoices (when payable invoices exist) or to unapplied balance for future application

**4. Strategic Allocation Processing**
System applies default allocation strategy prioritizing most delinquent invoices, supporting partial coverage when payment amount insufficient
    4.1 User manually adjusts allocated amounts when business rules require deviation from default strategy

**5. Validation & Confirmation**
User validates allocation logic; system enables confirmation when business rules satisfied

**6. Settlement & Notification**
Upon confirmation, system records allocation, recalculates invoice statuses, notifies Payment Hub with transaction details, and generates audit messages for downstream systems


**Acceptance Criteria:**

**1. New Payment Creation & Allocation**
Given payment already received by bank, When user creates new payment with valid details and allocates to invoices or unapplied balance, Then system records payment, applies allocation strategy, and generates Payment Created message

**2. Existing Payment Reallocation**
Given payment exists in unapplied balance, When user allocates payment to eligible invoices within amount constraints, Then system updates allocation and generates Payment Allocation Updated message

**3. Default Allocation Strategy Execution**
Given multiple unpaid invoices exist, When user selects invoice allocation, Then system automatically allocates to most delinquent invoice first with partial coverage support

**4. Invoice Status Synchronization**
Given payment applied to invoices, When allocation causes invoice status change, Then system recalculates invoice runtime status and generates Invoice Status Changed message

**5. Payment Hub Integration**
Given payment is applied (not just unapplied), When allocation confirmed, Then system notifies Payment Hub with payment details and internal reference

**6. Incomplete Data Prevention**
Given required payment details missing or allocation violates business rules, When user attempts confirmation, Then system prevents submission until validations pass


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=561841804"
]

---

### Epic: Payment Transfer & Movement Operations

#### Feature: Transfer Payment Between Billing Accounts
- **Role**: Billing Administrator
- **Action**: transfer payments between billing accounts to reallocate funds and correct payment misapplications
- **Value**: I can redistribute payment amounts across customer accounts, resolve payment errors, and maintain accurate financial records without manual reversal and reapplication

**Description:**

As a **Billing Administrator**,
I want to **transfer payments between billing accounts to reallocate funds and correct payment misapplications**,
So that **I can redistribute payment amounts across customer accounts, resolve payment errors, and maintain accurate financial records without manual reversal and reapplication**


**Key Capabilities:**

**Payment Transfer Initiation**
User initiates transfer action from payment context. System validates transfer eligibility per business rules, confirms no concurrent processing activities exist, and handles existing draft allocations requiring user confirmation.

**Destination Account Selection**
User searches and selects one or multiple destination billing accounts. System supports partial or full payment transfers with amount specification per destination and validates total transfer amounts against available payment balance.

**Automated Unallocation Processing**
When payment has existing allocations to invoices or member records, system automatically unallocates amounts, recalculates invoice statuses, creates offsetting payment items, and notifies compensation subsystem of distribution changes.

**Payment Record Creation**
System creates new payment records on destination accounts maintaining original transaction metadata, updates source payment status to transferred or adjusts remaining amount for partial transfers, and generates financial activity messages.

**Account Balance Reconciliation**
System updates unapplied balances across all affected accounts, recalculates next payment due dates for self-bill accounts, updates last payment tracking fields, and triggers downstream events for financial system synchronization.


**Acceptance Criteria:**

**Transfer Eligibility Validation**
Given a payment with valid status, when user initiates transfer action, then system displays transfer interface only if no concurrent activities exist and payment status permits transfer per business rules.

**Multi-Destination Transfer Execution**
Given user specifies transfer amounts to multiple destination accounts, when total equals or is less than available payment amount with explicit intent for remaining balance, then system successfully distributes payment across all destinations.

**Automatic Allocation Reversal**
Given a payment allocated to invoices, when transfer is confirmed, then system automatically unallocates amounts, creates offsetting payment items, recalculates invoice statuses, and generates appropriate status change notifications.

**Financial Record Integrity**
Given successful transfer completion, when system creates destination payment records, then new records maintain original payment number and transaction dates, source payment reflects transferred amount reduction, and all account balances reconcile accurately.

**Concurrent Activity Prevention**
Given another activity is processing on selected payment, when user attempts transfer, then system displays error message, prevents transfer action, and returns user to initiating interface with processing indicator visible.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=512766520"
]

---

#### Feature: Unallocate Payment from Member Records During Transfer
- **Role**: Billing Administrator
- **Action**: transfer payments between billing accounts with automatic unallocation and reapplication
- **Value**: operational flexibility is maintained, payment integrity is preserved, and account balances are accurately reconciled across customer billing accounts

**Description:**

As a **Billing Administrator**,
I want to **transfer payments between billing accounts with automatic unallocation and reapplication**,
So that **operational flexibility is maintained, payment integrity is preserved, and account balances are accurately reconciled across customer billing accounts**


**Key Capabilities:**

**Payment Transfer Initiation & Validation**
User initiates transfer from source billing account. System validates authorization privileges, payment eligibility, absence of draft allocations, and member record unallocated balance constraints for List Bill IPA payment modes.

**Transfer Configuration & Destination Selection**
User specifies transfer reason and searches for destination billing account(s). System enables multiple destination selection with individual transfer amount allocation. User optionally retains remaining balance on source account.

**Automatic Payment Unallocation Processing**
When allocated payments are transferred, system unallocates existing invoice and member record allocations, creates reversing payment items, recalculates invoice statuses, and moves amounts to unapplied balances before transfer execution.

**Transfer Execution & Account Updates**
System creates payment items with opposite signs on source account, generates new payment records on destination accounts with unapplied status, updates payment amounts, and changes source payment status to transferred or unapplied based on transfer completeness.

**Event Distribution & Downstream Synchronization**
System fires payment distribution events for compensation subsystem notification, generates BAM messages for transfer actions, updates next payment due calculations, and removes processing tags upon successful completion.


**Acceptance Criteria:**

**Authorized Transfer Initiation**
Given user has transfer payment privilege and payment status allows transfer action, when user initiates transfer from eligible banking/internal/customer credit payment, then system displays transfer configuration interface and validates no in-progress activities exist.

**Unallocation Prerequisite Handling**
Given payment has allocated amounts to invoices or member records, when transfer is confirmed, then system automatically unallocates existing allocations, creates reversing payment items, recalculates invoice statuses, and moves amounts to unapplied balance before proceeding.

**Multi-Destination Amount Distribution**
Given user specifies multiple destination accounts with individual transfer amounts, when total transfer amount equals or is less than payment amount with proper remaining balance handling, then system validates amount distribution and enables transfer confirmation.

**Transfer Completion with Account Updates**
Given transfer validation succeeds, when system processes transfer activity, then source payment status updates to transferred (full) or unapplied (partial), new payment records are created on destination accounts with unapplied status, and all billing accounts reflect updated payment information.

**Event-Driven Downstream Notification**
Given transfer completes successfully, when payment unallocation or movement occurs, then system fires billing distribution events for compensation, generates BAM messages for audit trails, and triggers payment application workflows on destination accounts.

**Partial Transfer Balance Retention**
Given total transfer amount is less than payment amount and user selects remaining balance retention, when transfer executes, then source payment retains difference amount with unapplied status and destination accounts receive specified transfer amounts.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=512766520"
]

---

#### Feature: Route Payment to Billing Account Unapplied Balance
- **Role**: Billing Administrator
- **Action**: transfer payment amounts between billing accounts to correct allocation errors
- **Value**: payment funds are properly associated with the correct customer accounts and available for appropriate invoice allocation

**Description:**

As a **Billing Administrator**,
I want to **transfer payment amounts between billing accounts to correct allocation errors**,
So that **payment funds are properly associated with the correct customer accounts and available for appropriate invoice allocation**


**Key Capabilities:**

**1. Payment Transfer Initiation**
User initiates transfer for payments with unapplied, allocated, or partially allocated status from source billing account to one or more target accounts.

**2. Conditional Unallocation Execution**
When payment amounts are currently allocated to invoices or member records, system automatically unallocates amounts, reverses existing assignments, and routes funds to source account unapplied balance.

**3. Payment Amount Transfer**
System transfers specified amounts to target billing accounts, creating new payment records with unapplied status while updating source account balance accordingly.

**4. Balance Register Reconciliation**
Upon transfer completion, system records balance operations for both source and target accounts ensuring accurate unapplied balance tracking.


**Acceptance Criteria:**

**1. Allocated Payment Transfer**
Given a payment with allocated amounts, when transfer is initiated, then system unallocates funds before executing transfer and updates all balance registers.

**2. Unapplied Payment Direct Transfer**
Given a payment with unapplied status, when transfer is requested, then system bypasses unallocation and directly transfers amounts to target accounts.

**3. Partial Transfer Processing**
Given a partial amount transfer, when executed, then source payment retains remaining balance with unapplied status and target receives specified amount.

**4. Full Transfer Completion**
Given a complete payment transfer, when processed, then source payment status becomes transferred with zero balance and entire amount routes to target account.

**5. Multiple Target Distribution**
Given multiple target accounts specified, when transfer executes, then system creates separate payment records for each target with proportional amounts.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=515214827"
]

---

#### Feature: Apply Internal Payment Automatically from Cash Deduction
- **Role**: Billing Administrator
- **Action**: automatically process internal payments from cash account deductions during policy nonforfeiture events
- **Value**: member accounts remain current and policy transactions complete without manual intervention or payment tracking errors

**Description:**

As a **Billing Administrator**,
I want to **automatically process internal payments from cash account deductions during policy nonforfeiture events**,
So that **member accounts remain current and policy transactions complete without manual intervention or payment tracking errors**


**Key Capabilities:**

**Event Reception & Validation**
System receives cash transaction events from Cash Management during nonforfeiture processing. Upon receipt, validates required data elements including amount, correlation identifier, accounting date, and member record. When data is incomplete or billing account type is incompatible, system ignores event without creating payment record.

**Payment Creation & Idempotency**
System creates internal draft payment with cash deduction subtype, converting negative amount to positive value. When duplicate correlation identifier detected, system prevents duplicate payment creation through idempotency verification.

**Automated Allocation & Balance Reconciliation**
System queues automatic allocation to member record per business rules, distributes funds to outstanding invoices, and recalculates billing account balances. Upon successful allocation, updates payment and invoice statuses, generates financial event notifications, and triggers compensation subsystem alerts.


**Acceptance Criteria:**

**Valid Event Processing**
Given cash transaction event contains all required data and member has compatible billing account type, When system receives event from Cash Management, Then internal payment is created with cash deduction subtype and queued for automatic allocation.

**Duplicate Prevention**
Given cash transaction event with previously processed correlation identifier, When system receives duplicate event, Then no additional payment is created and processing exits immediately.

**Allocation & Balance Updates**
Given internal payment created successfully, When automatic allocation executes, Then payment distributes to member record invoices, invoice and billing account balances recalculate, and financial events notify downstream systems.

**Write-off Exception Handling**
Given payment allocated to invoice with small balance write-off, When allocation completes, Then system automatically reverses write-off before finalizing payment posting.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=773142453"
]

---

#### Feature: Create Internal Payment Manually
- **Role**: Billing Operations Specialist
- **Action**: manually apply internal payments from cash accounts or claim deductions to customer billing accounts
- **Value**: member record balances are accurately updated and payment allocations are properly recorded without external payment processing

**Description:**

As a **Billing Operations Specialist**,
I want to **manually apply internal payments from cash accounts or claim deductions to customer billing accounts**,
So that **member record balances are accurately updated and payment allocations are properly recorded without external payment processing**


**Key Capabilities:**

**1. Payment Initiation & Configuration**
User accesses billing account and initiates internal payment application, specifying payment subtype, amount, and related entity references.

**2. Allocation Strategy Selection**
User selects allocation method: direct member record allocation, unapplied balance addition, or specific invoice targeting.
    2.1 Upon selecting member record allocation, user distributes amounts manually or triggers automatic allocation
    2.2 Upon selecting invoice allocation, system presents eligible invoices for selection

**3. Payment Application & Validation**
System validates allocated amounts match payment total, processes allocation, creates payment record, recalculates billing account and invoice balances, and updates payment status.

**4. Write-off Reconciliation**
When payment allocation affects previously written-off invoices, system automatically reverses small balance write-offs.


**Acceptance Criteria:**

**1. Successful Payment Application**
Given valid payment configuration and complete allocation, When user submits internal payment, Then system creates payment record, updates all affected balances, and generates confirmation messages.

**2. Allocation Validation**
Given allocated amounts exceeding payment total, When user attempts submission, Then system prevents processing and prompts correction.

**3. Partial Allocation Handling**
Given allocated amount less than payment total with remaining distributable balance, When user confirms submission, Then system applies allocated portions and adds remainder to unapplied balance.

**4. Automatic Allocation Processing**
Given user selects automatic allocation, When system processes payment, Then payment displays processing tag until allocation completes per business rules.

**5. Write-off Reversal**
Given payment applied to invoice with existing small balance write-off, When allocation processes, Then system automatically reverses write-off adjustment.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=740625030"
]

---

#### Feature: Move Payment Amount from Member Record Unapplied to Billing Account Unapplied
- **Role**: Billing Administrator
- **Action**: transfer payment amounts from Member Record Unapplied to Billing Account Unapplied during payment movement operations
- **Value**: ensure proper fund allocation and maintain accurate payment application records across billing entities

**Description:**

As a **Billing Administrator**,
I want to **transfer payment amounts from Member Record Unapplied to Billing Account Unapplied during payment movement operations**,
So that **I can ensure proper fund allocation and maintain accurate payment application records across billing entities**


**Key Capabilities:**

**1. Payment Transfer Initiation & Validation**
User initiates payment transfer action. System validates whether payment includes Member Record Unapplied balance amounts.

**2. Conditional Warning & User Acknowledgment**
When MR Unapplied amounts detected, system presents warning notification explaining automatic fund movement to Billing Account Unapplied. User reviews impact and confirms awareness before proceeding.

**3. Automatic Balance Reallocation**
Upon confirmation, system automatically moves payment amounts from Member Record Unapplied to Billing Account Unapplied on current and/or destination billing accounts.

**4. Transfer Completion**
System proceeds with standard payment transfer workflow to finalize fund movement.


**Acceptance Criteria:**

**1. Validation Trigger**
Given a payment transfer is initiated, When payment includes Member Record Unapplied amounts, Then system displays warning notification before proceeding.

**2. Confirmation Required**
Given warning notification is displayed, When user confirms acknowledgment, Then system automatically reallocates funds from MR Unapplied to Billing Account Unapplied.

**3. Cancellation Protection**
Given warning notification is displayed, When user cancels or dismisses, Then no fund movement occurs and transfer action is terminated.

**4. Bypass for Non-Applicable Transfers**
Given payment transfer excludes MR Unapplied amounts, When transfer is initiated, Then system proceeds with standard workflow without warning notification.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=631143009"
]

---

#### Feature: Unallocate Payment from Member Record Manually
- **Role**: Billing Administrator
- **Action**: unallocate payments from member records
- **Value**: I can correct erroneous allocations and manage overpayments to maintain accurate member billing accounts

**Description:**

As a **Billing Administrator**,
I want to **unallocate payments from member records**,
So that **I can correct erroneous allocations and manage overpayments to maintain accurate member billing accounts**


**Key Capabilities:**

**1. Payment Context Establishment**
User initiates unallocation operation for a selected payment within billing account context. System presents payment identification details and customer reference for verification.

**2. Unallocation Scope Selection**
User selects between complete payment unallocation across all allocated member records or targeted overpayment-only unallocation affecting specific overpaid records.

**3. Member Record Identification**
User identifies target member records through browsing, searching by identity attributes, or filtering by coverage products. System displays allocation amounts and overpayment status per record.

**4. Unallocation Execution**
Upon member record selection and confirmation, system reverses payment allocation from designated records and returns account to corrected state.


**Acceptance Criteria:**

**1. Complete Payment Unallocation**
Given a payment allocated to multiple member records, when user selects complete unallocation option and confirms, then system removes all allocations and restores payment to unallocated state.

**2. Overpayment-Only Unallocation**
Given member records with overpayment amounts, when user selects overpayment unallocation option, then system displays only records with overpayments and unallocates only excess amounts.

**3. Selective Record Processing**
Given multiple eligible member records, when user selects specific records for unallocation, then system processes only selected records while preserving allocations for unselected records.

**4. Incomplete Selection Prevention**
Given unallocation operation in progress, when no member records are selected, then system prevents execution until valid selection is made.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=603363462"
]

---

#### Feature: Generate Payment Transfer Event for Financial Tracking
- **Role**: Billing Administrator
- **Action**: generate payment transfer event to track payment movement between billing accounts
- **Value**: the system maintains accurate financial records and audit trails for payment redistribution activities

**Description:**

As a **Billing Administrator**,
I want to **generate payment transfer event to track payment movement between billing accounts**,
So that **the system maintains accurate financial records and audit trails for payment redistribution activities**


**Key Capabilities:**

**Payment Transfer Initiation**
User is able to initiate payment transfer from source billing account, capturing transaction identifiers, monetary details, payment classification, and customer references.

**Transfer Configuration**
User is able to specify transfer reason, determine amount allocation, and designate one or multiple target billing accounts for payment distribution.

**Split Payment Handling**
When payment requires distribution across multiple accounts, system supports multiple destination entries with individual transfer amounts.

**Contextual Documentation**
Upon selecting 'Other' as transfer reason, user is able to provide detailed explanation through supplementary information field.

**Event Generation**
System generates comprehensive payment transfer event including source account details, target destination information, remaining balances, and complete audit metadata with timestamps.


**Acceptance Criteria:**

**Complete Transfer Event Creation**
Given valid payment transfer request, When user initiates transfer from source account, Then system generates event capturing transaction identifiers, monetary details, payment classification, and customer references.

**Multi-Account Distribution**
Given payment split requirement, When user specifies multiple target accounts, Then system records individual transfer amounts and destination account numbers for each allocation.

**Transfer Reason Documentation**
Given transfer reason selection, When reason is 'Other', Then system captures additional explanatory information from user.

**Audit Trail Completeness**
Given successful transfer event generation, When event is persisted, Then system records created/updated metadata with user identifiers and ISO 8601 timestamps.

**Balance Calculation**
Given total payment amount and transfer allocations, When transfer completes, Then system calculates and records remaining amount retained on source account.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=581112296"
]

---

#### Feature: Support Partial Payment Transfer with Remaining Balance Retention
- **Role**: Billing Administrator
- **Action**: transfer payment amounts between billing accounts while optionally retaining remaining balances
- **Value**: ensure accurate payment reallocation across customer accounts without disrupting billing operations or requiring external payment rerouting

**Description:**

As a **Billing Administrator**,
I want to **transfer payment amounts between billing accounts while optionally retaining remaining balances**,
So that **ensure accurate payment reallocation across customer accounts without disrupting billing operations or requiring external payment rerouting**


**Key Capabilities:**

**1. Payment Transfer Initiation**
User initiates payment transfer from source billing account to one or multiple destination billing accounts for specified amounts.

**2. Automatic Unallocation Processing**
Upon transfer initiation, system automatically unallocates any amounts previously allocated to invoices or member records, moving them to source account unapplied balance.

**3. Partial Transfer with Balance Retention**
User is able to transfer partial payment amounts while keeping remaining balance on source account, or distribute entire amount across destinations.
    3.1 When partial retention selected, system allows transfer of specified portion only
    3.2 When full transfer required, system mandates 100% allocation before completion

**4. Payment Record Creation**
System creates new payment records on destination accounts preserving original payment number, transaction date, and effective date for audit continuity.

**5. Manual Allocation Requirement**
User must manually allocate transferred amounts to invoices or member records on destination accounts post-transfer.

**6. Iterative Transfer Support**
Transferred payments can be re-transferred to original or alternative billing accounts using same transfer process.


**Acceptance Criteria:**

**1. Successful Full Payment Transfer**
Given a payment allocated to invoices on source account, When user initiates full transfer to destination account, Then system unallocates from source, transfers to destination unapplied balance, and creates matching payment record with original identifiers.

**2. Partial Transfer with Retention**
Given user selects partial transfer option, When user specifies transfer amount less than total payment, Then system transfers specified amount to destination and retains remainder in source unapplied balance.

**3. Full Transfer Allocation Enforcement**
Given user does not select balance retention option, When transfer amount does not equal 100% of payment, Then system prevents transfer completion until all amounts are allocated to destinations.

**4. Member Record Unallocation Handling**
Given source account contains individual premium accounting with member record allocations, When transfer initiated, Then system identifies and moves member record unapplied amounts to source account balance before transfer.

**5. Post-Transfer Manual Allocation**
Given payment successfully transferred to destination account, When user accesses destination account, Then payment appears in unapplied balance requiring manual allocation to invoices or member records.

**6. Iterative Transfer Capability**
Given previously transferred payment on destination account, When user initiates new transfer, Then system allows re-transfer to original or alternative account using standard transfer process.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=541990994"
]

---

#### Feature: Validate Transfer Amount Against Available Payment Balance
- **Role**: Billing Administrator
- **Action**: redistribute payment amounts across billing accounts while maintaining balance integrity
- **Value**: funds are optimally allocated to satisfy customer obligations and resolve payment misallocations

**Description:**

As a **Billing Administrator**,
I want to **redistribute payment amounts across billing accounts while maintaining balance integrity**,
So that **funds are optimally allocated to satisfy customer obligations and resolve payment misallocations**


**Key Capabilities:**

**1. Initiate Payment Redistribution**
User identifies source payment requiring transfer and specifies business justification for the movement.

**2. Select Destination Accounts**
User searches and designates one or multiple target billing accounts to receive transferred funds.
    2.1 System displays account balances and outstanding obligations for informed allocation decisions.

**3. Allocate Transfer Amounts**
User distributes payment portions across selected destinations while system dynamically tracks remaining unallocated balance.
    3.1 Upon adding multiple destinations, system recalculates total allocation and remaining funds in real-time.

**4. Validate Transfer Integrity**
System verifies total allocated amounts do not exceed available payment balance before execution.

**5. Execute Payment Movement**
Upon confirmation, system applies transfer transactions and updates all affected account balances atomically.


**Acceptance Criteria:**

**1. Transfer Amount Validation**
Given a payment transfer request, When total allocated amounts exceed source payment balance, Then system prevents execution and notifies user of overage condition.

**2. Multi-Account Distribution**
Given multiple destination accounts selected, When user allocates amounts, Then system maintains cumulative total and remaining balance calculations accurately.

**3. Balance Preservation**
Given a confirmed transfer, When system executes movement, Then source payment balance decreases and destination account balances increase by exact amounts without discrepancies.

**4. Business Justification Requirement**
Given transfer initiation, When no reason is provided, Then system prevents submission until valid business justification is captured.

**5. Partial Transfer Support**
Given unallocated remaining balance, When user designates retention on source account, Then system maintains remainder without requiring full distribution.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=514005863"
]

---

### Epic: Cash Allocation & Suspense Management

#### Feature: Allocate Payments to Invoices Automatically
- **Role**: Billing Administrator
- **Action**: allocate incoming payments to outstanding invoices automatically
- **Value**: invoices are reconciled efficiently, account balances remain accurate, and manual allocation effort is minimized

**Description:**

As a **Billing Administrator**,
I want to **allocate incoming payments to outstanding invoices automatically**,
So that **invoices are reconciled efficiently, account balances remain accurate, and manual allocation effort is minimized**


**Key Capabilities:**

**1. Payment Initiation & Method Selection**
User initiates payment application from billing account context. System presents eligible payment methods based on account configuration and business rules.

**2. Invoice Selection & Allocation Strategy**
User specifies allocation approach (specific invoice, member record, or automatic distribution). System retrieves outstanding invoices and validates allocation eligibility.

**3. Allocation Validation & Amount Distribution**
System applies billing-type-specific validation rules. For Individual Premium, highlights mismatches but permits override. For True Group, enforces strict not-to-exceed constraints.

**4. Payment Application & Balance Reconciliation**
Upon confirmation, system creates payment records, allocates amounts per calculation rules, updates invoice statuses, recalculates account balances, and reverses small-balance write-offs if applicable.

**5. External System Notification**
System notifies Payment Hub with transaction details and generates billing activity messages for downstream processes.


**Acceptance Criteria:**

**1. Successful Full Allocation**
Given allocated amount equals payment amount exactly, When user confirms application, Then system creates payment, updates invoice statuses, recalculates balances, and displays success confirmation.

**2. Partial Allocation Handling**
Given allocated amount is less than payment with distribution capacity available, When user confirms, Then system allocates specified amounts and distributes remainder per business rules.

**3. Over-Allocation Prevention**
Given allocated amount exceeds payment amount, When user attempts to apply, Then system prevents submission and prompts for allocation correction.

**4. Billing-Type Validation Enforcement**
Given True Group billing type, When allocated amount exceeds remaining invoice due, Then system blocks application until corrected.

**5. Write-Off Reversal Trigger**
Given payment allocated to invoice with small-balance write-off, When payment is applied, Then system automatically reverses write-off and adjusts balances accordingly.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=463476927"
]

---

#### Feature: Allocate Payments to Member Records Manually
- **Role**: Billing Administrator
- **Action**: manually allocate payments to member records and invoice items
- **Value**: accurate payment application and account reconciliation are achieved

**Description:**

As a **Billing Administrator**,
I want to **manually allocate payments to member records and invoice items**,
So that **accurate payment application and account reconciliation are achieved**


**Key Capabilities:**

**1. Payment Application Initiation**
User submits payment allocation details for processing. System validates allocation rules and payment amount consistency.

**2. Asynchronous Payment Processing**
System queues payment activity, creates payment in Initiated status, and provides progress notification while processing in background.

**3. Member Record & Invoice Association**
System applies payment to designated member records, associates amounts to invoiced items, and updates payment-to-invoice linkages.

**4. Balance Reconciliation**
System recalculates invoice and billing account balances, updates payment and invoice statuses, and triggers downstream financial events.

**5. Exception Handling**
When allocation exceeds payment amount, system prevents submission. When payment exceeds allocation, system prompts confirmation before processing.

**6. Write-off Reversal**
If applicable, system automatically reverses small balance write-offs when payment covers previously written-off amounts.


**Acceptance Criteria:**

**1. Valid Allocation Acceptance**
Given authorized user with complete allocation details, When payment amount matches or exceeds total allocation, Then system processes payment asynchronously and confirms submission.

**2. Over-Allocation Prevention**
Given allocation exceeds payment amount, When user attempts submission, Then system blocks processing and requires correction.

**3. Under-Allocation Warning**
Given payment amount exceeds total allocation, When user submits, Then system displays confirmation modal before proceeding with unallocated balance.

**4. Balance Accuracy**
Given successful payment processing, When allocation completes, Then invoice and account balances reflect applied amounts and statuses update accordingly.

**5. Processing Transparency**
Given payment in processing queue, When user navigates away, Then system maintains progress indicator and updates payment actions upon completion.

**6. Write-off Reversal**
Given invoice with small balance write-off, When payment covers written-off amount, Then system automatically reverses write-off and updates invoice status.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=752030718"
]

---

#### Feature: Allocate Payments Using Remittance File
- **Role**: Billing Administrator
- **Action**: apply bulk payments to member records using uploaded remittance files
- **Value**: payment processing is automated, reducing manual allocation effort and ensuring accurate distribution per contractual obligations

**Description:**

As a **Billing Administrator**,
I want to **apply bulk payments to member records using uploaded remittance files**,
So that **payment processing is automated, reducing manual allocation effort and ensuring accurate distribution per contractual obligations**


**Key Capabilities:**

**1. Payment Initiation & File Selection**
User initiates payment application from billing account and selects remittance file (CSV/XLSX) from computer or E-Folder repository.

**2. File Validation & Processing**
System validates file format, column structure, and data integrity. Upon validation success, system automatically distributes amounts to member records per business rules.

**3. Allocation Review & Adjustment**
System displays calculated allocations with file metadata. User reviews distribution and may manually adjust amounts or re-upload alternate file.

**4. Payment Application & Reconciliation**
When user applies payment, system validates allocated versus payment totals. If allocated amount exceeds payment, process blocks and redirects to unapplied payment workflow.

**5. Balance Updates & Notification**
System updates invoice/billing account balances, sets payment status, generates audit messages, notifies Payment Hub, and reverses prior write-offs if applicable.


**Acceptance Criteria:**

**1. Successful File-Based Allocation**
Given a valid CSV/XLSX file with correct column structure, When user uploads and applies payment, Then system distributes amounts to member records, updates balances, and displays success confirmation.

**2. Invalid File Format Rejection**
Given a non-CSV/XLSX file or improperly formatted CSV, When user attempts upload, Then system displays format error and prompts file reselection without creating payment record.

**3. Underallocation Handling**
Given allocated total is less than payment amount, When user attempts to apply, Then system displays confirmation modal allowing user to proceed or return for adjustment.

**4. Overallocation Prevention**
Given allocated total exceeds payment amount, When user attempts to apply, Then system blocks application and redirects to unapplied payment workflow with error notification.

**5. Asynchronous Processing Support**
Given user saves-and-exits during file processing, When processing completes, Then system removes 'Processing' tag and enables resume-allocation action from billing home page.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=549094821"
]

---

#### Feature: Distribute Payments by Premium Sequence Priority
- **Role**: Billing Administrator
- **Action**: allocate remittance file payments to member premium records using prioritized matching and proportional distribution rules
- **Value**: accurate payment application is achieved across multiple member invoices with minimal manual intervention and proper handling of under/overpayments

**Description:**

As a **Billing Administrator**,
I want to **allocate remittance file payments to member premium records using prioritized matching and proportional distribution rules**,
So that **accurate payment application is achieved across multiple member invoices with minimal manual intervention and proper handling of under/overpayments**


**Key Capabilities:**

**1. File Ingestion & Member Matching**
System validates remittance file structure and matches payment records to member certificates using hierarchical identifier priority (Member Record Number  SSN  Employee ID)

**2. Amount Aggregation & Comparison**
System calculates total file amounts and outstanding dues by member/product, determining underpayment, exact match, or overpayment scenarios

**3. Proportional Distribution for Underpayments**
When file amount is less than dues, system distributes proportionally prioritizing prior billing periods first, then current period obligations

**4. Sequential Invoice Coverage for Overpayments**
When file amount exceeds selected invoice dues, system applies remainder to oldest unpaid invoices sequentially, distributing excess proportionally across member certificates

**5. Payment Application Finalization**
Upon validation, system commits allocated amounts starting from designated invoice and updates member account balances accordingly


**Acceptance Criteria:**

**1. Valid File Processing**
Given a properly formatted remittance file, When system processes allocation, Then invalid rows are skipped without halting and valid rows distribute to matching member records

**2. Underpayment Proportional Allocation**
Given file amount is less than invoice dues, When allocation executes, Then prior period items receive priority and proportional distribution applies per member record's share of total dues

**3. Overpayment Sequential Application**
Given file amount exceeds selected invoice total, When system applies payment, Then selected invoice is fully covered and remainder cascades to oldest unpaid invoices until exhausted

**4. Product-Level Segmentation**
Given file contains product column, When amounts aggregate, Then distribution respects product boundaries and missing product values trigger proportional allocation across all member items

**5. Allocation Validation**
Given allocated amount calculation completes, When user initiates payment application, Then system prevents application if allocated amount exceeds available payment balance


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=560980831"
]

---

#### Feature: Distribute Payments by Product Priority
- **Role**: Billing Specialist
- **Action**: allocate incoming payments across invoiced items using configurable priority strategies
- **Value**: I ensure accurate cash application that aligns with business priorities, reduces suspense balances, and maintains compliance with coverage and billing period hierarchies

**Description:**

As a **Billing Specialist**,
I want to **allocate incoming payments across invoiced items using configurable priority strategies**,
So that **I ensure accurate cash application that aligns with business priorities, reduces suspense balances, and maintains compliance with coverage and billing period hierarchies**


**Key Capabilities:**

**1. Payment Coverage Assessment**
System evaluates total payment amount against invoice remaining balance to determine full or partial coverage scenario and triggers appropriate allocation strategy.

**2. Priority Strategy Selection**
Upon configuration review, system applies non-priority proportional allocation or priority-based sequencing by invoicing period, premium sequence, product hierarchy, or multi-level combinations.

**3. Hierarchical Distribution Execution**
System allocates funds starting from highest priority groups (oldest periods/sequences/products), covering complete modal periods before distributing proportionally within partially covered periods.

**4. Proportional Calculation & Rounding**
When partial coverage occurs, system calculates allocation coefficients, applies HALF_UP rounding to 8 digits, and distributes rounding differences randomly across items.

**5. Balance Update & Finalization**
System updates invoiced item balances, records allocation transactions, and confirms complete distribution of payment amount per configured business rules.


**Acceptance Criteria:**

**1. Full Payment Coverage**
Given payment amount meets or exceeds total invoice remaining due, When allocation executes, Then system distributes payment to all unpaid items in full without applying priority rules.

**2. Priority-Based Allocation**
Given partial payment with priority rules enabled, When system applies configured coverage order (e.g., InvoicingPeriod), Then oldest invoicing period and modal period receive complete coverage before newer periods.

**3. Proportional Distribution**
Given payment cannot fully cover a modal period, When allocation calculates distribution, Then system applies coefficient formula with HALF_UP rounding to 8 digits and randomly assigns rounding difference.

**4. Multi-Level Hierarchy**
Given configuration specifies InvoicingPeriod-Product-PremiumSequence priority, When allocation processes, Then system exhausts each hierarchy level completely before proceeding to next level.

**5. Non-Priority Proportional Mode**
Given priority rules disabled, When payment is insufficient, Then system distributes proportionally across current and prior periods using coefficient calculation without sequencing logic.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=487462852"
]

---

#### Feature: Manage Unapplied Payment Balance
- **Role**: Billing Administrator
- **Action**: manage overpayment allocation and maintain unapplied balances
- **Value**: I ensure accurate payment reconciliation and preserve customer credit for future use

**Description:**

As a **Billing Administrator**,
I want to **manage overpayment allocation and maintain unapplied balances**,
So that **I ensure accurate payment reconciliation and preserve customer credit for future use**


**Key Capabilities:**

**Payment Allocation Processing**
User initiates allocation of available payment amount against outstanding invoices until all invoices are satisfied.

**Overpayment Detection**
System identifies when allocated amounts exceed total invoice balances and calculates remainder.

**Unapplied Balance Notification**
Upon detecting excess payment, system notifies user of unapplied remainder amount and requests allocation decision confirmation.

**Allocation Confirmation**
User confirms to complete allocation with unapplied balance preserved, or cancels to modify allocation strategy.

**Balance Preservation**
When confirmed, system retains unapplied amount as customer credit available for future invoice application.


**Acceptance Criteria:**

**Successful Overpayment Detection**
Given payment amount exceeds invoice totals, when user submits allocation, then system calculates and presents unapplied remainder for review.

**Allocation Completion with Unapplied Balance**
Given user confirms unapplied balance notification, when confirmation is processed, then system completes allocation, preserves remainder as unapplied credit, and closes transaction.

**Allocation Modification**
Given user cancels unapplied balance confirmation, when cancellation is processed, then system returns to allocation interface allowing adjustment without losing entered data.

**Full Payment Validation**
Given multiple invoices exist, when allocation occurs, then system ensures all available invoices are fully satisfied before designating remainder as unapplied.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=577780152"
]

---

#### Feature: Consume Unapplied Balance Automatically on Invoice Generation
- **Role**: Billing Administrator
- **Action**: automatically apply unapplied payment balances to newly generated or regenerated invoices based on configurable priority rules
- **Value**: outstanding invoices are settled immediately using available funds, reducing manual cash application effort and improving cash flow efficiency

**Description:**

As a **Billing Administrator**,
I want to **automatically apply unapplied payment balances to newly generated or regenerated invoices based on configurable priority rules**,
So that **outstanding invoices are settled immediately using available funds, reducing manual cash application effort and improving cash flow efficiency**


**Key Capabilities:**

**Invoice Generation Trigger Detection**
When an invoice is generated or regenerated on a billing account with positive unapplied balance, system initiates automatic consumption process based on bill type configuration

**Priority-Based Payment Consumption**
System consumes unapplied transactions following configurable payment category priority hierarchy, exhausting highest priority categories before proceeding to lower priorities

**Chronological Transaction Ordering**
Within each payment category priority level, system processes transactions in chronological sequence by payment effective date, applying earliest payments first

**Bill Type-Specific Allocation Strategy**
System applies appropriate payment distribution methodology: Group allocation mode for Self-Bill and List Bill types targeting earliest invoices first; standard allocation strategy for Individual Direct bill types

**Invoice Status Synchronization**
Upon successful payment consumption and allocation, system recalculates and updates invoice payment status reflecting current settlement state across the billing account


**Acceptance Criteria:**

**Consumption Activation Validation**
Given automatic consumption configuration is enabled for the bill type and billing account has positive unapplied balance, When invoice generation completes, Then system automatically initiates payment consumption process

**Priority-Based Processing**
Given multiple payment categories exist with defined priorities, When consumption begins, Then system exhausts all transactions in highest priority category before processing subsequent priority levels

**Chronological Ordering Within Categories**
Given multiple transactions exist within same payment category, When system processes that category, Then transactions are consumed in ascending order by payment effective date

**Bill Type Allocation Adherence**
Given billing account has specific bill type, When payment is allocated to invoices, Then system applies Group mode for Self-Bill/List Bill or standard strategy for Individual Direct

**Partial Coverage Handling**
Given unapplied balance is insufficient to cover all outstanding invoices, When allocation occurs, Then system fully covers maximum number of invoices chronologically and partially covers next invoice with remaining balance

**Status Update Confirmation**
Given payment consumption and allocation completes successfully, When process finishes, Then invoice payment statuses are recalculated and reflected accurately on billing account


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=546712784"
]

---

#### Feature: Unallocate Payments from Invoices
- **Role**: Billing Administrator
- **Action**: reverse allocated payments from invoices and return funds to available credit or suspense status
- **Value**: I can correct erroneous allocations, manage payment discrepancies, and maintain accurate account balances without creating financial reconciliation issues

**Description:**

As a **Billing Administrator**,
I want to **reverse allocated payments from invoices and return funds to available credit or suspense status**,
So that **I can correct erroneous allocations, manage payment discrepancies, and maintain accurate account balances without creating financial reconciliation issues**


**Key Capabilities:**

**1. Identify Allocation for Reversal**
User is able to select previously allocated payment transactions linked to specific invoices or member records requiring correction.

**2. Validate Unallocation Eligibility**
System verifies payment status, downstream dependencies, and business rules to confirm reversal is permissible without violating financial controls.

**3. Execute Payment Unallocation**
User initiates unallocation process to detach payment from invoice and return funds to unallocated status or customer credit balance.
    3.1 Upon automatic triggers, system unallocates payments based on predefined business events
    3.2 When manual intervention required, user completes unallocation through administrative interface

**4. Redistribute Funds**
System transfers unallocated amounts to suspense account or available customer credit for subsequent reallocation decisions.

**5. Update Financial Records**
System adjusts invoice balances, payment histories, and account ledgers to reflect unallocation transaction with complete audit trail.


**Acceptance Criteria:**

**1. Successful Manual Unallocation**
Given an allocated payment exists on an invoice, When the billing administrator initiates unallocation, Then the system detaches the payment, restores invoice balance, and moves funds to unallocated status with timestamp.

**2. Automatic Unallocation Trigger**
Given business rules detect overpayment or invoice cancellation, When the system evaluates allocation validity, Then automatic unallocation executes without manual intervention and notifies relevant stakeholders.

**3. Unallocation Prevented for Invalid Scenarios**
Given a payment has downstream financial dependencies, When unallocation is attempted, Then the system prevents the transaction and provides business rationale for rejection.

**4. Audit Trail Completeness**
Given any unallocation transaction occurs, When financial records are reviewed, Then complete history shows original allocation, unallocation event, user/system actor, and resulting fund disposition.

**5. Credit Balance Reconciliation**
Given unallocated funds return to customer account, When credit balance is calculated, Then amount accurately reflects available credit for future allocation without duplication or loss.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=513999807"
]

---

#### Feature: Calculate Excessive Payment for Unallocation
- **Role**: Billing Administrator
- **Action**: automatically detect, calculate, and unallocate excessive payments when premium reducing transactions occur within already-billed modal periods
- **Value**: billing accuracy is maintained, overpayments are properly identified and reallocated to appropriate unapplied balances, preventing revenue leakage and manual reconciliation efforts

**Description:**

As a **Billing Administrator**,
I want to **automatically detect, calculate, and unallocate excessive payments when premium reducing transactions occur within already-billed modal periods**,
So that **billing accuracy is maintained, overpayments are properly identified and reallocated to appropriate unapplied balances, preventing revenue leakage and manual reconciliation efforts**.


**Key Capabilities:**

**1. Premium Adjustment Detection & Matching**
When premium reducing transaction occurs within billed modal period, system identifies negative billable items and matches them to corresponding positive invoice items using member record, coverage, tier, premium sequence, and modal period parameters.

**2. Excessive Payment Calculation**
System calculates delta between amount paid and revised amount to be paid. Upon determining delta exceeds zero, excessive payment amount is identified for unallocation.

**3. Payment Unallocation Execution**
System unallocates excessive payment following priority-based sequence by payment category, processing newest to oldest allocations. Funds are redirected to member record unapplied balance for customer payments or billing account unapplied balance for credit sources.

**4. Balance Reconciliation**
System recalculates billing account balances post-unallocation, ensuring financial integrity across member records and invoices.


**Acceptance Criteria:**

**1. Excessive Payment Detection**
Given premium reducing transaction applied to billed modal period with paid invoice items, When system matches negative and positive items across all parameters, Then excessive payment is identified only when payment delta exceeds zero.

**2. Unallocation Accuracy**
Given excessive payment identified, When unallocation executes, Then funds transfer to member record unapplied balance for customer payments or billing account unapplied balance for credits, following configured priority sequence.

**3. Payment Sequencing**
Given multiple payments allocated to affected invoice items, When unallocation processes, Then system applies newest-to-oldest sequence within payment categories until excessive amount fully covered.

**4. Balance Integrity**
Given unallocation completed, When billing account balances recalculated, Then all account totals reflect adjusted allocations without discrepancies.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=607686261"
]

---

#### Feature: Transfer Payments Between Billing Accounts
- **Role**: Billing Administrator
- **Action**: transfer payment allocations between customer billing accounts to correct misapplied funds or reallocate cash
- **Value**: payments are accurately applied to the correct billing obligations, reducing account discrepancies and improving cash flow accuracy

**Description:**

As a **Billing Administrator**,
I want to **transfer payment allocations between customer billing accounts to correct misapplied funds or reallocate cash**,
So that **payments are accurately applied to the correct billing obligations, reducing account discrepancies and improving cash flow accuracy**


**Key Capabilities:**

**1. Payment Selection and Source Validation**
User identifies the payment requiring reallocation from the originating billing account and validates eligibility for transfer based on payment status and allocation rules.

**2. Target Account Identification and Verification**
User specifies the destination billing account and system validates that the target account can accept the payment based on business rules and account status.

**3. Transfer Execution and Cash Reallocation**
User initiates the transfer and system reverses the original allocation, applies the payment to the target account, and updates all related billing and financial records.

**4. Audit Trail and Confirmation**
System records the transfer transaction with full audit details including reason codes, user identity, timestamps, and account impacts for reconciliation and compliance purposes.


**Acceptance Criteria:**

**1. Successful Payment Transfer**
Given a valid payment allocated to a source billing account, when the user initiates a transfer to an eligible target account, then the system reallocates the payment, updates both account balances, and confirms the successful transfer.

**2. Transfer Validation and Prevention**
Given a payment transfer request, when the target account is ineligible or the payment is in a non-transferable status, then the system prevents the transfer and notifies the user of the blocking condition.

**3. Financial Integrity Preservation**
Given a completed payment transfer, when the system executes the reallocation, then all financial records reflect accurate debits and credits, maintaining zero net cash impact across the organization.

**4. Audit Trail Completeness**
Given any payment transfer transaction, when the transfer is executed, then the system captures complete audit information including user, timestamp, reason, source and target accounts for compliance and reconciliation tracking.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=559410731"
]

---

#### Feature: Reallocate Payments Between Member Records
- **Role**: Billing Administrator
- **Action**: reallocate previously applied payments across member records to correct distribution errors or accommodate account changes
- **Value**: payment allocations accurately reflect current member obligations and resolve billing discrepancies without requiring payment reversal

**Description:**

As a **Billing Administrator**,
I want to **reallocate previously applied payments across member records to correct distribution errors or accommodate account changes**,
So that **payment allocations accurately reflect current member obligations and resolve billing discrepancies without requiring payment reversal**


**Key Capabilities:**

**1. Reallocation Initiation**
User accesses reallocation functionality for Individual Premium Accounting accounts with previously applied payments requiring redistribution.

**2. Payment Redistribution Configuration**
User adjusts allocated amounts across member records, modifying distribution while maintaining total payment integrity. System presents preview showing proposed redistribution impact on member balances and invoice coverage.

**3. Automated Allocation Processing**
Upon confirmation, system reallocates payment starting from oldest unpaid invoice according to configurable priority rules and calculation strategies.

**4. Financial Reconciliation**
System updates member record balances, invoice remaining dues, and overpayment tracking to reflect adjusted allocation while maintaining complete audit trail of reallocation actions.


**Acceptance Criteria:**

**1. Reallocation Authorization**
Given a previously applied payment exists, When user initiates reallocation for Individual Premium Accounting account, Then system permits redistribution across authorized member records.

**2. Distribution Integrity Validation**
Given user modifies allocation amounts, When total redistributed amount differs from original payment, Then system prevents reallocation and requires correction.

**3. Allocation Strategy Compliance**
Given reallocation is confirmed, When system processes redistribution, Then allocation applies from oldest unpaid invoice regardless of original allocation strategy.

**4. Balance Accuracy Assurance**
Given reallocation completes successfully, When system updates financial records, Then member balances, invoice dues, and overpayments accurately reflect adjusted distribution with complete audit trail.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=593281546"
]

---

#### Feature: Manage Draft Payment Allocations
- **Role**: Billing Administrator
- **Action**: manage and modify draft payment allocations before finalization
- **Value**: I can ensure accurate fund distribution, correct allocation errors, and maintain billing account integrity before payments are permanently applied

**Description:**

As a **Billing Administrator**,
I want to **manage and modify draft payment allocations before finalization**,
So that **I can ensure accurate fund distribution, correct allocation errors, and maintain billing account integrity before payments are permanently applied**


**Key Capabilities:**

**Draft Allocation Creation & Review**
User is able to create draft payment allocations across billing accounts and review proposed fund distributions before commitment

**Allocation Modification & Deletion**
User is able to adjust or remove draft allocations when business rules require changes or errors are identified

**Multi-Source Fund Management**
When handling unapplied funds from various sources (group accounts, IPAs, member records), user is able to allocate or initiate refund processes

**Finalization & Application**
Upon validation completion, user is able to finalize draft allocations to permanently apply payments to billing accounts


**Acceptance Criteria:**

**Successful Draft Management**
Given draft payment allocations exist, when user modifies or deletes allocations, then changes are reflected without impacting finalized transactions

**Prevention of Invalid Operations**
Given incomplete or invalid allocation data, when user attempts finalization, then system prevents progression until business rules are satisfied

**Multi-Account Distribution**
Given payment requires allocation across multiple billing accounts, when user distributes funds, then total allocation matches payment amount

**Refund Process Integration**
Given unapplied funds require refund, when user initiates refund from BA or member record, then system routes through appropriate refund workflow


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=559410609"
]

---

#### Feature: Suspend Payments for Review
- **Role**: Billing Administrator
- **Action**: suspend payments pending investigation
- **Value**: I can hold funds in suspense to resolve discrepancies before allocation

**Description:**

As a **Billing Administrator**,
I want to **suspend payments pending investigation**,
So that **I can hold funds in suspense to resolve discrepancies before allocation**


**Key Capabilities:**

**Payment Suspension Initiation**
User is able to flag incoming payments for manual review when anomalies or uncertainties are detected during the cash allocation process.

**Suspense Account Management**
System places flagged payments into a dedicated suspense holding area, preventing automatic allocation to billing accounts until resolution.

**Investigation Workflow**
User is able to review suspended payment details, research discrepancies, and determine appropriate allocation actions.

**Resolution and Release**
Upon completion of investigation, user is able to release payments from suspense for proper allocation or escalate for further action.


**Acceptance Criteria:**

**Successful Payment Suspension**
Given a payment requires review, when the user initiates suspension, then the system moves the payment to suspense status and prevents allocation.

**Suspense Visibility**
Given payments are in suspense, when the user accesses the suspense queue, then all pending payments are displayed with investigation status.

**Investigation Completion**
Given investigation is resolved, when the user releases the payment, then the system enables allocation to the correct billing account.

**Audit Trail Preservation**
Given any suspense activity occurs, when transactions are recorded, then the system captures timestamps, user actions, and resolution details.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=559410686"
]

---

#### Feature: Process Internal Payments
- **Role**: Billing Administrator
- **Action**: process and allocate internal payments to designated accounts
- **Value**: accurate financial reconciliation is maintained across internal business units

**Description:**

As a **Billing Administrator**,
I want to **process and allocate internal payments to designated accounts**,
So that **accurate financial reconciliation is maintained across internal business units**


**Key Capabilities:**

**Internal Payment Initiation**
User is able to create internal payment transactions between organizational entities with required transfer details.

**Payment Validation & Authorization**
When payment details are submitted, system validates business rules and routes for appropriate authorization based on amount thresholds.

**Cash Allocation Execution**
Upon approval, system automatically allocates funds to destination accounts and updates cash positions.

**Reconciliation & Confirmation**
System generates transaction records for both originating and receiving entities enabling automated reconciliation.


**Acceptance Criteria:**

**Successful Internal Payment Processing**
Given valid internal payment details, When user submits for processing, Then system allocates cash to destination account and confirms transaction.

**Authorization Enforcement**
Given payment exceeds threshold, When submitted, Then system requires appropriate approval before allocation.

**Failed Validation Handling**
Given invalid business entity or insufficient authorization, When payment is submitted, Then system prevents allocation and provides rejection reason.

**Audit Trail Creation**
Given completed internal payment, When transaction is finalized, Then system creates complete audit records for both source and destination.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=790079208"
]

---

#### Feature: Allocate Payments to Specific Invoices
- **Role**: Billing Administrator
- **Action**: allocate accepted payment amounts to specific billing account invoices
- **Value**: outstanding invoices are settled systematically, balances are accurately maintained, and financial records reflect current payment status

**Description:**

As a **Billing Administrator**,
I want to **allocate accepted payment amounts to specific billing account invoices**,
So that **outstanding invoices are settled systematically, balances are accurately maintained, and financial records reflect current payment status**


**Key Capabilities:**

**1. Payment Allocation Request Initiation**
User is able to submit payment allocation requests by specifying target invoice, source payment, and allocation amount against accepted payments.

**2. Payment and Invoice Validation**
Upon request submission, system validates payment existence, invoice status, allocation amount constraints, and invoice eligibility for allocation.
    2.1 When allocation amount exceeds available payment or is non-positive, system prevents allocation.
    2.2 When invoice is discarded or non-existent, system rejects the allocation request.

**3. Suspense Transfer and Account Allocation**
System transfers payment from general suspense to billing account suspense, then allocates to issued invoices following chronological creation order using predefined strategy rules.

**4. Invoice Status and Balance Updates**
When invoices are fully covered by allocated payments, system updates invoice status to paid and clears cached balance figures across payment, product, and billing account entities.


**Acceptance Criteria:**

**1. Successful Single Invoice Allocation**
Given an accepted payment with sufficient available amount, when user allocates to a valid issued invoice, then system transfers amount from general to account suspense, applies to invoice chronologically, and updates invoice status to paid if fully covered.

**2. Allocation Amount Constraint Enforcement**
Given an allocation request, when specified amount is negative, zero, or exceeds available payment balance, then system prevents allocation and notifies user of constraint violation without modifying suspense or invoice records.

**3. Invoice Eligibility Validation**
Given an allocation request targeting specific invoice, when invoice does not exist, is discarded, or lacks issued status, then system rejects allocation and returns appropriate business error.

**4. Partial Allocation and Suspense Retention**
Given allocation amount insufficient to cover all issued invoices, when system completes allocation to earliest invoices, then remaining amount stays in billing account suspense for future application.

**5. Cache Synchronization After Allocation**
Given successful payment allocation, when invoice statuses are updated, then system clears cached balance figures for affected payment, product, and billing account entities to ensure data consistency.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=220839058"
]

---

#### Feature: Allocate Payments by Product
- **Role**: Billing Administrator
- **Action**: allocate accepted payment amounts to product-specific invoices through automated cash application
- **Value**: outstanding balances are systematically resolved, reducing manual intervention and ensuring accurate financial reconciliation

**Description:**

As a **Billing Administrator**,
I want to **allocate accepted payment amounts to product-specific invoices through automated cash application**,
So that **outstanding balances are systematically resolved, reducing manual intervention and ensuring accurate financial reconciliation**


**Key Capabilities:**

**1. Payment Allocation Request Initiation**
User is able to submit allocation requests specifying product identifier, payment reference, and allocation amount for processing.

**2. Multi-Layer Validation & Authorization**
System validates allocation amount positivity, available payment balance sufficiency, product existence, payment existence, and single billing account association.
    2.1 Upon validation failure, system rejects request with specific business rule violation messaging
    2.2 When product associates with multiple billing accounts, system prevents allocation

**3. Suspense Fund Management**
System transfers allocation amount from general funds to billing account suspense as intermediate holding state before invoice application.

**4. Invoice Allocation Strategy Execution**
System applies payment to issued invoices chronologically by creation date following predefined allocation hierarchy rules, updating invoice status to paid when fully covered.


**Acceptance Criteria:**

**1. Successful Product-Based Allocation**
Given an accepted payment with sufficient available balance, When allocation request specifies valid product with single billing account association and issued invoices exist, Then system allocates funds to invoices chronologically and updates statuses to paid.

**2. Suspense Retention for Missing Invoices**
Given valid allocation request, When associated billing account has no invoices in issued status, Then system retains full allocation amount in billing account suspense without exiting with errors.

**3. Validation Boundary Enforcement**
Given allocation request, When amount is negative/zero or exceeds available payment balance or product associates with multiple accounts, Then system rejects request with specific error code before fund movement.

**4. Cache Consistency Maintenance**
Given successful allocation completion, When invoice statuses update, Then system clears payment, product, and billing account balance cache entries ensuring downstream consistency.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=220839085"
]

---

#### Feature: Validate Payment Allocation Amounts
- **Role**: Billing Administrator
- **Action**: validate payment allocation amounts against available funds
- **Value**: payment integrity is maintained and allocation errors are prevented before processing

**Description:**

As a **Billing Administrator**,
I want to **validate payment allocation amounts against available funds**,
So that **payment integrity is maintained and allocation errors are prevented before processing**


**Key Capabilities:**

**Payment Allocation Initiation**
User is able to distribute payment funds across multiple invoices or member records within the payment application workflow

**Real-time Allocation Validation**
Upon submission, system validates that total allocated amounts do not exceed the available payment amount across all selected records

**Error Prevention & Correction**
When allocation exceeds payment amount, system prevents processing and prompts user to adjust allocations before resubmission


**Acceptance Criteria:**

**Valid Allocation Processing**
Given total allocated amounts equal or are less than payment amount, When user submits allocation, Then system proceeds with payment application

**Over-Allocation Prevention**
Given total allocated amounts exceed payment amount, When user attempts submission, Then system blocks processing and notifies user of discrepancy

**Correction Workflow**
Given allocation validation fails, When user acknowledges error, Then system retains entered data and allows correction without data loss


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=549102169"
]

---

#### Feature: Confirm Allocation Override Actions
- **Role**: Billing Administrator
- **Action**: confirm and execute file-based allocation overrides on existing manual payment allocations
- **Value**: ensure accurate cash application while preventing unintended loss of manual allocation work

**Description:**

As a **Billing Administrator**,
I want to **confirm and execute file-based allocation overrides on existing manual payment allocations**,
So that **I can ensure accurate cash application while preventing unintended loss of manual allocation work**.


**Key Capabilities:**

**1. Manual Allocation Entry**
User initiates payment allocation process and provides initial allocation details manually.

**2. File-Based Override Initiation**
User selects allocation file source from local system or enterprise folder repository for automated allocation.

**3. Override Confirmation Gateway**
Upon file selection, system presents allocation override warning requiring explicit user confirmation before proceeding.
    3.1 User confirms override to replace manual allocations with file-based data
    3.2 User cancels to preserve existing manual allocations

**4. Allocation Execution**
When confirmed, system updates draft payment allocation with file-based values, replacing all manual entries.


**Acceptance Criteria:**

**1. Override Warning Trigger**
Given manual allocations exist, When user initiates file-based allocation, Then system prevents automatic execution and displays override confirmation.

**2. Confirmed Override Processing**
Given override warning displayed, When user confirms action, Then system replaces all manual allocation values with file-based allocation data.

**3. Cancelled Override Preservation**
Given override warning displayed, When user cancels action, Then system dismisses warning and retains all existing manual allocations unchanged.

**4. Data Integrity Protection**
Given no explicit confirmation, When override process interrupted, Then system prevents partial allocation updates ensuring data consistency.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=688787693"
]

---

#### Feature: Publish Payment Allocation Events
- **Role**: Billing Administrator
- **Action**: publish automated overpayment events when payment allocations exceed Member Record balances
- **Value**: downstream systems receive real-time overpayment notifications enabling immediate refund processing and accurate financial reconciliation

**Description:**

As a **Billing Administrator**,
I want to **publish automated overpayment events when payment allocations exceed Member Record balances**,
So that **downstream systems receive real-time overpayment notifications enabling immediate refund processing and accurate financial reconciliation**


**Key Capabilities:**

**Payment Creation Evaluation**
Upon payment transaction registration, system evaluates allocated amounts against Member Record balances and identifies overpayment conditions.

**Event Data Assembly**
System aggregates transaction metadata (payment identifiers, dates, currency, method), policy hierarchy (Master Policy and Member Record details with product codes), and overpayment amounts into structured event payload.

**Classification and Routing**
System applies payment type classification (incoming/refund), subtype (manual/automatic), and category (banking/internal/customer credit) to determine event routing rules.

**Audit Trail Establishment**
System captures creation and update timestamps with user attribution for regulatory compliance and operational tracking.


**Acceptance Criteria:**

**Overpayment Detection Accuracy**
Given payment allocation exceeds Member Record balance, When transaction completes, Then system triggers event capturing overpayment amount with complete allocation context.

**Policy Hierarchy Resolution**
Given Self Bill scenario, When event assembles product identifiers, Then system uses Master Policy as Product Item ID; Given non-Self Bill scenario, Then system uses Member Record identifier.

**Payment Classification Completeness**
Given payment creation event, When system publishes event, Then payload includes payment type, subtype, category, and bank processing status per lookup table references.

**Audit Traceability**
Given event publication, When event persists, Then system records occurrence timestamp, transaction dates, user attribution, and activity references for full audit trail.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=733065751"
]

---

#### Feature: Publish Internal Movement Events for Payment Reallocation
- **Role**: Billing Administrator
- **Action**: publish internal events when reallocating payments from unapplied status to member records
- **Value**: downstream systems can track payment movements and maintain accurate financial reconciliation across the enterprise

**Description:**

As a **Billing Administrator**,
I want to **publish internal events when reallocating payments from unapplied status to member records**,
So that **downstream systems can track payment movements and maintain accurate financial reconciliation across the enterprise**


**Key Capabilities:**

**1. Identify Unapplied Payment for Reallocation**
User is able to select payments in unapplied state and designate target member records for allocation.

**2. Execute Payment Reallocation Transaction**
Upon allocation initiation, system transfers payment from unapplied status to specified member record, creating overpayment condition when applicable.

**3. Publish Internal Movement Event**
System generates event containing payment details, allocation information, policy context, and tracking metadata for downstream consumption.

**4. Maintain Audit Trail**
System captures transaction timestamps, user identifiers, and complete payment journey for compliance and reconciliation purposes.


**Acceptance Criteria:**

**1. Successful Reallocation Event Publication**
Given payment exists in unapplied state and valid member record is identified, When reallocation transaction completes, Then system publishes event with complete payment allocation information and audit trail.

**2. Overpayment Condition Handling**
Given payment amount exceeds member record balance, When allocation is processed, Then system creates overpayment condition and includes overpayment indicator in published event.

**3. Incomplete Allocation Prevention**
Given member record or payment data is invalid or incomplete, When reallocation is attempted, Then system prevents transaction and does not publish movement event.

**4. Banking Processing Flag Transmission**
Given payment requires bank processing, When event is published, Then system includes bank processing indicator for payment hub routing.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=585305332"
]

---

#### Feature: Publish Events for Payment Allocation to Invoice Items
- **Role**: Billing Operations
- **Action**: publish standardized payment allocation events when member overpayment is applied to outstanding invoice items
- **Value**: downstream systems receive consistent, comprehensive payment allocation data enabling synchronized financial reporting, accurate account reconciliation, and automated processing without manual intervention

**Description:**

As a Billing Operations,
I want to publish standardized payment allocation events when member overpayment is applied to outstanding invoice items,
So that downstream systems receive consistent, comprehensive payment allocation data enabling synchronized financial reporting, accurate account reconciliation, and automated processing without manual intervention


**Key Capabilities:**

**1. Payment Transaction Registration**
User is able to capture transaction metadata including system-generated identifiers, effective dates, currency, payment classification, banking requirements, and account associations for audit foundation

**2. Source Entity Identification**
User is able to record originating member record details and master policy information (when applicable for group benefits) identifying the overpayment source with product references

**3. Invoice Coverage Mapping**
User is able to associate allocated payments with target invoices including billing period boundaries and due date context

**4. Item-Level Allocation Detail**
User is able to publish granular invoice item allocation amounts with coverage period ranges, product identifiers, and renewal classification for financial accuracy
    4.1 When invoice item period indicates new business timeframe, system calculates renewal indicator as new
    4.2 When invoice item extends beyond initial coverage period, system marks as renewal business

**5. Audit Trail Publication**
User is able to embed complete tracking metadata with user attribution and temporal precision for compliance verification


**Acceptance Criteria:**

**1. Complete Transaction Context**
Given an overpayment allocation occurs, When the event publishes, Then payment identifiers, dates, currency, method classification, and account references are included with banking processing flags

**2. Product Entity Differentiation**
Given group benefits processing, When event generates, Then master policy attributes populate; Given individual benefits, When event generates, Then policy fields remain unpopulated per business model

**3. Multi-Level Allocation Structure**
Given payment covers multiple invoices, When event publishes, Then invoice collection contains each invoice with period boundaries; invoice items collection contains granular allocation amounts per item with coverage periods

**4. Renewal Classification Accuracy**
Given invoice item period and member effective date, When system calculates renewal indicator, Then new business identified when item period ends before 12-month threshold, otherwise renewal designated

**5. Immutable Audit Foundation**
Given any allocation event, When published, Then creation/update attribution with ISO timestamp format ensures non-repudiable tracking for compliance verification


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=583841103"
]

---

#### Feature: Configure Payment Allocation Strategies
- **Role**: Billing Administrator
- **Action**: configure automated payment allocation strategies and business rules
- **Value**: payments are distributed to invoices according to business requirements and billing models

**Description:**

As a **Billing Administrator**,
I want to **configure automated payment allocation strategies and business rules**,
So that **payments are distributed to invoices according to business requirements and billing models**


**Key Capabilities:**

**1. Allocation Strategy Definition**
Configure sequential allocation approaches per bill type and payment mode, establishing primary and fallback methods (rule-based distribution or remittance file processing)

**2. Rule-Based Allocation Parameters**
Define business constraints for automated payment processing including gap allowance, amount mismatch handling, and partial invoice coverage permissions

**3. Priority Sequencing Configuration**
Establish coverage priority hierarchies using invoicing period, premium sequence, or product groupings to govern payment distribution during partial coverage scenarios

**4. Fallback Processing Orchestration**
System cascades through configured approaches when allocation fails, routing unallocated amounts to suspense balances when all strategies are exhausted


**Acceptance Criteria:**

**1. Strategy Sequence Execution**
Given multiple allocation approaches configured, When payment processing initiates, Then system attempts approaches in defined order until successful allocation or exhaustion

**2. Parameter-Driven Constraint Enforcement**
Given parameter restrictions configured, When automated payment violates constraints (amount mismatch with allowAllocationOfMismatchedAmounts=FALSE), Then entire payment routes to unapplied balance or next approach

**3. Priority Rule Application**
Given usePriorityRules=TRUE and coverage priority order defined, When partial payment requires distribution, Then system allocates amounts following configured priority hierarchy (e.g., oldest invoicing period first)

**4. Approach-Specific Applicability**
Given remittance file approach configured, When bill type is True Group or Self-Bill, Then system skips remittance approach and proceeds to rule-based allocation

**5. Suspense Balance Routing**
Given all configured approaches fail or are inapplicable, When allocation process completes, Then payment moves to unapplied balance with unallocated status


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=550281247"
]

---

#### Feature: Integrate Payment Allocation with OpenL Rules
- **Role**: Billing Administrator
- **Action**: integrate payment allocation processing with OpenL rules engine for automated cash application and suspense management
- **Value**: ensure consistent, auditable allocation decisions while reducing manual intervention and processing errors

**Description:**

As a **Billing Administrator**,
I want to **integrate payment allocation processing with OpenL rules engine for automated cash application and suspense management**,
So that **ensure consistent, auditable allocation decisions while reducing manual intervention and processing errors**


**Key Capabilities:**

**Payment Receipt and Classification**
User is able to receive incoming payments and classify them for allocation processing through rules-based evaluation.

**Rules-Driven Allocation Processing**
When payment details are submitted, system executes OpenL rules to determine allocation strategy based on business policies and account status.

**Automated Cash Application**
Upon successful rule execution, system automatically applies allocated amounts to corresponding accounts and obligations.

**Suspense Account Management**
If allocation cannot be determined, system routes payment to suspense with rule-defined resolution workflows.

**Allocation Audit Trail**
System captures rule execution decisions and allocation history for compliance reporting.


**Acceptance Criteria:**

**Successful Rule-Based Allocation**
Given a payment with complete matching criteria, When OpenL rules are executed, Then system allocates payment to identified accounts without manual intervention.

**Suspense Routing for Unmatched Payments**
Given a payment that fails matching rules, When allocation is attempted, Then system places payment in suspense with appropriate business reason code.

**Rule Version Traceability**
Given an allocation transaction, When audit is performed, Then system displays the specific OpenL rule version that determined the allocation decision.

**Error Handling for Rule Execution Failures**
Given a rule execution exception, When processing is interrupted, Then system logs error details and prevents partial allocation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=647409793"
]

---

#### Feature: Notify Payment Allocation Failures
- **Role**: Billing Administrator
- **Action**: receive automated notifications when payment allocation failures occur during cash application processing
- **Value**: unallocated payments are promptly identified and resolved, preventing revenue leakage and maintaining accurate accounts receivable records

**Description:**

As a **Billing Administrator**,
I want to **receive automated notifications when payment allocation failures occur during cash application processing**,
So that **unallocated payments are promptly identified and resolved, preventing revenue leakage and maintaining accurate accounts receivable records**


**Key Capabilities:**

**1. Failure Detection & Capture**
System identifies payments that cannot be automatically allocated to policies or invoices due to missing references, mismatches, or business rule violations

**2. Notification Trigger & Delivery**
System generates real-time alerts to designated billing personnel when allocation failures occur, including suspense account placements

**3. Failure Context Provision**
Notification includes payment details, failure reason codes, and sufficient business context to enable investigation and remediation


**Acceptance Criteria:**

**1. Automatic Detection**
Given a payment fails allocation rules, When the system moves it to suspense, Then designated administrators receive notification within defined timeframes

**2. Comprehensive Failure Information**
Given an allocation failure notification is triggered, When delivered to recipients, Then it contains payment identifier, amount, failure classification, and originating transaction reference

**3. Suspense Account Integration**
Given multiple payments fail allocation during a processing cycle, When notifications are generated, Then each suspense entry is uniquely referenced for subsequent research and resolution tracking


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=743442037"
]

---

#### Feature: Notify Payment Unallocation Failures
- **Role**: Billing Administrator
- **Action**: monitor and respond to payment allocation failures through business activity alerts
- **Value**: I can promptly identify and resolve cash allocation issues to maintain accurate account reconciliation and minimize suspense account balances

**Description:**

As a **Billing Administrator**,
I want to **monitor and respond to payment allocation failures through business activity alerts**,
So that **I can promptly identify and resolve cash allocation issues to maintain accurate account reconciliation and minimize suspense account balances**


**Key Capabilities:**

**1. Failure Detection & Alert Generation**
System identifies payment transactions failing allocation rules and triggers business activity monitoring notifications

**2. Notification Access & Review**
User navigates to BAM module via incoming links to review unallocation failure alerts with transaction context

**3. Root Cause Investigation**
User accesses related system components through outgoing links to analyze allocation failure reasons and account status

**4. Resolution Initiation**
User determines corrective action pathway based on failure type and navigates to appropriate transaction management interface


**Acceptance Criteria:**

**1. Failure Alert Generation**
Given a payment fails allocation criteria, When the system processes the transaction, Then a BAM notification is created with failure classification

**2. Bidirectional Navigation**
Given an unallocation failure exists, When user accesses BAM module, Then incoming and outgoing links enable navigation to related payment and account contexts

**3. Context Preservation**
Given user navigates via BAM links, When accessing related components, Then transaction identification and failure details are maintained across system boundaries

**4. Access Control**
Given user lacks BAM permissions, When attempting to access failure notifications, Then system prevents unauthorized visibility


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=722704538"
]

---

#### Feature: Export Payment Allocation Details
- **Role**: Billing Administrator
- **Action**: export finalized payment allocation data for downstream processing and reporting
- **Value**: I can share accurate cash application results with external systems and stakeholders for reconciliation and audit purposes

**Description:**

As a **Billing Administrator**,
I want to **export finalized payment allocation data for downstream processing and reporting**,
So that **I can share accurate cash application results with external systems and stakeholders for reconciliation and audit purposes**


**Key Capabilities:**

**1. Initiate Export Operation**
User is able to trigger export of payment allocation records when cash application processing is complete.

**2. Validate Export Readiness**
System verifies payment details are complete, allocated transactions are finalized, and data integrity standards are met before export.

**3. Generate Export Package**
System compiles payment allocation data including transaction details, allocation breakdowns, and suspense resolutions into exportable format.

**4. Deliver Export Output**
System provides export package for downstream consumption, maintaining compliance with payment processing and data security standards.


**Acceptance Criteria:**

**1. Successful Export Execution**
Given payment allocation is finalized, When user initiates export operation, Then system generates complete export package with all transaction details.

**2. Incomplete Data Prevention**
Given payment records contain incomplete allocation data, When export is attempted, Then system prevents submission and identifies missing information.

**3. Data Integrity Validation**
Given export package is generated, When system validates content, Then all payment totals reconcile and allocation breakdowns match source records.

**4. Compliance Maintenance**
Given export contains sensitive payment data, When package is delivered, Then system applies security standards and maintains audit trail.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=699244545"
]

---

### Epic: Payment Reception & Remittance Management

#### Feature: Capture Payment Remittance Files
- **Role**: Billing Administrator
- **Action**: receive and capture external payment remittance files into the system
- **Value**: payment data is accurately recorded and available for cash application processing

**Description:**

As a **Billing Administrator**,
I want to **receive and capture external payment remittance files into the system**,
So that **payment data is accurately recorded and available for cash application processing**


**Key Capabilities:**

**1. Payment File Reception**
User is able to receive payment remittance files from external sources through configured channels (EDI, SFTP, portal upload)

**2. File Validation & Processing**
Upon file receipt, system validates file format, structure, and required payment metadata before acceptance

**3. Payment Data Extraction**
System extracts remittance details including payer information, payment amounts, and transaction references for downstream processing

**4. Exception Handling**
When validation failures occur, system routes files to exception queue with descriptive error indicators for resolution

**5. Confirmation & Audit Trail**
System generates confirmation of successful capture and maintains complete audit trail of all file reception activities


**Acceptance Criteria:**

**1. Successful File Capture**
Given valid remittance file is received, When system processes the file, Then payment data is extracted and staged for cash application

**2. Format Validation**
Given file does not meet expected format standards, When validation occurs, Then system rejects file and creates exception record

**3. Duplicate Prevention**
Given file with duplicate transaction identifier is submitted, When system checks for duplicates, Then file is flagged and prevented from reprocessing

**4. Audit Completeness**
Given any file reception event occurs, When transaction is recorded, Then complete audit trail captures timestamp, source, and processing outcome

**5. Exception Notification**
Given file processing failure occurs, When exception is logged, Then designated personnel receive notification for resolution


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=757143845"
]

---

#### Feature: Generate Payment Receipts
- **Role**: Billing Administrator
- **Action**: manage premium payment receipts throughout their lifecycle from issuance through payment confirmation
- **Value**: policy owners receive accurate proof of payment and internal financial records remain synchronized with payment status

**Description:**

As a **Billing Administrator**,
I want to **manage premium payment receipts throughout their lifecycle from issuance through payment confirmation**,
So that **policy owners receive accurate proof of payment and internal financial records remain synchronized with payment status**


**Key Capabilities:**

**Receipt Issuance**
Upon invoice generation, system creates receipt record with 'Issued' status linked to policy premium obligation without generating physical document.

**Payment Allocation & Finalization**
When payment amount equals or exceeds invoice amount, system generates receipt document, updates status to 'Paid', and provides proof of full payment.

**Receipt Splitting**
User is able to divide single receipt into multiple receipts by allocating invoice amounts and participant counts across new receipts for internal financial processing before payment received.

**Pre-Issue Receipt Document**
If customer requires documentation before full payment, user executes pre-issue function to generate receipt document while maintaining 'Issued' status until payment completes.

**Receipt Cancellation**
When receipt in 'Issued' status requires cancellation due to replacement needs or policy changes, user discards receipt updating status to 'Discarded'.


**Acceptance Criteria:**

**1. Receipt Creation & Payment Confirmation**
Given invoice is generated for premium, when payment equals or exceeds invoice amount, then system generates receipt document and updates status to 'Paid'.

**2. Receipt Split Validation**
Given receipt in 'Issued' status, when user splits receipt, then sum of split invoice amounts and participant counts must equal original totals and all splits remain in 'Issued' status.

**3. Pre-Issue Document Generation**
Given receipt in 'Issued' status with no full payment, when user executes pre-issue function, then document generates while status remains 'Issued' until payment completes.

**4. Receipt Cancellation Control**
Given receipt in 'Issued' status, when user discards receipt, then status updates to 'Discarded' and system prevents discard attempts on 'Paid' receipts.

**5. Payment Validation Logic**
Given payment received, when system compares payment amount to receipt amount, then receipt status updates to 'Paid' only when payment meets or exceeds receipt amount.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=737155443"
]

---

#### Feature: Manage Payment Method Structures
- **Role**: Billing Administrator
- **Action**: configure and apply payment method structures to ensure compliant payment processing
- **Value**: payments are captured with required data elements and business rules are enforced consistently across all payment channels

**Description:**

As a **Billing Administrator**,
I want to **configure and apply payment method structures to ensure compliant payment processing**,
So that **payments are captured with required data elements and business rules are enforced consistently across all payment channels**


**Key Capabilities:**

**Payment Method Structure Configuration**
System enables definition of payment method structures with mandatory and optional data requirements for each payment type.

**Structure Validation During Payment Reception**
When a payment is submitted, the system validates against the configured structure for the selected payment method type and prevents incomplete submissions.

**Rule-Based Field Enforcement**
Upon payment method selection, the system dynamically applies business rules to enforce required data elements based on payment type classification.

**Multi-Channel Structure Application**
Configured structures are consistently applied across manual payment entry, batch import, and automated payment processing channels.


**Acceptance Criteria:**

**Structure Definition Completeness**
Given a payment method type is configured, When the administrator saves the structure, Then the system requires at least one mandatory field and validates field compatibility.

**Payment Validation Against Structure**
Given a check payment is submitted, When mandatory fields (check number, date, amount, reference) are missing, Then the system prevents processing and notifies the user of incomplete data.

**Optional Field Handling**
Given a check payment with only mandatory fields, When the payment is submitted, Then the system accepts and processes without requiring optional fields.

**Cross-Channel Consistency**
Given a payment method structure is configured, When payments are received through any channel, Then identical validation rules are applied uniformly.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=256772702"
]

---

#### Feature: Manage EFT/ACH Payment Method Structures
- **Role**: Billing Administrator
- **Action**: configure electronic funds transfer payment methods with required banking and account holder credentials
- **Value**: customers can initiate automated payments through secure bank account connections while ensuring regulatory compliance and payment traceability

**Description:**

As a **Billing Administrator**,
I want to **configure electronic funds transfer payment methods with required banking and account holder credentials**,
So that **customers can initiate automated payments through secure bank account connections while ensuring regulatory compliance and payment traceability**


**Key Capabilities:**

**Payment Method Designation**
User is able to designate payment method type as Electronic Funds Transfer to initiate configuration workflow.

**Banking Credential Capture**
User provides mandatory banking infrastructure details including transit routing number, financial institution name, and account number.

**Account Holder Identification**
User selects one of two mutually exclusive identification approaches: individual account holder credentials or organizational entity credentials. When individual approach is selected, personal name components are required. When organizational approach is selected, entity name is required.

**Validity Period Definition**
User is able to optionally establish effective and expiration dates to control temporal availability of the payment method.

**Configuration Validation**
Upon submission, system validates completeness of mandatory banking credentials and account holder identification before persisting payment method structure.


**Acceptance Criteria:**

**Complete Banking Credentials**
Given administrator initiates EFT payment method configuration, When all mandatory banking fields are provided with valid account holder identification, Then system successfully persists payment method structure and enables it for transaction processing.

**Mutual Exclusivity Enforcement**
Given administrator provides individual account holder credentials, When organizational entity credentials are simultaneously provided, Then system rejects configuration and prevents dual identification methods.

**Incomplete Information Prevention**
Given administrator submits EFT configuration, When mandatory banking credentials or account holder identification is missing, Then system prevents persistence and indicates missing required information.

**Temporal Validity Control**
Given administrator establishes expiration date, When current date exceeds expiration threshold, Then system automatically restricts payment method availability for new transactions.

**Cross-LOB Consistency**
Given EFT payment method is configured, When applied across multiple lines of business, Then system maintains consistent banking credential requirements and validation rules.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=256772893"
]

---

#### Feature: Create Payments Manually
- **Role**: Billing Administrator
- **Action**: create and apply payments manually while establishing payment methods as needed during the workflow
- **Value**: I can complete payment processing in a single session without interrupting the workflow to pre-configure payment methods separately

**Description:**

As a **Billing Administrator**,
I want to **create and apply payments manually while establishing payment methods as needed during the workflow**,
So that **I can complete payment processing in a single session without interrupting the workflow to pre-configure payment methods separately**


**Key Capabilities:**

**Payment Method On-Demand Creation**
When processing payments for active billing accounts, user is able to initiate payment method creation without abandoning the payment application workflow.

**Seamless Payment Method Integration**
Upon successful payment method creation, system automatically returns to payment application with the new method pre-selected for immediate use.

**Multi-Channel Payment Application Support**
User is able to apply this capability across various payment scenarios including unapplied payments, allocation-based payments, manual allocation, and self-bill processes.

**Workflow Context Preservation**
System preserves all payment details and context when transitioning between payment application and payment method creation interfaces.


**Acceptance Criteria:**

**Payment Method Creation Trigger**
Given user is applying payment to an active account, when payment method is unavailable, then system enables on-demand creation without workflow termination.

**Automatic Method Selection**
Given payment method is successfully created, when user returns to payment application, then newly created method is automatically selected and ready for transaction completion.

**Workflow Continuity Validation**
Given user initiates payment method creation mid-workflow, when method creation completes or is cancelled, then system returns to original payment screen with all previously entered data intact.

**Cross-Process Compatibility**
Given various payment application scenarios exist, when user requires new payment method, then creation capability is consistently available across all supported payment workflows.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=549103439"
]

---

#### Feature: Create Payments Automatically from External Sources
- **Role**: Billing Administrator
- **Action**: automate payment reception and allocation from third-party systems
- **Value**: payments are processed efficiently without manual intervention, reducing processing time and allocation errors

**Description:**

As a **Billing Administrator**,
I want to **automate payment reception and allocation from third-party systems**,
So that **payments are processed efficiently without manual intervention, reducing processing time and allocation errors**


**Key Capabilities:**

**Payment Validation & Intake**
System validates inbound payment data against business rules and required parameters. Upon successful validation, system initiates draft payment request creation using configured mapping rules.

**Allocation Strategy Determination**
System evaluates allocation configuration settings and payment attributes (billing account, invoice references). If invoice number provided, system validates invoice eligibility before proceeding.

**Automated Payment Application**
System allocates payment according to strategy rules across invoices, member records, or unapplied balances. System generates balance register operations and updates account statuses.

**Exception Handling**
When validation fails or allocation cannot complete, system notifies payment hub with error details and suspends payment for manual review.


**Acceptance Criteria:**

**Successful Automated Allocation**
Given payment hub routes validated payment to billing, When all business rules pass and allocation strategy executes successfully, Then system creates finalized payment with linked invoice items, updates account balances, and notifies external systems.

**Validation Failure Handling**
Given payment data fails mandatory validation checks, When system detects missing or invalid parameters, Then system suspends payment in payment hub with specific error codes without creating billing records.

**Configuration-Based Routing**
Given automated allocation is disabled in configuration, When system evaluates allocation settings, Then system applies payment to unapplied balance and completes processing without invoice linkage.

**Invoice Validation Enforcement**
Given payment references specific invoice number, When invoice validation executes, Then system prevents allocation if invoice is ineligible and routes to exception workflow.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=523014967"
]

---

#### Feature: Validate Payment Method Details
- **Role**: Billing Administrator
- **Action**: validate and authorize payment methods across transaction contexts
- **Value**: transactions are processed securely with appropriate payment instruments based on business rules and customer authorization

**Description:**

As a **Billing Administrator**,
I want to **validate and authorize payment methods across transaction contexts**,
So that **transactions are processed securely with appropriate payment instruments based on business rules and customer authorization**


**Key Capabilities:**

**1. Payment Method Availability Assessment**
System evaluates active payment methods based on effective/expiration dates and transaction context (one-time payment, refund, or recurring billing setup). Available options are filtered and displayed according to context-specific business rules.

**2. Context-Specific Method Selection**
User selects payment method from available options. System enforces required vs. optional selection rules based on transaction type and banking processing requirements.
    2.1 When no methods available, system disables selection and displays placeholder notification.

**3. Recurring Payment Authorization**
When configuring billing accounts with credit card or EFT/ACH methods, user authorizes recurring payment usage through confirmation mechanism.

**4. Payment Method Configuration**
User creates new payment methods when supported by context. System registers method in customer portfolio for future transactions.


**Acceptance Criteria:**

**1. Active Payment Method Filtering**
Given payment methods exist with effective/expiration dates, When user accesses any payment context, Then system displays only methods meeting active criteria (effective date  current date, expiration date > current date or empty).

**2. Context-Based Method Availability**
Given user accesses recurring billing setup, When check or cash is selected, Then system prevents recurring payment authorization. Given credit card or EFT/ACH is selected, Then system enables recurring authorization controls.

**3. Mandatory Selection Enforcement**
Given user initiates one-time payment with banking processing required, When attempting submission without payment method, Then system prevents transaction completion. Given refund transaction, When no method selected, Then system blocks submission.

**4. Recurring Authorization Validation**
Given billing account setup with credit card or EFT/ACH, When user submits without enabling recurring authorization, Then system prevents recurring payment configuration.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=610898101",
  "/pages/viewpage.action?pageId=570106881",
  "/pages/viewpage.action?pageId=514008923"
]

---

#### Feature: Obfuscate Sensitive Payment Data
- **Role**: Billing Administrator
- **Action**: securely manage sensitive payment information through obfuscation and tokenization
- **Value**: financial data is protected from unauthorized access while maintaining operational visibility

**Description:**

As a **Billing Administrator**,
I want to **securely manage sensitive payment information through obfuscation and tokenization**,
So that **financial data is protected from unauthorized access while maintaining operational visibility**


**Key Capabilities:**

**1. Payment Method Registration**
User is able to establish EFT/ACH payment methods by providing bank account credentials and payment profile details for authorization processing.

**2. Dual-Format Data Persistence**
System securely stores bank account numbers in obfuscated format (masking all but last 4 digits) and tokenized reference format for transaction processing.

**3. Protected Data Display**
System renders all sensitive account numbers using masked display format across all operational interfaces, revealing only validation digits.

**4. Post-Creation Data Lock**
Upon payment method activation, system enforces non-editability of account numbers to prevent unauthorized modifications and maintain audit integrity.


**Acceptance Criteria:**

**1. Secure Storage Validation**
Given a payment method is created, When bank account number is persisted, Then system stores both obfuscated format (last 4 digits visible) and tokenized profileId reference.

**2. Display Protection**
Given sensitive data exists, When user views payment method details, Then system displays account number in masked format showing only last 4 digits with preceding masking symbols.

**3. Edit Prevention**
Given payment method creation is complete, When user attempts to modify bank account number, Then system prevents any edits to protected financial data fields.

**4. Complete Profile Registration**
Given all required banking credentials are provided, When submission occurs, Then system validates completeness and establishes operational payment method.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=622802945"
]

---

#### Feature: Process Recurring Payments
- **Role**: Billing Administrator
- **Action**: automate recurring payment generation and allocation for billing accounts
- **Value**: I can ensure timely payment collection, reduce manual intervention, and maintain positive cash flow through systematic invoice settlement

**Description:**

As a **Billing Administrator**,
I want to **automate recurring payment generation and allocation for billing accounts**,
So that **I can ensure timely payment collection, reduce manual intervention, and maintain positive cash flow through systematic invoice settlement**


**Key Capabilities:**

**1. Recurring Payment Job Initiation**
System launches scheduled or manual job to identify billing accounts authorized for recurring payment processing based on configuration toggles.

**2. Eligibility Validation & Hold Verification**
User is able to validate payment method status, verify absence of billing account holds, and confirm waiting period compliance before processing.

**3. Invoice Selection & Payment Calculation**
System retrieves issued or partially paid invoices, calculates payment dates using due date offsets, and determines payment amounts per business rules.

**4. Payment Generation & Allocation**
System creates recurring payments with bank processing attributes, publishes billing events, and allocates amounts to invoices using configured strategies.


**Acceptance Criteria:**

**1. Successful Payment Generation**
Given billing accounts are enabled for recurring payments and meet eligibility criteria, When the job executes, Then system generates allocated payments with correct attributes and allocation.

**2. Hold Prevention**
Given an active recurring payment hold exists on the billing account, When the job processes the account, Then system skips payment generation and publishes hold notification messages.

**3. Payment Method Expiration Handling**
Given the payment method has expired, When validation occurs, Then system triggers expiration event and excludes the account from processing.

**4. Waiting Period Enforcement**
Given current system date precedes setup date plus waiting period, When eligibility check runs, Then system skips the account until period elapses.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=579237058"
]

---

#### Feature: Allocate Payments to Invoices Automatically
- **Role**: Billing Administrator
- **Action**: integrate and allocate payments from external payment systems to customer invoices automatically
- **Value**: payments are processed efficiently without manual intervention, reducing errors and accelerating cash application

**Description:**

As a **Billing Administrator**,
I want to **integrate and allocate payments from external payment systems to customer invoices automatically**,
So that **payments are processed efficiently without manual intervention, reducing errors and accelerating cash application**


**Key Capabilities:**

**1. Payment Reception & Registration**
System captures incoming payment transactions from external platform with unique identifiers, amount, currency, payment method details, and payor information for new payment entries.

**2. Payment Status Management**
When payment status indicates declined, reversed, or suspended conditions, system requires reason code and captures additional context for audit trail.

**3. Payment Reallocation Processing**
Upon reallocating existing payments from suspense accounts, system preserves original payment attributes including subtype, channel, and amounts to maintain data integrity.

**4. Payment Method Handling**
System processes method-specific details based on payment type: tokenized card profiles for credit cards, check numbers and dates for checks, or account and transit information for electronic transfers.


**Acceptance Criteria:**

**1. New Payment Integration**
Given external payment system submits new transaction, When core payment data with unique identifier and amount is received, Then system registers payment with mandatory attributes and timestamp.

**2. Declined Payment Handling**
Given payment status is declined or suspended, When reason code is provided as 'Other', Then system requires additional information field to complete registration.

**3. Suspense Reallocation Integrity**
Given existing payment being reallocated from suspense, When reallocation is processed, Then system preserves original payment subtype, channel, and verifies amount matches existing records.

**4. Effective Date Determination**
Given bank processing date is unavailable, When system determines effective date, Then system applies fallback hierarchy: check date first, then registration timestamp if needed.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=521348770"
]

---

#### Feature: Allocate Payments to Invoices Manually
- **Role**: Billing Administrator
- **Action**: manually allocate payment amounts to invoices and save allocations in draft status before final application
- **Value**: I can validate allocation accuracy and defer balance updates until verification is complete, reducing errors and supporting multi-step approval workflows

**Description:**

As a **Billing Administrator**,
I want to **manually allocate payment amounts to invoices and save allocations in draft status before final application**,
So that **I can validate allocation accuracy and defer balance updates until verification is complete, reducing errors and supporting multi-step approval workflows**


**Key Capabilities:**

**1. Payment Allocation Initiation**
User initiates payment application via selected allocation strategy (Individual Premium Accounting, True Group, Individual Direct manual allocation, or Unapplied routing)

**2. Draft Persistence**
User is able to save payment details and invoice allocations without applying amounts or updating account balances; payment status transitions to initiated/draft state per lifecycle rules

**3. Allocation Validation**
When allocated amount exceeds payment amount, system prompts for confirmation; user may proceed with save after acknowledgment or cancel to revise allocations

**4. Session Management**
User is able to exit and resume later (draft accessible from billing account), or continue editing within same session to complete application

**5. Draft Amendment**
Upon saving with exit, user may modify draft payment via edit function or remove via delete function before final application


**Acceptance Criteria:**

**1. Draft Save Without Balance Impact**
Given payment details are entered with invoice allocations, When user saves as draft, Then system persists allocation data without updating invoice balances or payment statuses beyond draft state

**2. Over-Allocation Warning**
Given allocated amount exceeds payment amount, When user attempts to save, Then system displays confirmation prompt allowing user to proceed or cancel

**3. Session Continuity**
Given user saves draft without exit, When save completes, Then user remains on payment page with ability to apply payment immediately

**4. Exit and Re-Entry**
Given user saves and exits, When navigating to billing account, Then draft payment appears in account card and remains editable until applied

**5. Allocation Strategy Support**
Given different allocation modes (True Group, Individual Premium Accounting), When user initiates payment, Then system enables manual allocation and draft save for all supported modes


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=549099968"
]

---

#### Feature: Allocate Payments via Remittance File
- **Role**: Billing Administrator
- **Action**: upload and process payment allocation files to distribute received payments against outstanding invoices
- **Value**: payments are accurately applied to member accounts according to business rules, reducing manual reconciliation effort and ensuring timely account updates

**Description:**

As a **Billing Administrator**,
I want to **upload and process payment allocation files to distribute received payments against outstanding invoices**,
So that **payments are accurately applied to member accounts according to business rules, reducing manual reconciliation effort and ensuring timely account updates**


**Key Capabilities:**

**1. Remittance File Submission**
User provides payment allocation file in supported format (csv/xlsx) through file selection or drag-and-drop mechanism

**2. Allocation Strategy Selection**
User determines allocation approach: standard distribution to earliest outstanding invoices or targeted allocation to specific invoice

**3. File Validation & Integrity Check**
System validates file structure, data content, and format compliance for Individual Premium Accounting payments per established validation rules

**4. Payment Distribution Execution**
System applies payments to member records following designated business rules: standard remittance logic or invoice-specific distribution based on user selection


**Acceptance Criteria:**

**1. Successful Standard Allocation**
Given a valid remittance file is submitted without specific invoice targeting, When the allocation process executes, Then system distributes payments to earliest outstanding invoices per standard business rules

**2. Successful Targeted Allocation**
Given user selects specific invoice allocation mode and provides valid file, When invoice is selected and process executes, Then system applies payments exclusively to the designated invoice

**3. File Format Validation**
Given user attempts file submission, When file format is not csv or xlsx, Then system prevents upload and allocation process does not initiate

**4. Data Integrity Protection**
Given file contains structural or content violations, When validation executes, Then system rejects allocation and prevents financial posting


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=643030436"
]

---

#### Feature: Select Remittance Files from E-Folder
- **Role**: Billing Administrator
- **Action**: select and allocate remittance files from the electronic document repository to distribute payments across member accounts
- **Value**: payments are accurately applied to outstanding member balances according to remittance instructions, reducing manual reconciliation effort and improving cash application timeliness

**Description:**

As a **Billing Administrator**,
I want to **select and allocate remittance files from the electronic document repository to distribute payments across member accounts**,
So that **payments are accurately applied to outstanding member balances according to remittance instructions, reducing manual reconciliation effort and improving cash application timeliness**


**Key Capabilities:**

**1. Remittance File Retrieval**
User accesses billing account's electronic folder repository to view available payment files from the designated payments subfolder.

**2. File Selection and Validation**
User selects a single remittance file; system validates file format, structure, and required allocation data columns before enabling allocation actions.

**3. Allocation Scope Configuration**
User determines whether to allocate payments broadly across earliest outstanding invoices or target a specific invoice for payment application.

**4. Payment Distribution Execution**
System processes the remittance file and distributes payment amounts to member records according to business rules and selected allocation scope.
    4.1 When targeting specific invoices, system prompts for invoice selection before executing distribution.
    4.2 Upon validation failure, system prevents allocation and displays error diagnostics.


**Acceptance Criteria:**

**1. Repository Access and Display**
Given billing account has associated electronic folder, When user initiates file selection, Then system displays remittance files from payments subfolder with metadata.

**2. File Validation and Enablement**
Given user selects a file, When file passes format and data validation, Then system enables allocation action; otherwise displays validation errors.

**3. General Payment Allocation**
Given allocation scope is unrestricted, When user confirms allocation, Then system distributes payment to member records starting from earliest outstanding balances.

**4. Invoice-Specific Allocation**
Given user selects specific invoice allocation, When user confirms target invoice, Then system applies payment exclusively to that invoice's member records.

**5. Transaction Cancellation**
Given allocation is in progress, When user cancels operation, Then system terminates process without applying payments.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=691641245"
]

---

#### Feature: Manage Payment Lifecycle States
- **Role**: Billing Operations
- **Action**: manage payment lifecycle state transitions from acceptance through final resolution
- **Value**: payments are systematically tracked and reach appropriate terminal states with full audit visibility

**Description:**

As a **Billing Operations**,
I want to **manage payment lifecycle state transitions from acceptance through final resolution**,
So that **payments are systematically tracked and reach appropriate terminal states with full audit visibility**


**Key Capabilities:**

**Payment Acceptance Processing**
User is able to initiate payment into the system where it transitions to 'Accept' status, establishing the entry point for lifecycle tracking.

**Payment Issuance Progression**
Upon acceptance validation, payment automatically advances to 'Issued' status, formally committing it for final resolution processing.

**Terminal State Resolution**
When payment processing completes, system routes to appropriate terminal state: 'Cleared' for successful transactions or 'Declined' for unsuccessful ones, preventing further state changes.


**Acceptance Criteria:**

**Mandatory Sequential Progression**
Given a payment entering the system, When it is accepted, Then it must transition through Accept  Issued sequence before reaching any terminal state.

**Dual Terminal Outcome Enforcement**
Given payment in 'Issued' status, When processing concludes, Then system assigns exclusively either 'Cleared' or 'Declined' terminal state.

**Terminal State Immutability**
Given payment reaches 'Cleared' or 'Declined' status, When attempting further transitions, Then system prevents any state modifications and maintains finality.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=296048874"
]

---

#### Feature: Decline Payments
- **Role**: Billing Administrator
- **Action**: decline payments that cannot be processed or are invalid
- **Value**: funds are properly managed and payment records accurately reflect their non-acceptance status

**Description:**

As a **Billing Administrator**,
I want to **decline payments that cannot be processed or are invalid**,
So that **funds are properly managed and payment records accurately reflect their non-acceptance status**


**Key Capabilities:**

**Payment Decline Initiation**
User is able to identify and select a payment requiring rejection based on business rules or validation failures

**Decline Processing Execution**
System transitions the payment entity to declined status, recording the business reason and preserving complete payment details including amount, currency, method, and account information

**Payment State Update**
System updates entity metadata with decline timestamp, revision tracking, and processing audit trail

**Decline Confirmation**
Upon successful processing, system returns updated payment entity reflecting declined status for downstream reconciliation and reporting activities


**Acceptance Criteria:**

**1. Valid Decline Processing**
Given a payment exists in processable state, When administrator initiates decline operation with valid payment identifier, Then system updates payment status to declined and returns complete updated entity

**2. Payment Information Preservation**
Given payment is declined, When decline processing completes, Then system retains all original payment details including amount, currency, effective date, method, and account holder information

**3. Invalid Request Handling**
Given invalid payment identifier or processing error occurs, When decline operation is attempted, Then system prevents state change and returns appropriate error notification

**4. Audit Trail Creation**
Given decline processing succeeds, When payment state changes, Then system records decline timestamp, revision number, and processing metadata for compliance tracking


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=318711424"
]

---

#### Feature: Accept Payments to Billing Account
- **Role**: Billing Administrator
- **Action**: register and record incoming payment transactions or outgoing refunds against customer billing accounts
- **Value**: payment activities are accurately captured, tracked, and processed with complete transaction history and appropriate downstream system notifications

**Description:**

As a **Billing Administrator**,
I want to **register and record incoming payment transactions or outgoing refunds against customer billing accounts**,
So that **payment activities are accurately captured, tracked, and processed with complete transaction history and appropriate downstream system notifications**


**Key Capabilities:**

**Payment Transaction Registration**
System captures payment event upon acceptance to billing account, recording transaction and effective dates, amount, currency, and system-generated unique payment number with current status.

**Payment Classification & Routing**
System categorizes payment by type (incoming payment or outgoing refund), subtype (manual or automatic initiation), category (Banking, Internal, Customer Credit), and method, determining processing requirements.

**Bank Processing Coordination**
When bank processing is required, system flags transaction and notifies Payment Hub that payment record exists but funds not yet received, enabling proper downstream handling.

**Account & Customer Linkage**
System associates payment with billing account number and customer identifier (Organization or Individual), establishing complete transaction context and ownership.

**Audit Trail Maintenance**
System records tracking information including creator, creation timestamp, last updater, and update timestamp for compliance and operational transparency.


**Acceptance Criteria:**

**Complete Payment Information Captured**
Given a payment is accepted to billing account, When transaction is registered, Then system records all general payment information (dates, identifiers, amounts, currency, types, categories, method, processing flags) and links to billing account and customer.

**Payment Type Differentiation**
Given payment direction varies, When transaction is processed, Then system correctly classifies as incoming payment or outgoing refund based on money flow direction.

**Bank Processing Flag Applied**
Given payment requires bank processing, When payment record is created but funds not received, Then system sets processing flag and notifies Payment Hub of pending status.

**Audit Trail Established**
Given payment transaction occurs, When record is created or updated, Then system captures creator/updater identity and timestamps in standard format for compliance tracking.

**Unique Payment Identification**
Given new payment is registered, When transaction is recorded, Then system generates unique payment number and maintains payment reference link for transaction traceability.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=581112291"
]

---

#### Feature: Generate Payment Creation BAM Messages
- **Role**: Billing Administrator
- **Action**: generate Business Activity Monitoring (BAM) messages for payment creation events
- **Value**: payment processing activities are tracked, audited, and integrated with downstream systems for compliance and operational visibility

**Description:**

As a **Billing Administrator**,
I want to **generate Business Activity Monitoring (BAM) messages for payment creation events**,
So that **payment processing activities are tracked, audited, and integrated with downstream systems for compliance and operational visibility**


**Key Capabilities:**

**Payment Event Capture**
System captures payment creation activities including transaction milestones and business context.

**BAM Message Assembly**
System structures captured payment data into standardized BAM message format with required metadata and identifiers.

**Message Transmission**
System transmits generated BAM messages to configured monitoring and integration endpoints.

**Transmission Verification**
Upon successful delivery, system records confirmation; if transmission fails, system initiates retry logic and alerts administrators.


**Acceptance Criteria:**

**Successful Message Generation**
Given a payment is successfully created, when the transaction completes, then the system generates a corresponding BAM message containing payment identifier, amount, and timestamp.

**Message Delivery Confirmation**
Given a BAM message is transmitted, when the receiving system acknowledges receipt, then the system logs successful delivery with correlation identifiers.

**Handling Transmission Failures**
Given a BAM message fails to transmit, when retry attempts are exhausted, then the system alerts administrators and queues the message for manual review.

**Data Completeness Validation**
Given incomplete payment data, when BAM message generation is triggered, then the system prevents message creation and logs the data deficiency.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=527538398"
]

---

#### Feature: Validate Payment Amounts and Allocations
- **Role**: Billing Administrator
- **Action**: validate payment allocations against available balances during cash application
- **Value**: payment integrity is maintained while preserving draft work-in-progress without disruption

**Description:**

As a **Billing Administrator**,
I want to **validate payment allocations against available balances during cash application**,
So that **payment integrity is maintained while preserving draft work-in-progress without disruption**


**Key Capabilities:**

**Payment Allocation Initiation**
User is able to allocate payment amounts to appropriate billing targets (invoices for True Group/Self Bill, member records for IPA/Direct Bill) based on billing type.

**Real-Time Allocation Validation**
Upon user submitting the payment allocation, system synchronously validates allocated amounts against authorized thresholds (total payment amount for new payments, remaining unapplied balance for existing payments).

**Non-Blocking Error Management**
When validation detects allocation exceeding available amounts, system displays informational alerts while preserving the complete draft state including all error conditions for subsequent review and correction.


**Acceptance Criteria:**

**Successful New Payment Allocation**
Given a new payment is created, When allocated amount is within the total payment amount, Then system saves the allocation draft without errors.

**Exceeded New Payment Allocation**
Given a new payment is created, When allocated amount exceeds total payment amount, Then system displays informational alert and saves draft with error preserved.

**Successful Existing Payment Reallocation**
Given an unapplied payment exists, When allocated amount is within available balance, Then system saves allocation without errors.

**Exceeded Existing Payment Reallocation**
Given an unapplied payment exists, When allocated amount exceeds available balance, Then system displays informational alert and saves draft with error preserved.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=747871155"
]

---

#### Feature: Process Payments from Portal
- **Role**: Billing Administrator
- **Action**: process and allocate payments received from external portals and subsystems
- **Value**: payments are automatically applied to outstanding invoices based on account type rules, ensuring accurate reconciliation and timely cash application without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **process and allocate payments received from external portals and subsystems**,
So that **payments are automatically applied to outstanding invoices based on account type rules, ensuring accurate reconciliation and timely cash application without manual intervention**


**Key Capabilities:**

**Payment Initiation from External Systems**
External portal or third-party subsystem transmits payment creation request to billing system with remittance details.

**Payment Creation and Recording**
System creates payment record in billing and determines billing account type to apply appropriate allocation rules.

**Account-Type-Based Allocation Logic**
For True Group and Self Bill accounts, system allocates payment to available invoices and places remainder in unapplied balance. For List Bill IPA and Direct Bill accounts, system allocates at member record level and retains unallocated portions as member overpayment.

**Dynamic Allocation Adjustment**
When billing account situation changes between payment trigger and processing, system recalculates allocation based on current invoice status and applies updated account type rules.

**Continuous Payment Hub Processing**
Payment processing continues through Payment Hub without restrictions regardless of payment initiation status.


**Acceptance Criteria:**

**1. Successful Payment Allocation for Group Accounts**
Given a payment received from portal for True Group or Self Bill account, When system processes payment against available invoices, Then system fully allocates amounts to cover invoices and places any remainder in Billing Account Unapplied balance.

**2. Successful Payment Allocation for Member-Level Accounts**
Given a payment received for List Bill IPA or Direct Bill account, When system applies allocation logic, Then system allocates at member record level and retains unassociated portions as member record overpayment.

**3. Dynamic Allocation Recalculation**
Given billing account status changes after payment trigger but before processing, When system creates payment, Then system recalculates allocation reflecting current invoice availability and applies appropriate account type rules.

**4. Uninterrupted Payment Hub Flow**
Given payment initiated from external system, When payment creation occurs, Then Payment Hub processing continues without restrictions or delays.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=735717122"
]

---

#### Feature: Validate Automated Incoming Payments
- **Role**: Billing Administrator
- **Action**: validate automated incoming payment requests before processing
- **Value**: payment integrity is ensured through systematic verification of payment amount, account associations, and processing requirements, preventing downstream errors and payment misallocation

**Description:**

As a **Billing Administrator**,
I want to **validate automated incoming payment requests before processing**,
So that **payment integrity is ensured through systematic verification of payment amount, account associations, and processing requirements, preventing downstream errors and payment misallocation**


**Key Capabilities:**

**1. Payment Amount Verification**
System validates payment amount is provided, positive, and within allocation limits for specific payment types (IPA, Direct Bill).

**2. Account & Invoice Association Validation**
System confirms at least one identifier (Billing Account or Invoice) is provided and verifies existence and proper customer associations.

**3. Payment Method Eligibility Check**
System verifies payment method type is supported within billing system configuration.

**4. Bank Processing Requirement Validation**
When Credit Card or EFT/ACH methods require bank processing, system confirms Profile ID is provided.

**5. Parallel Validation Execution**
All validation checks execute simultaneously before rejection, returning comprehensive error information for failed requests.


**Acceptance Criteria:**

**1. Valid Payment Acceptance**
Given all validation criteria are met, When payment request is submitted, Then system accepts payment for processing without rejection.

**2. Amount Validation Enforcement**
Given payment amount is missing, zero, or negative, When validation executes, Then system rejects request with amount-specific error.

**3. Account Association Verification**
Given neither Billing Account nor Invoice identifier is provided or entities do not exist for customer, When validation executes, Then system rejects with association error.

**4. Payment Method Support Check**
Given payment method type is not supported in system configuration, When validation executes, Then system rejects with unsupported method error.

**5. Comprehensive Error Reporting**
Given multiple validation failures occur, When parallel validations complete, Then system returns all applicable error codes simultaneously.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=694522691"
]

---

#### Feature: Configure Payment Lifecycle Approach
- **Role**: Billing Administrator
- **Action**: configure payment lifecycle processing strategy to align with organizational cash management policies
- **Value**: the system processes payments according to business risk tolerance and bank confirmation requirements

**Description:**

As a **Billing Administrator**,
I want to **configure payment lifecycle processing strategy to align with organizational cash management policies**,
So that **the system processes payments according to business risk tolerance and bank confirmation requirements**


**Key Capabilities:**

**1. Payment Lifecycle Strategy Selection**
System evaluates feature toggle and bank processing requirements to determine processing approach (Assumed vs Confirmed).

**2. Immediate Processing Path**
When toggle is OFF or bank processing is not required, system registers payment, recalculates balances, updates invoice status, fires commission events, and creates messages immediately.

**3. Bank-Confirmed Processing Path**
When toggle is ON and bank processing is required, system creates pending payment with draft allocations awaiting bank confirmation.

**4. Configuration-Based Routing**
System applies configuration matrix based on bill type, payment allocation mode, and flow to determine applicable approach.

**5. Confirmation-Triggered Finalization**
Upon receiving bank confirmation, system applies payment to invoices and executes all downstream actions (balance updates, status changes, commission events, messages).


**Acceptance Criteria:**

**1. Default Processing Behavior**
Given toggle is OFF, When payment is received, Then system immediately processes using Assumed Payment Success regardless of bank processing flag.

**2. Immediate Processing Activation**
Given toggle is ON and bank processing is not required, When payment is received, Then system immediately applies payment and triggers all downstream events.

**3. Pending Payment Creation**
Given toggle is ON and bank processing is required and configuration matches Confirmed criteria, When payment is received, Then system creates pending payment without updating balances or invoice status.

**4. Bank Confirmation Processing**
Given pending payment exists, When bank confirmation is received, Then system applies payment, recalculates balances, updates invoice status, fires commission events, and creates messages.

**5. Configuration Matrix Evaluation**
Given toggle is ON and bank processing is required, When system evaluates bill type and payment allocation mode, Then correct approach is applied per configuration matrix.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=696506504"
]

---

#### Feature: Auto-Consume Unapplied Balance for Recurring Payments
- **Role**: Billing Administrator
- **Action**: automatically allocate unapplied account balances to eligible recurring payment invoices
- **Value**: outstanding invoices are settled proactively without manual intervention, reducing administrative overhead and improving cash application efficiency

**Description:**

As a **Billing Administrator**,
I want to **automatically allocate unapplied account balances to eligible recurring payment invoices**,
So that **outstanding invoices are settled proactively without manual intervention, reducing administrative overhead and improving cash application efficiency**


**Key Capabilities:**

**Trigger Autoconsumption Evaluation**
When recurring payment job identifies eligible invoices on billing accounts with autoconsumption enabled, system initiates balance allocation process

**Calculate Available Balance**
System determines allocable unapplied balance by excluding amounts with refund pending status from total unapplied balance

**Allocate Balance to Invoices**
System distributes allocable amount to invoices using account-type-specific allocation strategies, prioritizing previous period corrections and earliest unpaid invoices without gaps

**Apply Priority-Based Consumption**
System consumes unapplied transactions according to payment category priority order, fully depleting highest priority transactions before lower priority allocation


**Acceptance Criteria:**

**Successful Autoconsumption Execution**
Given autoconsumption is enabled and unapplied balance exceeds zero, When recurring payment job runs, Then system allocates available balance to eligible invoices per priority rules

**Refund Pending Exclusion**
Given unapplied balance contains refund pending amounts, When calculating allocable balance, Then system excludes refund pending amounts from allocation

**Zero Balance Termination**
Given billing account has zero unapplied balance, When autoconsumption triggers, Then system stops immediately without allocation

**Priority Enforcement**
Given multiple payment categories exist, When allocating unapplied balance, Then system fully consumes highest priority transactions before lower priority allocation


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=636887098"
]

---

#### Feature: Execute Recurring Payment Generation Job
- **Role**: Billing Administrator
- **Action**: automate recurring payment generation through scheduled job execution
- **Value**: billing accounts maintain continuous payment compliance without manual intervention, reducing operational overhead and improving cash flow predictability

**Description:**

As a **Billing Administrator**,
I want to **automate recurring payment generation through scheduled job execution**,
So that **billing accounts maintain continuous payment compliance without manual intervention, reducing operational overhead and improving cash flow predictability**


**Key Capabilities:**

**1. Payment Method Authorization Validation**
System verifies billing accounts have active payment methods marked as authorized for recurring processing before job execution.

**2. Payment Due Date Calculation**
System computes payment generation timing based on invoice due dates, business rules, and configured waiting parameters.

**3. Automated Payment Generation**
System creates recurring payments for eligible billing accounts according to calculated schedules and authorized payment methods.

**4. Hold Status Management**
When billing accounts are placed on hold, system suspends or modifies recurring payment generation per business policies.

**5. Unapplied Amount Processing**
System applies autoconsumption rules to manage excess payment amounts according to billing account configuration.


**Acceptance Criteria:**

**1. Authorized Payment Method Requirement**
Given a billing account exists, When the payment method is not authorized for recurring payments, Then the system excludes the account from automated payment generation.

**2. Successful Payment Generation**
Given eligible billing accounts with authorized payment methods, When the job executes, Then the system creates recurring payments with calculated due dates.

**3. Hold Status Enforcement**
Given a billing account is placed on hold, When the job processes the account, Then the system suspends payment generation per hold configuration.

**4. Unapplied Amount Handling**
Given recurring payments result in unapplied amounts, When autoconsumption rules are configured, Then the system automatically processes excess amounts accordingly.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=790073892"
]

---

#### Feature: Manage Internal Payments
- **Role**: Billing Administrator
- **Action**: process internal payments to reconcile unpaid premiums using available funds from other system domains
- **Value**: unpaid premium amounts are cleared before delinquency or cancellation by leveraging Claims, Cash Management, or other internal fund sources

**Description:**

As a **Billing Administrator**,
I want to **process internal payments to reconcile unpaid premiums using available funds from other system domains**,
So that **unpaid premium amounts are cleared before delinquency or cancellation by leveraging Claims, Cash Management, or other internal fund sources**


**Key Capabilities:**

**1. Internal Payment Initiation**
User initiates internal payment from eligible billing accounts (List Bill, No-Bill, Individual Direct) providing payment category, related entity information (Cash/Claim identifier), and deduction reason (Claim/Cash/APL/Other).

**2. Payment Creation & Sequencing**
System generates internal payment with INT-prefixed sequence number and automatically tags payment as internal across all system views.

**3. Payment Allocation Processing**
System allocates payment to appropriate invoices, member records, or unapplied balances triggering distribution operations.
    3.1 Upon cancellation during allocation, draft payment created in Initiated status for later completion or deletion

**4. Payment Adjustment Operations**
User reallocates, unallocates, or transfers payments between billing accounts as business needs change.

**5. Payment Finalization**
User refunds unapplied amounts or declines payments with appropriate privilege, triggering reconciliation events.


**Acceptance Criteria:**

**1. Payment Creation Authorization**
Given user has Apply Internal Payment privilege, When internal payment is initiated on eligible account types, Then system creates INT-sequenced payment with internal classification.

**2. Cross-Domain Fund Application**
Given related entity information is provided, When payment allocation is executed, Then system reconciles unpaid premium from specified Claims or Cash source and triggers distribution events.

**3. Draft Payment Recovery**
Given automatic allocation is cancelled mid-process, When user returns to billing account, Then draft payment in Initiated status remains editable or deletable.

**4. Self-Bill Transfer Handling**
Given internal payment exists on standard account, When payment is transferred to Self-Bill account, Then limited action set (Transfer, Apply, Unallocate, View, Decline) becomes available.

**5. Payment Reallocation**
Given allocated internal payment requires adjustment, When user reallocates or unallocates, Then system processes allocation changes and updates member/invoice balances.

**6. Payment Declination**
Given user has Decline privilege, When internal payment is declined, Then system triggers decline event and applies amount to unapplied balance.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=770577607"
]

---

#### Feature: View Payment Details and History
- **Role**: Billing Representative
- **Action**: access comprehensive payment allocation and transaction history across invoices and member records
- **Value**: I can effectively respond to customer payment inquiries with complete visibility into allocation details and historical transactions

**Description:**

As a **Billing Representative**,
I want to **access comprehensive payment allocation and transaction history across invoices and member records**,
So that **I can effectively respond to customer payment inquiries with complete visibility into allocation details and historical transactions**


**Key Capabilities:**

**Payment Access Initiation**
User is able to access payment details through the payment action menu for authorized billing accounts.

**Multi-Level Allocation Review**
User is able to view payment allocation at both invoice and member record levels regardless of payment allocation mode.

**Member-Specific Allocation Search**
When user needs to locate specific member allocations, user is able to search by member first and last name.

**Historical Payment Analysis**
User is able to review complete payment history for the billing account.
    4.1 Upon True Group or Direct Bill account type, historical allocation at invoice level is available.
    4.2 If account is List Bill IPA or Self Bill type, historical allocation features are unavailable.

**Payment Data Export**
User is able to export payment details following defined file naming and data specification standards.


**Acceptance Criteria:**

**Successful Payment Details Retrieval**
Given CSR accesses payment action menu, When payment details are requested for supported account types, Then system displays complete allocation at invoice and member record levels.

**Member Search Functionality**
Given user initiates member record search, When valid first and last name are provided, Then system returns allocated payment amounts for the specified member.

**Historical Data Availability by Account Type**
Given billing account type is True Group or Direct Bill, When historical payment allocation is requested, Then system provides invoice-level historical data.

**Restricted Account Type Handling**
Given billing account is List Bill IPA or Self Bill type, When historical allocation is requested, Then system prevents access and notifies user of unsupported feature.

**Payment Export Compliance**
Given user initiates payment data export, When export is executed, Then system generates file adhering to defined naming conventions and data specifications.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=541990998"
]

---

#### Feature: View List of All Payments
- **Role**: Billing Support Representative
- **Action**: access and review comprehensive payment transaction history for customer accounts
- **Value**: I can efficiently respond to customer inquiries with complete, accurate payment information and identify transaction patterns

**Description:**

As a **Billing Support Representative**,
I want to **access and review comprehensive payment transaction history for customer accounts**,
So that **I can efficiently respond to customer inquiries with complete, accurate payment information and identify transaction patterns**


**Key Capabilities:**

**Payment History Access**
User is able to navigate from account summary displaying recent payments to comprehensive payment history view with complete transaction details.

**Transaction Filtering**
User is able to refine payment history using transaction type criteria (payments, refunds, customer credits), status conditions, and date range parameters independently or in combination.

**Information Retrieval**
Upon accessing payment history, system presents complete transaction records with available actions, enabling downstream payment management activities and customer inquiry resolution.


**Acceptance Criteria:**

**Complete History Display**
Given account has payment transactions, When user accesses full payment view, Then system presents all transactions without default filtering applied.

**Multi-Criteria Filtering**
Given user applies multiple filter parameters, When filters include transaction type, status, and date range, Then system returns only transactions matching all specified criteria.

**Recent Payment Summary**
Given billing account is accessed, When account view loads, Then system displays four most recent payment transactions with navigation option to complete history.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=541991005"
]

---

### Epic: Payment Reversal & Unallocation Operations

#### Feature: Reverse Payment Transactions
- **Role**: Billing Administrator
- **Action**: reverse erroneous payment transactions and restore billing account integrity
- **Value**: incorrectly allocated funds are completely removed from the billing system, invoice statuses are corrected, and downstream financial impacts are automatically managed

**Description:**

As a **Billing Administrator**,
I want to **reverse erroneous payment transactions and restore billing account integrity**,
So that **incorrectly allocated funds are completely removed from the billing system, invoice statuses are corrected, and downstream financial impacts are automatically managed**


**Key Capabilities:**

**1. Payment Reversal Initiation**
User is able to initiate reversal for mistakenly allocated payments via action menu. Upon initiation, system validates payment eligibility (must not be included in paid refunds). If payment is processed in Payment Hub, suspension must occur before reversal.

**2. Automatic Unallocation & Status Management**
System unallocates payment from invoices and updates invoice statuses to reflect removal. Draft allocations are automatically deleted. Payment status transitions to 'Reversed' across all assigned billing accounts.

**3. Dependent Transaction Handling**
When reversed payment is linked to unpaid refunds, system automatically cancels, voids, or stops refunds based on approval status. For Individual Accounts with existing overpayments, system reallocates overpayment to invoices unpaid due to reversal.


**Acceptance Criteria:**

**1. Successful Payment Reversal**
Given a payment in valid reversible status, When user initiates reversal with required reason code, Then system unallocates payment, updates invoice status, sets payment status to 'Reversed', and triggers payment reversal notification.

**2. Draft Allocation Cleanup**
Given a reversed payment with draft allocations, When reversal completes, Then system automatically deletes all draft allocations and triggers allocation deletion notification.

**3. Refund Dependency Management**
Given a reversed payment included in unpaid refund, When reversal executes, Then system cancels/voids/stops refund based on approval status and triggers corresponding refund status notification.

**4. Reversal Prevention for Paid Refunds**
Given a payment included in paid refund, When user attempts reversal, Then system prevents reversal action and notifies user of restriction.

**5. Overpayment Reallocation (Individual Accounts)**
Given an Individual Account with existing overpayment, When payment reversal creates unpaid invoice, Then system automatically reallocates overpayment to newly unpaid invoice.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=541990990",
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=517604253"
]

---

#### Feature: Suspend Payment to General Suspense
- **Role**: Billing Administrator
- **Action**: redirect misallocated payments from billing accounts to the general suspense ledger for subsequent reallocation
- **Value**: I can correct payment routing errors and ensure funds are properly distributed to the intended destination

**Description:**

As a **Billing Administrator**,
I want to **redirect misallocated payments from billing accounts to the general suspense ledger for subsequent reallocation**,
So that **I can correct payment routing errors and ensure funds are properly distributed to the intended destination**


**Key Capabilities:**

**1. Initiate Suspension Operation**
User initiates suspension from Billing interface with appropriate authorization privileges.

**2. Unallocate Payment from Current Assignments**
System removes payment from invoices, member records, and unapplied balances across all affected billing accounts.

**3. Transfer to General Suspense**
System reallocates payment to General Suspense in Payment Hub subsystem and changes status to Suspended.
    3.1 When payment spans multiple accounts, suspension applies universally to all instances.
    3.2 Upon domain assignment, suspension must occur from domain interface.

**4. Trigger Dependent Actions**
System automatically reallocates overpayments to unpaid invoices, deletes draft allocations, and cancels unapproved refunds.

**5. Generate Operational Notifications**
System broadcasts status change messages for downstream system synchronization.

**6. Restrict Billing Subsystem Access**
User accesses Payment Hub to perform subsequent routing actions; Billing subsystem permits read-only review.


**Acceptance Criteria:**

**1. Successful Payment Suspension**
Given payment is active on billing account, When user initiates suspension with valid privileges, Then system unallocates from all assignments, transfers to General Suspense, and updates status to Suspended across all affected accounts.

**2. Multi-Account Propagation**
Given payment allocated to multiple billing accounts, When suspension occurs on one account, Then system suspends payment universally across all accounts simultaneously.

**3. Automatic Overpayment Reallocation**
Given suspended payment left an invoice unpaid and overpayment exists on member record, When suspension completes on individual premium or direct billing accounts, Then system automatically reallocates overpayment to the unpaid invoice.

**4. Draft and Refund Cleanup**
Given suspended payment has draft allocations or unapproved refunds, When suspension executes, Then system deletes drafts and cancels pending refunds automatically.

**5. Approved Refund Protection**
Given payment included in approved refund, When user attempts suspension, Then system prevents suspension operation entirely.

**6. Domain Assignment Constraint**
Given payment assigned to domain, When suspension is attempted from Billing interface, Then system blocks action and requires domain-side suspension.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=541990996"
]

---

#### Feature: Unallocate Payment from Invoices to Unapplied Balance
- **Role**: Billing Administrator
- **Action**: unallocate misallocated payments from invoices and return funds to unapplied balance for proper reallocation
- **Value**: I can correct payment allocation errors and ensure accurate financial reconciliation across billing accounts

**Description:**

As a **Billing Administrator**,
I want to **unallocate misallocated payments from invoices and return funds to unapplied balance for proper reallocation**,
So that **I can correct payment allocation errors and ensure accurate financial reconciliation across billing accounts**


**Key Capabilities:**

**Payment Unallocation Initiation**
User initiates unallocation for allocated or partially allocated payments subject to payment action eligibility rules

**Fund Rebalancing**
System removes payment amounts from invoice and member record allocations, consolidates member record unapplied balances, and transfers total amount to billing account unapplied balance

**Draft Allocation Cleanup**
System automatically removes draft payment allocations on current billing account while preserving drafts on other accounts and unaffected allocations

**Manual Reallocation Requirement**
User applies payment manually from unapplied balance; automated consumption is not triggered

**Automated Unallocation Handling**
When invoices are discarded or payments suspended/transferred/declined/reversed, system automatically unallocates affected amounts based on account type and original allocation method


**Acceptance Criteria:**

**Successful Manual Unallocation**
Given an allocated payment, when user initiates unallocation, then system moves payment and member record balances to billing account unapplied balance and deletes current account draft allocations

**Account Isolation**
Given payment allocated across multiple billing accounts, when unallocation occurs on one account, then other account allocations remain unchanged

**True Group Automated Unallocation**
Given discarded invoice on True Group account, when system processes change, then payment amounts unallocate to billing account unapplied balance

**Individual Premium Path A Unallocation**
Given payment allocated without invoice specification and invoice discarded, when system processes, then payment remains as member record overpayment

**Individual Premium Path B Unallocation**
Given payment allocated to specific invoice and invoice discarded, when system processes, then payment moves to billing account unapplied balance

**Overpayment Consumption**
Given member record overpayments exist, when unallocation creates unpaid invoices, then system automatically consumes overpayments per allocation rules


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=541991009"
]

---

#### Feature: Unallocate Payment from Member Records to MR Unapplied
- **Role**: Billing Administrator
- **Action**: unallocate payment amounts from member records to their unapplied balances
- **Value**: refunds can be processed expeditiously at the member level without advancing paid-to-date or triggering unintended commission payouts

**Description:**

As a **Billing Administrator**,
I want to **unallocate payment amounts from member records to their unapplied balances**,
So that **refunds can be processed expeditiously at the member level without advancing paid-to-date or triggering unintended commission payouts**


**Key Capabilities:**

**Payment Identification & Eligibility Verification**
User identifies allocated or partially allocated payment within applicable status. System validates payment eligibility based on billing account type (IPA List Bill) and payment status rules.

**Member Record Selection**
User searches and selects target member records associated with the payment. System presents member records with advanced filtering capabilities.

**Unallocation Option Selection**
User chooses to unallocate entire payment amount (including invoice-allocated and overpayment portions) OR only member record overpayment amount not associated with invoice items.

**Unallocation Processing & Balance Adjustment**
System moves selected payment amounts from member records to their individual MR Unapplied balances. System recalculates product and billing account balances, triggers distribution operations, and generates status change notifications.


**Acceptance Criteria:**

**Successful Entire Amount Unallocation**
Given an allocated payment on a List Bill IPA billing account, When user selects member records and chooses to unallocate entire payment amount, Then system moves both invoice-allocated and overpayment portions to MR Unapplied balances and recalculates all related balances.

**Successful Overpayment-Only Unallocation**
Given payment with overpayment balance on member records, When user selects overpayment-only unallocation option, Then system moves only overpayment amounts to MR Unapplied without affecting invoice-allocated portions.

**Prevented Unallocation for Ineligible Payments**
Given payment in restricted status, When user attempts unallocation action, Then system prevents operation and maintains current allocation state.

**Isolated Billing Account Processing**
Given payment allocated to multiple billing accounts, When user unallocates from member records on one account, Then system processes only selected account without affecting payment allocation on other accounts.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=609533871"
]

---

#### Feature: Decline Payment Requests
- **Role**: Billing Administrator
- **Action**: decline payment requests through automated and manual pathways
- **Value**: rejected payments are properly documented and removed from active receivables

**Description:**

As a **Billing Administrator**,
I want to **decline payment requests through automated and manual pathways**,
So that **rejected payments are properly documented and removed from active receivables**


**Key Capabilities:**

**Payment Decline Initiation**
User is able to trigger payment decline through automatic, external, or internal pathways based on business conditions

**Decline Reason Assignment**
Upon initiating decline, user selects standardized decline reason from approved lookup values to document rejection rationale

**Decline Processing Execution**
System processes decline request through appropriate pathway, removes payment from active processing, and updates payment status

**Decline Confirmation**
When decline completes successfully, system confirms rejection and maintains decline audit trail with reason and timestamp


**Acceptance Criteria:**

**Automatic Decline Processing**
Given automatic decline conditions are detected, when system evaluates payment, then payment is declined without manual intervention and decline reason is recorded

**External Decline Handling**
Given external decline request is received, when administrator processes request, then system declines payment and documents external source

**Internal Decline Processing**
Given internal decline is initiated, when decline reason is selected and submitted, then system processes decline and updates payment status

**Decline Reason Validation**
Given decline request is submitted, when decline reason is missing or invalid, then system prevents decline completion until valid reason is provided


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=509876248"
]

---

#### Feature: Delete Draft Payment Transactions
- **Role**: Billing Administrator
- **Action**: remove incomplete payment transactions from the billing system
- **Value**: I can maintain accurate payment records by eliminating erroneous or abandoned draft entries before they impact account reconciliation

**Description:**

As a **Billing Administrator**,
I want to **remove incomplete payment transactions from the billing system**,
So that **I can maintain accurate payment records by eliminating erroneous or abandoned draft entries before they impact account reconciliation**


**Key Capabilities:**

**1. Draft Payment Identification**
User is able to locate initiated-status payments marked as incomplete within the billing account payment repository and access operational actions.

**2. Deletion Authorization & Confirmation**
Upon selecting deletion action, system presents confirmation safeguard requiring explicit approval before proceeding with permanent removal.
    2.1 User may cancel operation to preserve draft transaction
    2.2 When confirmed, system validates user privileges before executing deletion

**3. Transaction Removal Execution**
System permanently removes draft payment from billing records, updates account payment history, and generates audit notification message for compliance tracking.


**Acceptance Criteria:**

**1. Authorized Deletion Success**
Given a user with deletion privileges and an incomplete payment with initiated status, when deletion is confirmed, then system permanently removes the transaction and displays success confirmation.

**2. Payment Record Integrity**
Given successful deletion execution, when payment lists are refreshed, then deleted transaction no longer appears in billing account records or system-wide payment queries.

**3. Audit Trail Generation**
Given completed deletion operation, when system processes removal, then business activity monitoring message is created documenting the deletion event.

**4. Cancellation Protection**
Given deletion confirmation prompt displayed, when user cancels or dismisses the request, then draft payment remains unchanged and no system modifications occur.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=543261829"
]

---

#### Feature: Delete Draft Payment Allocation Versions
- **Role**: Billing Administrator
- **Action**: delete incomplete payment allocation versions
- **Value**: I can correct allocation errors and maintain accurate payment records without committing incomplete work

**Description:**

As a **Billing Administrator**,
I want to **delete incomplete payment allocation versions**,
So that **I can correct allocation errors and maintain accurate payment records without committing incomplete work**


**Key Capabilities:**

**1. Draft Allocation Identification**
User navigates to payments list and identifies payments marked with incomplete allocation status for banking, customer credit, or internal payment types in partially allocated or unapplied status.

**2. Deletion Action Initiation**
Upon accessing payment action menu, system determines available actions based on payment type business rules and presents draft allocation deletion option when applicable.

**3. Confirmation and Execution**
User confirms deletion intent through confirmation dialog. When confirmed, system removes draft allocation version, maintains payment status, clears incomplete indicator, and generates audit event.


**Acceptance Criteria:**

**1. Draft Allocation Removal**
Given a payment with incomplete allocation exists, When user confirms deletion action, Then system removes draft version while preserving payment status and original allocation.

**2. Authorization Control**
Given user lacks deletion privilege, When attempting to access draft allocation deletion, Then system prevents action availability in payment menu.

**3. Cancellation Handling**
Given deletion confirmation is displayed, When user cancels operation, Then system closes dialog without modifying payment allocation or generating audit events.

**4. Audit Trail Generation**
Given successful draft deletion, When system completes removal, Then billing account message event is created documenting the deletion action.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=543264480"
]

---

#### Feature: Track Payment Reversal Reasons
- **Role**: Billing Administrator
- **Action**: capture and track payment reversal reasons with contextual justification
- **Value**: maintain audit compliance and analyze reversal patterns for process improvement

**Description:**

As a **Billing Administrator**,
I want to **capture and track payment reversal reasons with contextual justification**,
So that **I can maintain audit compliance and analyze reversal patterns for process improvement**


**Key Capabilities:**

**1. Payment Reversal Initiation**
User is able to invoke reversal operation for posted payments requiring correction or cancellation.

**2. Reversal Reason Classification**
User is able to select from predefined reversal reason categories to standardize tracking and enable reporting.

**3. Contextual Documentation**
When non-standard reversal reason is selected, user is able to provide additional narrative justification for compliance and audit purposes.

**4. Reversal Execution Control**
Upon validation of mandatory reason documentation, system enables reversal transaction processing to ensure complete audit trail.


**Acceptance Criteria:**

**1. Mandatory Reason Capture**
Given a payment reversal is initiated, when the user attempts to execute reversal, then system prevents transaction completion until reversal reason is documented.

**2. Conditional Justification Requirement**
Given non-standard reversal reason is selected, when additional context field appears, then system prevents reversal execution until narrative justification is provided.

**3. Cancellation Without Persistence**
Given reversal reason documentation is in progress, when user cancels operation, then system discards all entered data without executing reversal transaction.

**4. Complete Audit Trail**
Given reversal reason and contextual information are captured, when reversal executes successfully, then system persists categorization and justification for compliance reporting.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=514004346"
]

---

#### Feature: Automatically Reverse Small Balance Write-Offs
- **Role**: Billing Administrator
- **Action**: automatically reverse write-offs triggered by billing adjustments, payment actions, or invoice discards to maintain accurate account balances
- **Value**: financial integrity is preserved, overpayments are prevented, and invoices are re-evaluated for new write-off eligibility without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **automatically reverse write-offs triggered by billing adjustments, payment actions, or invoice discards to maintain accurate account balances**,
So that **financial integrity is preserved, overpayments are prevented, and invoices are re-evaluated for new write-off eligibility without manual intervention**


**Key Capabilities:**

**1. Event Detection & Eligibility Assessment**
System monitors billing adjustments, payment actions (unallocation, transfer, decline, reallocation), invoice discards, and manual write-off reversals. Upon detection, identifies invoices with existing write-offs and validates parameter matching rules (Member Record + Coverage + Modal Period + Classification segment).

**2. Automated Write-Off Reversal Execution**
Creates reversal transactions with negative amounts equal to original write-off values. For negative adjustments, reverses only write-offs on matching parameters. For payment actions and invoice discards, reverses ALL write-offs on affected invoices regardless of payment amount or allocation target.

**3. Payment Unallocation Processing**
Calculates unallocation amounts using formula: Payment Allocated - Amount to be Paid. When positive, moves funds to BA Unapplied (True Group) or MR Unapplied/Overpayment (IPA) based on configuration timing (policy transaction vs. invoice generation).

**4. Balance Recalculation & Status Update**
Recalculates invoice Remaining Due, Total Due, and status using runtime rules. Updates billing account balances including Total Billed, Total Allocated, Write Offs and Balance Adjustments (net of reversals), Due and Unpaid, and Account Balance.

**5. New Write-Off Evaluation**
Small Balance Write-Off job re-evaluates invoices with SBWO balance = 0 in Issued/Partially Paid status. Issues new SBWO when Remaining Due  configured Tolerance Limit.

**6. Audit Trail Preservation**
Maintains original write-off transactions as 'Issued' status. Records reversal transactions as 'Reversed' status with full parameter and amount details for complete financial audit trail.


**Acceptance Criteria:**

**1. Negative Adjustment Reversal**
Given an invoice has write-offs on specific parameters, When a negative adjustment is applied to matching parameters, Then system reverses only matching write-offs, recalculates invoice balances, unallocates overpayments, and triggers new SBWO evaluation.

**2. Payment Action Complete Reversal**
Given an invoice has Small Balance Write-Offs, When any payment action (unallocation/transfer/decline/reallocation) occurs on that invoice, Then system reverses ALL SBWO on the invoice regardless of payment amount, processes the payment action, and re-evaluates for new SBWO issuance.

**3. Invoice Discard Handling**
Given an invoice is discarded with existing write-offs, When discard is executed, Then system reverses all write-offs on discarded invoice, unallocates all payments, checks related invoices with negative items for parameter-matched write-off reversals, and excludes discarded invoice from SBWO job processing.

**4. Manual Reversal Cascade**
Given a user manually reverses a write-off on an invoice with SBWO, When manual reversal is processed, Then system automatically reverses COMPLETE SBWO balance on that invoice, recalculates all balances, and triggers new SBWO evaluation.

**5. Parameter Matching Integrity**
Given write-offs exist on multiple parameter sets, When triggering event occurs, Then system reverses only write-offs on exact matching parameters (Member Record + Coverage + Modal Period + Classification), leaving non-matching write-offs intact.

**6. Balance Accuracy Validation**
Given write-off reversals are completed, When balances are recalculated, Then invoice Remaining Due reflects net write-off balance (original minus reversals), billing account balances update atomically, and invoice status changes per payment-based runtime rules.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=657908475"
]

---

#### Feature: Configure Automatic Unallocation Priority Order
- **Role**: Billing Administrator
- **Action**: configure the priority sequence for automatic unallocation of payments when negative invoice adjustments occur
- **Value**: payments, internal payments, and customer credits are systematically reversed in the correct business order, ensuring accurate financial reconciliation and compliance with accounting policies

**Description:**

As a **Billing Administrator**,
I want to **configure the priority sequence for automatic unallocation of payments when negative invoice adjustments occur**,
So that **payments, internal payments, and customer credits are systematically reversed in the correct business order, ensuring accurate financial reconciliation and compliance with accounting policies**


**Key Capabilities:**

**1. Priority Order Definition**
Administrator establishes the unallocation sequence by configuring priority rankings for three payment categories: banking payments, internal payments, and customer credits based on bill type and allocation mode context

**2. Bill Type & Mode Configuration**
System applies priority rules based on bill type classification (List Bill, Direct Bill, Self Bill) and payment allocation mode (True Group, Individual Premium Accounting)

**3. Automatic Unallocation Execution**
When negative invoice adjustment triggers unallocation, system automatically processes payment reversals following the configured priority sequence without manual intervention


**Acceptance Criteria:**

**1. Priority Configuration Validation**
Given administrator configures priority order for a bill type, When configuration is saved, Then system validates all three payment categories have unique priority rankings

**2. Mode-Specific Application**
Given List Bill with True Group mode, When negative adjustment occurs, Then system unallocates banking payments first, internal payments second, customer credits third

**3. Default Priority Enforcement**
Given no custom configuration exists, When automatic unallocation triggers, Then system applies default sequence: banking payments (Priority 1), internal payments (Priority 2), customer credits (Priority 3)


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=763241780"
]

---

#### Feature: Generate Payment Status Change Events
- **Role**: Billing Specialist
- **Action**: reverse and unallocate payments across policy types while preserving data integrity
- **Value**: financial records remain accurate and audit-compliant without cascading unintended policy changes

**Description:**

As a **Billing Specialist**,
I want to **reverse and unallocate payments across policy types while preserving data integrity**,
So that **financial records remain accurate and audit-compliant without cascading unintended policy changes**


**Key Capabilities:**

**Payment Allocation Processing**
System applies incoming payments according to True Group or Self-Bill policy rules, including recurring payment generation and preset allocation execution.

**Manual Unallocation Execution**
Upon user request, system reverses allocated payments while maintaining transaction history and audit trail.

**Automatic Unallocation Triggering**
When predefined business conditions occur, system automatically unallocates payments without manual intervention.

**Member Record Isolation**
System rewrites member-level records while preventing cascading updates to master policy data structures.

**Payment Status Event Generation**
System broadcasts payment status change events to downstream systems for reconciliation and reporting purposes.


**Acceptance Criteria:**

**Successful Payment Allocation**
Given a new payment received, When policy type is identified as True Group or Self-Bill, Then system applies payment using appropriate allocation rules and generates confirmation event.

**Manual Unallocation Completion**
Given an allocated payment, When user initiates manual unallocation, Then system reverses allocation, preserves audit history, and updates payment status.

**Automatic Unallocation Trigger**
Given predefined business conditions met, When automatic unallocation executes, Then system reverses payment without manual intervention and notifies stakeholders.

**Member Record Isolation Enforcement**
Given member record rewrite operation, When changes are applied, Then system prevents cascading updates to master policy level.

**Status Event Broadcasting**
Given payment status change occurs, When unallocation completes, Then system generates and transmits status event to downstream systems.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=527538535"
]

---

#### Feature: Cancel Unpaid Refunds Upon Payment Reversal
- **Role**: Billing Administrator
- **Action**: reverse payments and automatically cancel associated unpaid refunds
- **Value**: billing accounts maintain accurate financial status and prevent erroneous refund disbursements

**Description:**

As a **Billing Administrator**,
I want to **reverse payments and automatically cancel associated unpaid refunds**,
So that **billing accounts maintain accurate financial status and prevent erroneous refund disbursements**


**Key Capabilities:**

**Payment Reversal Initiation**
User initiates reversal by selecting payment and providing reversal reason. Upon submission, system communicates reversal request to Payment Hub and marks payment for processing.

**Financial Allocation Unwinding**
System reverses payment allocation across all billing accounts, recalculates invoice statuses, and updates payment tracking attributes. Draft allocations are automatically removed.

**Refund Cancellation Processing**
When payment reversal completes, system automatically identifies refunds in 'Initiated' status tied to reversed payment and cancels them with designated reason code and audit information.

**Balance Recalculation**
System updates billing account balances, recalculates next payment due dates for applicable accounts, and validates write-off transactions requiring reversal.

**Stakeholder Notification**
System generates mandatory business activity messages, triggers events to downstream subsystems, and notifies Payment Hub of status changes.


**Acceptance Criteria:**

**Successful Payment Reversal with Refund Cancellation**
Given a payment with associated 'Initiated' refunds exists, When user completes reversal with valid reason, Then system reverses payment, cancels all unpaid refunds, updates account balances, and generates confirmation messages.

**Payment Hub Integration Failure**
Given Payment Hub is unavailable or rejects reversal, When system submits reversal request, Then system displays failure notification and maintains original payment status without changes.

**Invoice Status Recalculation**
Given reversed payment was allocated to paid invoices, When reversal completes, Then system updates invoice statuses to reflect removed payment and generates status change notifications.

**Draft Allocation Removal**
Given draft payment allocations exist on billing accounts, When payment reversal processes, Then system automatically removes all draft versions without user intervention.

**Write-off Validation Trigger**
Given reversed payment was allocated to invoices with small balance write-offs, When reversal completes, Then system triggers automatic write-off reversal workflow.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=514004345"
]

---

#### Feature: Recalculate Paid-To-Date Upon Unallocation
- **Role**: Billing Administrator
- **Action**: unallocate payment amounts from member records and recalculate financial coverage dates
- **Value**: payment allocations can be corrected and member coverage periods accurately reflect actual applied payments

**Description:**

As a **Billing Administrator**,
I want to **unallocate payment amounts from member records and recalculate financial coverage dates**,
So that **payment allocations can be corrected and member coverage periods accurately reflect actual applied payments**


**Key Capabilities:**

**Payment Unallocation Initiation**
User initiates unallocation action for selected payment. System validates authorization and action availability per business rules.

**Unallocation Parameter Selection**
User selects unallocation scope: entire allocated amount or member record overpayment only. System filters applicable member records accordingly.

**Unallocation Processing**
Upon confirmation, system creates reverse payment items or reallocates overpayment to member record unapplied balance. System updates member record financial balances.

**Financial Status Recalculation**
System recalculates invoice payment status and billing account payment status. When status changes, system generates status change notifications.

**Paid-To-Date Recalculation**
System recalculates member coverage paid-to-date by comparing cumulative daily rates against remaining allocated payments. Batch job updates coverage periods across affected member records.

**Write-off Validation & Downstream Notification**
System validates small balance write-off impact and triggers automatic reversal if needed. System notifies compensation and downstream systems of allocation changes via events.


**Acceptance Criteria:**

**Authorization Validation**
Given user lacks unallocation privileges, When accessing payment actions, Then unallocation option is not displayed and operation is prevented.

**Complete Unallocation Processing**
Given entire amount parameter selected, When unallocation confirmed, Then system creates reverse payment items, updates unapplied balance, and notifies invoice item distribution systems.

**Overpayment-Only Unallocation**
Given overpayment-only parameter selected, When processing unallocation, Then system moves only overpayment amounts to unapplied balance while preserving invoice item allocations.

**Status Recalculation Accuracy**
Given payment unallocation completed, When invoice or payment status changes, Then system updates runtime statuses and generates status change messages.

**Paid-To-Date Accuracy**
Given unallocation reduces allocated payment amounts, When paid-to-date recalculation executes, Then coverage periods reflect updated payment totals against cumulative daily rates.

**Write-off Reversal Trigger**
Given unallocated payment was applied to invoices with small balance write-off, When unallocation completes, Then system automatically initiates write-off reversal process.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=603363412"
]

---

#### Feature: Generate Financial Events for Payment Removal
- **Role**: Billing Administrator
- **Action**: reverse allocated payments and generate financial events documenting the unallocation from invoices
- **Value**: payment errors can be corrected while maintaining complete audit trails and financial integrity across billing accounts

**Description:**

As a **Billing Administrator**,
I want to **reverse allocated payments and generate financial events documenting the unallocation from invoices**,
So that **payment errors can be corrected while maintaining complete audit trails and financial integrity across billing accounts**


**Key Capabilities:**

**1. Payment Unallocation Initiation**
User is able to trigger payment removal from previously allocated invoice items on a billing account. System validates preconditions ensuring payment allocation exists.

**2. Financial Event Data Capture**
System captures comprehensive transaction metadata including temporal markers, payment classification, account associations, and processing requirements.

**3. Invoice Item Detail Recording**
System documents product entity context (policy, member, coverage), invoice periods, allocated amounts, and classification segments across unallocated items.

**4. Audit Trail Generation**
System creates immutable tracking records with user identifiers, timestamps, and technical reference links for compliance and traceability purposes.


**Acceptance Criteria:**

**1. Valid Unallocation Processing**
Given a payment previously allocated to invoice items, When the administrator initiates reversal, Then the system generates a financial event capturing all transaction, product, and invoice details.

**2. Precondition Enforcement**
Given missing payment allocation or non-existent billing account, When unallocation is attempted, Then the system prevents event generation and maintains data integrity.

**3. Product Type Differentiation**
Given different product types (List Bill vs Self-Bill, Individual vs Group), When processing unallocation, Then the system populates appropriate product entity fields and classification segments.

**4. Audit Compliance**
Given any unallocation event, When the event is created, Then the system records complete audit trail with creator identity and timestamps in required format.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=588158111"
]

---

#### Feature: Validate Payment Status Before Action Execution
- **Role**: Billing Administrator
- **Action**: suspend payments and reverse allocations across affected billing accounts
- **Value**: I can temporarily halt payment processing while maintaining data integrity and triggering necessary downstream reconciliation activities

**Description:**

As a **Billing Administrator**,
I want to **suspend payments and reverse allocations across affected billing accounts**,
So that **I can temporarily halt payment processing while maintaining data integrity and triggering necessary downstream reconciliation activities**


**Key Capabilities:**

**1. Payment Suspension Initiation & Validation**
User initiates suspension action by providing business justification. System validates payment eligibility for suspension with Payment Hub before proceeding.

**2. Multi-Account Allocation Reversal**
Upon validation, system removes payment allocations across all associated billing accounts, member records, and invoices while preserving historical references.

**3. Invoice Status Recalculation & Notification**
System recalculates invoice statuses (PaidPartially Paid/Issued) and updates Last Payment Date, Next Payment Due for affected accounts.

**4. Dependent Transaction Management**
System automatically cancels related pending refunds in 'Initiated' status and reverses small balance write-offs tied to suspended payment.

**5. External System Synchronization**
System publishes events to Compensation subsystem, Payment Hub, and generates business activity messages for downstream reconciliation.

**6. Processing State Management**
System applies 'Processing' tag during execution, restricts payment actions, and removes tag upon completion or failure.


**Acceptance Criteria:**

**1. Suspension Authorization Validation**
Given user has 'Suspend Payment' privilege and payment exists in eligible status, When suspension is initiated with required justification, Then system validates with Payment Hub and proceeds only if payment status permits suspension.

**2. Complete Allocation Removal**
Given payment is allocated across multiple billing accounts/member records, When suspension executes successfully, Then all allocations are removed and payment appears only in transaction history without active associations.

**3. Invoice Status Integrity**
Given suspended payment fully covered an invoice, When allocation is reversed, Then invoice status changes from 'Paid' to appropriate status and generates Invoice Status Changed message.

**4. Refund Cancellation Cascade**
Given pending refunds in 'Initiated' status reference the suspended payment, When suspension completes, Then refunds move to 'Cancelled' with reason indicating originating payment suspension.

**5. Write-off Reversal Trigger**
Given suspended payment was allocated to invoices with small balance write-offs, When suspension processing completes, Then system automatically triggers write-off reversal workflow before finalizing.

**6. Synchronization Event Publication**
Given suspension affects multiple accounts and downstream systems, When all reversals complete, Then system publishes events for PTI distribution, payment removal per account, and refund cancellations to all integrated subsystems.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=517620845"
]

---

#### Feature: Clear Manual Payment Allocation Entries
- **Role**: Billing Specialist
- **Action**: clear previously allocated payment amounts to restart allocation
- **Value**: I can correct allocation errors and redistribute funds accurately without creating new payment transactions

**Description:**

As a **Billing Specialist**,
I want to **clear previously allocated payment amounts to restart allocation**,
So that **I can correct allocation errors and redistribute funds accurately without creating new payment transactions**


**Key Capabilities:**

**1. Allocation Clearance Initiation**
User initiates clearance operation for existing draft payment or draft allocation with non-zero allocated amounts.

**2. Confirmation and Reset**
Upon confirmation, system resets all allocated amounts to zero across allocation pages and disables submission until new allocation is established.

**3. Draft State Management**
User is able to save partial work as draft allocation without applying payment, maintaining incomplete status for later continuation.
    3.1 When user abandons without saving, existing draft version remains unchanged.
    3.2 When user saves explicitly, draft persists with incomplete tag for future editing.


**Acceptance Criteria:**

**1. Successful Allocation Reset**
Given allocated amounts exist across payment pages, When user confirms clearance operation, Then system sets all allocations to zero and disables submission control.

**2. Draft Preservation on Exit**
Given user saves changes without applying, When exiting the allocation interface, Then system persists draft state with incomplete indicator and enables future editing.

**3. Unsaved Changes Protection**
Given modifications exist without save, When user attempts cancellation, Then system warns of data loss and requires explicit confirmation before discarding changes.

**4. Fresh Allocation Readiness**
Given allocation clearance completed, When user proceeds with new allocation workflow, Then system accepts allocation entries without constraints from previous distribution.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=547985933"
]

---

#### Feature: Update Existing Payment Requests Upon Rescind Cancellation
- **Role**: Billing Administrator
- **Action**: retroactively adjust payment requests when policy cancellations are rescinded
- **Value**: payment requests accurately reflect active policy terms and prevent premium collection errors

**Description:**

As a **Billing Administrator**,
I want to **retroactively adjust payment requests when policy cancellations are rescinded**,
So that **payment requests accurately reflect active policy terms and prevent premium collection errors**.


**Key Capabilities:**

**1. Initial Payment Request Generation**
System generates payment requests per billing cycle using master policy premium and rate values.

**2. Cancellation Processing Impact**
Upon cancellation issuance, subsequent payment requests automatically reflect adjusted premium amounts based on cancellation effective date.

**3. Rescind Initiation**
When rescind is issued with effective date matching cancellation effective date, system identifies affected payment requests within scope.

**4. Retroactive Payment Request Restoration**
System updates impacted payment requests to restore original master policy premium and rate values that would have applied without cancellation.

**5. Billing Period Reconciliation**
System maintains billing period integrity by applying corrections only to payment requests generated post-cancellation.


**Acceptance Criteria:**

**1. Successful Rescind Processing**
Given a cancellation exists with effective date in a reporting period, When rescind is issued with matching effective date during original billing period, Then all subsequent payment requests restore to pre-cancellation master policy values.

**2. Premium Value Restoration**
Given payment request shows reduced premium post-cancellation, When rescind is processed, Then premium amount updates to original master policy value.

**3. Billing Period Scope Control**
Given multiple billing periods exist, When rescind is executed, Then only payment requests generated after cancellation effective date are adjusted.

**4. Rate Integrity Preservation**
Given rescind affects payment request, When adjustment is applied, Then rate values remain consistent with master policy configuration throughout process.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=749182483"
]

---

#### Feature: Manage Payment Reversal Privileges and Access Control
- **Role**: Billing Administrator
- **Action**: manage payment reversal privileges and access control across billing operations
- **Value**: I can ensure only authorized personnel can reverse payment transactions, maintaining financial integrity and audit compliance

**Description:**

As a **Billing Administrator**,
I want to **manage payment reversal privileges and access control across billing operations**,
So that **I can ensure only authorized personnel can reverse payment transactions, maintaining financial integrity and audit compliance**


**Key Capabilities:**

**Access Control Configuration**
Administrator defines role-based permissions for payment reversal operations across billing accounts and payment types.

**Payment Reversal Authorization**
Upon receiving reversal request, system validates user privileges against established access control rules before permitting transaction modification.

**Audit Trail Management**
System captures authorization decisions and reversal activities for compliance reporting and financial reconciliation purposes.


**Acceptance Criteria:**

**Privilege Enforcement**
Given user lacks reversal privileges, When attempting payment reversal operation, Then system prevents transaction and logs unauthorized access attempt.

**Role-Based Access**
Given administrator configures role permissions, When authorized user initiates reversal, Then system permits operation and records authorization context.

**Audit Compliance**
Given reversal operations occur, When generating compliance reports, Then system provides complete authorization and activity trail for all reversal transactions.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=559410681"
]

---

### Epic: Paid-to-Date (PTD) & Account Balance Tracking

#### Feature: Calculate Paid-to-Date (PTD) for True Group List Bill Accounts
- **Role**: Billing Administrator
- **Action**: automatically calculate and track paid-to-date coverage for true group accounts
- **Value**: accurate member coverage dates are maintained and accessible across systems for claims adjudication and policy administration

**Description:**

As a **Billing Administrator**,
I want to **automatically calculate and track paid-to-date coverage for true group accounts**,
So that **accurate member coverage dates are maintained and accessible across systems for claims adjudication and policy administration**


**Key Capabilities:**

**1. Automated PTD Calculation Execution**
Scheduled job identifies true group billing accounts with paid or partially paid invoices and triggers PTD calculation processing across all eligible accounts.

**2. Payment-Based Coverage Date Determination**
System applies configurable calculation strategies to determine coverage end dates based on allocated payment amounts and member premium obligations.
    2.1 When no allocated payments exist, system defaults to member effective date as placeholder value.

**3. Cross-System PTD Data Distribution**
Calculated coverage dates are stored centrally and made available to payment application, account management, and external systems upon request for real-time coverage verification.


**Acceptance Criteria:**

**1. Successful PTD Calculation for Paid Accounts**
Given a true group account with at least one paid/partially paid invoice, When the scheduled calculation job executes, Then PTD is calculated per configured strategy and stored for system-wide access.

**2. Default Handling for Unpaid Accounts**
Given a true group account with only issued invoices and no payments, When PTD calculation is attempted, Then system stores null value and displays member effective date as fallback.

**3. External System Integration**
Given an external system requests PTD for a specific member, When the request is received, Then system calculates on-the-fly PTD and returns value to requesting subsystem.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=552019381"
]

---

#### Feature: Calculate Paid-to-Date (PTD) for Individual Premium Accounting List Bill Accounts
- **Role**: Billing Administrator
- **Action**: automate paid-to-date calculation and propagation for member records under list bill billing accounts
- **Value**: accurate premium payment tracking is maintained across billing, claims, and policy systems without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **automate paid-to-date calculation and propagation for member records under list bill billing accounts**,
So that **accurate premium payment tracking is maintained across billing, claims, and policy systems without manual intervention**


**Key Capabilities:**

**1. Payment Allocation Detection**
Automated job identifies member records receiving full, partial, or excess payment allocations for PTD eligibility assessment

**2. PTD Calculation Execution**
System computes paid-to-date values per configurable strategy rules and persists results at member record level
    2.1 When no payments allocated, system stores NULL and displays member record effective date as fallback

**3. Cross-System PTD Distribution**
Calculated values propagate to payment application, reconciliation, refund workflows and respond to external system requests on-demand

**4. Scheduled Processing Orchestration**
Batch job executes automatically to refresh PTD for all eligible list bill billing accounts per defined schedule


**Acceptance Criteria:**

**1. Payment-Driven Calculation**
Given member record has received payment allocation, When scheduled job executes, Then PTD is calculated per strategy rules and stored in database

**2. No-Payment Scenario Handling**
Given member record has no payment allocations, When PTD calculation runs, Then system stores NULL and displays member effective date across all interfaces

**3. External System Integration**
Given external system requests PTD for specific member record, When request is received, Then system calculates value on-the-fly and returns to requesting system

**4. Multi-Workflow Visibility**
Given PTD calculation completes successfully, When user accesses payment application or member record views, Then current PTD value displays consistently across all workflows


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=555080661"
]

---

#### Feature: Calculate Paid-to-Date (PTD) for Self-Bill Accounts
- **Role**: Billing Administrator
- **Action**: calculate and track paid-to-date amounts for self-bill accounts
- **Value**: ensure accurate payment coverage visibility and support downstream claims adjudication

**Description:**

As a **Billing Administrator**,
I want to **calculate and track paid-to-date amounts for self-bill accounts**,
So that **I can ensure accurate payment coverage visibility and support downstream claims adjudication**.


**Key Capabilities:**

**1. Invoice Payment Status Detection**
System monitors self-bill billing accounts and identifies invoices in paid or partially paid status to trigger PTD calculation.

**2. PTD Calculation Execution**
System applies configurable calculation strategies to determine paid-to-date amounts at master policy level based on payment history.
    2.1 When no invoices exist or only issued invoices are present, system uses master policy effective date as default PTD value.

**3. PTD Value Distribution**
System displays calculated PTD in billing interfaces and provides values to external subsystems (claims, policy) upon request for coverage verification.


**Acceptance Criteria:**

**1. Successful PTD Calculation**
Given a self-bill account with paid or partially paid invoices, when the system detects payment status, then PTD is calculated using configured business rules at master policy level.

**2. Default Date Assignment**
Given a self-bill account with no invoices or only issued invoices, when PTD calculation is triggered, then master policy effective date is assigned as PTD value.

**3. External System Integration**
Given an external subsystem requests PTD for a master policy, when the request is received, then the calculated PTD value is successfully transmitted for downstream processing.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=677154974"
]

---

#### Feature: Configure PTD Calculation Strategies by Bill Type and Payment Allocation Mode
- **Role**: Billing Administrator
- **Action**: configure paid-to-date calculation strategies across different billing account types and payment allocation scenarios
- **Value**: the system accurately determines member payment coverage periods, supporting claims adjudication, delinquency management, and financial reporting across diverse billing models

**Description:**

As a **Billing Administrator**,
I want to **configure paid-to-date calculation strategies across different billing account types and payment allocation scenarios**,
So that **the system accurately determines member payment coverage periods, supporting claims adjudication, delinquency management, and financial reporting across diverse billing models**.


**Key Capabilities:**

**1. Strategy Selection and Configuration**
User is able to define PTD calculation strategy per billing account type: PTD(dr) for daily-rate-based calculation, PTD(inv) for invoice-status-based calculation, or combined PTD(inv)+PTD(dr) approach.

**2. Real-Time vs Batch Calculation Processing**
When Self Bill accounts process transactions, PTD calculates on-the-fly. When List Bill or Direct Bill accounts require updates, batch job calculates and persists PTD values to database.

**3. Payment Gap Reconciliation**
Upon detecting unpaid invoices between paid periods, PTD(inv) adds fully-paid subsequent periods to last paid period before gap; PTD(dr) compares total allocated amounts against cumulative daily premium regardless of gaps.

**4. Lifecycle Event Handling**
If member record cancellation or porting occurs, PTD freezes at the effective date. Upon reinstatement on True Group accounts, PTD resets to billing account PTD with exception handling when BA PTD falls between cancellation and reinstatement dates.

**5. Seasonal Billing Adjustment**
When seasonal gaps exist in billing cycles, calculation logic skips seasonal periods when determining paid invoice sequences and shifts PTD to end of last seasonal period when applicable.


**Acceptance Criteria:**

**1. Strategy-Based Calculation Accuracy**
Given billing account configured with PTD(inv)+PTD(dr) strategy, When payments are allocated, Then PTD equals maximum of invoice-based and daily-rate-based calculations plus one day (exclusive).

**2. Unpaid Account Default Handling**
Given no payments allocated to account, When PTD is calculated, Then List/Direct Bill returns NULL (displays member effective date) and Self Bill returns Master Policy effective date.

**3. Payment Gap Scenario Resolution**
Given unpaid invoice exists between paid invoices, When PTD(inv) calculates, Then system adds count of fully-paid subsequent invoices to last paid period before gap; When PTD(dr) calculates, Then system compares total allocated amount to cumulative premium ignoring gaps.

**4. Cancellation Freeze Behavior**
Given member record cancelled effective March 1 with prior PTD of April 1, When cancellation processes, Then PTD freezes at March 1 (exclusive) regardless of subsequent payment allocations.

**5. Reinstatement Reset Logic**
Given cancelled member reinstated on True Group account, When BA PTD falls between cancellation and reinstatement dates, Then member PTD resets to cancellation effective date; otherwise resets to current BA PTD.

**6. Allocated Payment Contribution Rule**
Given payments exist in unapplied or member-unapplied status, When PTD calculates, Then only allocated payments contribute to calculation; unapplied balances are excluded from coverage determination.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=806683774"
]

---

#### Feature: Execute Automated Nightly PTD Recalculation Job
- **Role**: Billing Administrator
- **Action**: execute automated nightly recalculation of paid-to-date values across all billing accounts
- **Value**: account balances remain accurate and synchronized without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **execute automated nightly recalculation of paid-to-date values across all billing accounts**,
So that **account balances remain accurate and synchronized without manual intervention**


**Key Capabilities:**

**1. Automated Job Initiation**
System triggers nightly batch process at configured schedule to recalculate PTD values across all active billing accounts.

**2. Multi-Strategy PTD Calculation**
System applies configured calculation strategies to determine accurate paid-to-date amounts based on payment history and allocation rules.

**3. Account Balance Synchronization**
System updates account balances and member records to reflect recalculated PTD values across consolidated billing views.

**4. Exception Handling**
Upon calculation errors or data inconsistencies, system logs exceptions and flags accounts requiring manual review without halting overall job execution.


**Acceptance Criteria:**

**1. Successful Job Execution**
Given nightly batch schedule is configured, When scheduled time arrives, Then system initiates PTD recalculation job for all eligible accounts.

**2. Accurate PTD Calculation**
Given payment transactions exist, When recalculation completes, Then PTD values reflect all processed payments per configured strategy.

**3. Data Consistency**
Given recalculation succeeds, When users access billing views, Then account balances and member records display synchronized PTD values.

**4. Error Management**
Given calculation errors occur, When exceptions are encountered, Then system logs failures and continues processing remaining accounts.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=790073891"
]

---

#### Feature: Display Paid-to-Date on Billing Account Balance Section
- **Role**: Billing Administrator
- **Action**: monitor account payment status through paid-to-date indicators
- **Value**: I can accurately assess payment compliance and member coverage periods for True Group accounts

**Description:**

As a **Billing Administrator**,
I want to **monitor account payment status through paid-to-date indicators**,
So that **I can accurately assess payment compliance and member coverage periods for True Group accounts**


**Key Capabilities:**

**1. PTD Calculation Initialization**
System determines applicable calculation strategy for True Group accounts where Bill Type equals List Bill and Payment Allocation Mode equals True Group, selecting combined invoice-plus-receipt or invoice-only methodology.

**2. Payment History Analysis**
System evaluates allocated payment records against invoices and computes PTD(BA) exclusive date using maximum date logic or single-strategy result.

**3. Member-Level PTD Assignment**
Upon calculation completion, system applies PTD(BA) to qualifying member records based on effective date comparison, assigning PTD(BA) when member effective date precedes PTD or member effective date otherwise.

**4. Multi-Channel Information Distribution**
System exposes PTD values through user interface displays, API endpoints, and third-party integrations with consistent exclusive date treatment across all channels.


**Acceptance Criteria:**

**1. Calculation Accuracy**
Given payments allocated to January invoice, When PTD calculation executes for True Group account, Then system computes PTD(BA) as maximum of invoice and receipt strategy dates or invoice-only date per configuration.

**2. Display Logic with Payment History**
Given PTD exists for billing account, When user views balance section, Then system displays calculated PTD date value and applies member-specific PTD based on effective date precedence rules.

**3. Display Logic without Payment History**
Given no payments allocated to invoices, When user accesses account information through any channel, Then system displays dash indicator in UI and returns NULL values through API.

**4. Member Record Differentiation**
Given members with varying effective dates, When PTD(BA) is computed, Then system assigns PTD(BA) to members effective before PTD and assigns member effective date to others.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=650328066"
]

---

#### Feature: Provide Calculated PTD Values to External Systems via API
- **Role**: Billing Administrator
- **Action**: expose real-time Paid-to-Date calculations via API to external systems
- **Value**: external domains receive accurate premium payment status for eligibility and claims decisions

**Description:**

As a **Billing Administrator**,
I want to **expose real-time Paid-to-Date calculations via API to external systems**,
So that **external domains receive accurate premium payment status for eligibility and claims decisions**


**Key Capabilities:**

**1. PTD Request Intake**
External system submits calculation request with Member Record Number, Member Record Effective Date, and optional Target Date (defaults to current date)

**2. On-Demand PTD Calculation**
System calculates Paid-to-Date value applying configured calculation strategies for the active billing account associated with the member record
    2.1 When member transitions between accounts are scheduled, system selects currently active account based on target date

**3. Response Delivery**
System returns calculated PTD value and associated Billing Account identifier to requesting system
    3.1 If PTD cannot be calculated, system returns NULL indicator with notification


**Acceptance Criteria:**

**1. Successful PTD Calculation**
Given a valid member record with active billing account, When external system requests PTD with valid identifiers, Then system returns calculated PTD value and billing account identifier

**2. Default Date Handling**
Given no target date provided in request, When PTD calculation executes, Then system applies current system date as calculation baseline

**3. Account Transition Logic**
Given member scheduled for future account transfer, When PTD requested for current date, Then system uses currently active account for calculation

**4. Calculation Failure Handling**
Given PTD cannot be determined, When calculation process completes, Then system returns NULL value with appropriate notification to requestor


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=555080246"
]

---

#### Feature: Track Payment Transaction History for PTD Calculation
- **Role**: Billing Administrator
- **Action**: track and retrieve payment transaction history with dynamic filtering capabilities
- **Value**: accurate paid-to-date calculations and account balance reconciliation are ensured through comprehensive transaction visibility

**Description:**

As a **Billing Administrator**,
I want to **track and retrieve payment transaction history with dynamic filtering capabilities**,
So that **accurate paid-to-date calculations and account balance reconciliation are ensured through comprehensive transaction visibility**


**Key Capabilities:**

**1. Transaction Retrieval and Filtering**
User is able to filter payment and refund transactions using multiple criteria including transaction type, status, and inclusive date ranges to retrieve relevant records for PTD analysis.

**2. Dynamic Field Interdependency Management**
When transaction type is selected, system dynamically filters available statuses to show only valid combinations; when status is selected, system filters transaction types accordingly to prevent invalid selections.

**3. Date Range Validation and Application**
Upon selecting date boundaries, system validates chronological consistency bidirectionally and enforces inclusive date range filtering where both boundary dates are included in results.


**Acceptance Criteria:**

**1. Multi-Criteria Filtering Success**
Given multiple filter criteria are applied, When user submits the filter request, Then system retrieves all transactions matching all specified criteria with inclusive date boundaries.

**2. Dynamic Dropdown Filtering**
Given transaction type is selected, When user accesses status dropdown, Then system displays only statuses valid for that transaction type excluding invalid combinations.

**3. Date Range Validation**
Given date range is specified, When start date is later than end date, Then system prevents filter application and notifies user of chronological inconsistency.

**4. Unrestricted Field Display**
Given neither transaction type nor status is pre-selected, When user accesses either dropdown, Then system displays all available options without restrictions.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=618283726"
]

---

#### Feature: Maintain Real-Time Account Balance State Across Payment Transactions
- **Role**: Billing Administrator
- **Action**: maintain accurate paid-through-date coverage status across all payment transactions and billing scenarios
- **Value**: external systems receive real-time policy in-force status for claims adjudication and policy lifecycle management

**Description:**

As a **Billing Administrator**,
I want to **maintain accurate paid-through-date coverage status across all payment transactions and billing scenarios**,
So that **external systems receive real-time policy in-force status for claims adjudication and policy lifecycle management**


**Key Capabilities:**

**1. Billing Structure Classification**
System identifies bill type and payment allocation mode, routing to appropriate calculation strategy (group-level or member-level tracking)

**2. Coverage Date Computation**
System applies configurable formula based on invoice status and cumulative daily rate calculations to determine paid-through date
    2.1 When payments allocated or reallocated, system triggers automatic recalculation
    2.2 Upon calculation failure, system defaults to member record effective date

**3. Policy Status Boundary Enforcement**
System constrains paid-through date to not exceed cancellation or transition effective dates

**4. External System Integration**
System provides calculated coverage dates to claims and policy systems upon request for in-force validation


**Acceptance Criteria:**

**1. Multi-Tier Calculation Accuracy**
Given a group billing account, When payments are applied, Then system calculates coverage dates at either account-level or member-level based on premium accounting configuration

**2. Dynamic Recalculation Trigger**
Given existing payment allocations, When user reallocates payments or adjusts invoice status, Then system immediately recalculates affected coverage dates and refreshes downstream systems

**3. Status Boundary Constraint**
Given a cancelled member record, When calculated coverage date exceeds cancellation effective date, Then system constrains coverage date to equal cancellation date

**4. Reinstatement Reset Logic**
Given a reinstated member record, When system recalculates coverage date, Then calculation ignores previous values and bases result solely on current payment and invoice states


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=557953350"
]

---

#### Feature: Support PTD Calculation for Seasonal Billing Accounts
- **Role**: Billing Administrator
- **Action**: automate paid-to-date calculation for seasonal list bill accounts with individual premium accounting
- **Value**: accurate member-level payment tracking enables timely claims adjudication and reduces manual reconciliation effort

**Description:**

As a **Billing Administrator**,
I want to **automate paid-to-date calculation for seasonal list bill accounts with individual premium accounting**,
So that **accurate member-level payment tracking enables timely claims adjudication and reduces manual reconciliation effort**.


**Key Capabilities:**

**Automated Member-Level PTD Calculation**
Scheduled job processes all list bill accounts with individual premium accounting, detecting payment allocations to member records and calculating PTD per configured strategy.

**Payment-Driven PTD Updates**
Upon detecting full payments, underpayments, or overpayments allocated to member records, system calculates and persists PTD values for operational use.

**Fallback for Unpaid Members**
When no payments exist for a member record, system defaults to member effective date instead of null PTD.

**Cross-System PTD Provisioning**
External systems request on-the-fly PTD calculations for specific members, receiving current values without database delays.

**Multi-Context PTD Visibility**
Calculated PTD values display across payment application, premium viewing, member record management, reallocation, and refund processes.


**Acceptance Criteria:**

**Scheduled PTD Calculation Execution**
Given list bill accounts with individual premium accounting exist, when the scheduled PTD job executes, then system calculates PTD for all member records with payment allocations.

**Payment-Based PTD Persistence**
Given payments are allocated to a member record, when PTD calculation completes, then the calculated value is stored and accessible across all billing operations.

**Unpaid Member Default Handling**
Given no payments are allocated to a member record, when PTD calculation runs, then system displays member effective date in place of null PTD.

**On-Demand External PTD Requests**
Given an external system requests PTD for a specific member, when the request is processed, then system provides real-time calculated PTD value.

**Cross-System PTD Synchronization**
Given PTD is calculated for a member, when claims or policy systems request the value, then current PTD is transferred without manual intervention.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=555080661"
]

---

#### Feature: Recalculate PTD Upon Payment Reallocation Between Member Records
- **Role**: Billing Administrator
- **Action**: ensure paid-to-date values automatically recalculate when payments are reallocated across member records
- **Value**: account balances and premium coverage dates remain accurate, preventing claim adjudication errors and billing discrepancies

**Description:**

As a **Billing Administrator**,
I want to **ensure paid-to-date values automatically recalculate when payments are reallocated across member records**,
So that **account balances and premium coverage dates remain accurate, preventing claim adjudication errors and billing discrepancies**


**Key Capabilities:**

**1. Payment Reallocation Detection**
System monitors payment allocation changes across member records within list bill billing accounts, triggering PTD recalculation workflows when reallocation transactions complete

**2. Automated PTD Recalculation**
Scheduled job recalculates paid-to-date for affected member records using configured strategy rules, accounting for full payments, underpayments, and overpayments
    2.1 When no payment allocated, system stores null value and displays member record effective date

**3. Cross-System PTD Synchronization**
Upon external system request, billing provides recalculated PTD values on-the-fly to claims and policy subsystems for real-time eligibility verification


**Acceptance Criteria:**

**1. Reallocation Triggers Recalculation**
Given payment reallocated between member records, When transaction commits, Then system queues affected member records for PTD recalculation

**2. Accurate PTD Computation**
Given member record has payment allocation history, When recalculation executes, Then PTD reflects cumulative allocated payments per configured strategy

**3. Null Handling for Zero Allocations**
Given member record has no payment allocations, When PTD calculation runs, Then system stores null and surfaces effective date instead

**4. External System Integration**
Given external system requests PTD, When query received, Then billing calculates and returns current PTD value within integration SLA


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=555080661"
]

---

### Epic: Refund & Credit Lifecycle Management

#### Feature: Approve or Reject Refunds Based on Authority Levels
- **Role**: Billing Administrator
- **Action**: approve or reject refunds based on configurable authority levels and approval thresholds
- **Value**: I ensure financial controls are enforced through automated decision rules and manual oversight aligned with organizational risk tolerance

**Description:**

As a **Billing Administrator**,
I want to **approve or reject refunds based on configurable authority levels and approval thresholds**,
So that **I ensure financial controls are enforced through automated decision rules and manual oversight aligned with organizational risk tolerance**


**Key Capabilities:**

**Refund Initiation & Eligibility Assessment**
Upon refund creation (manual or automated), system evaluates refund amount against configured thresholds and creator authority level to determine initial approval status.

**Authority-Based Approval Routing**
When refund amount exceeds no-approval-required limit, system creates approval task routed to users with sufficient authority level and approval privileges.
    2.1 If amount within user authority and auto-approval enabled, system grants immediate approval
    2.2 If two-step verification required, system mandates separate approver review

**Approval Decision Processing**
User with appropriate authority reviews pending refund and approves or rejects based on business validation.

**Outbound Payment Creation**
Upon approval, system triggers payment processing in Payment Hub subsystem and transitions refund through Pending to Paid status.

**Rejection & Cancellation Handling**
When refund rejected or cancelled, system reverses transaction by reapplying funds to unapplied balances.

**State & Event Management**
System fires lifecycle events and generates audit messages tracking refund progression through Initiated, Approved, Rejected, Cancelled, Pending, Paid, Declined, Voided, or Stopped states.


**Acceptance Criteria:**

**Automatic Approval for Low-Value Refunds**
Given refund amount is at or below configured no-approval-required threshold, When refund is initiated, Then system automatically sets status to Approved and proceeds to payment creation without manual intervention.

**Manual Approval Task Creation**
Given refund amount exceeds no-approval-required limit, When refund is submitted, Then system creates approval task routed to users with sufficient authority level and approval privileges.

**Authority Level Enforcement**
Given user lacks authority level matching refund amount, When user attempts approval, Then system prevents approval action and requires escalation to higher authority.

**Approval Processing Success**
Given authorized user approves pending refund, When approval is submitted, Then system transitions refund to Approved status, triggers outbound payment creation, and fires approval events.

**Rejection Processing & Fund Reapplication**
Given authorized user rejects refund, When rejection is submitted, Then system transitions refund to Rejected status, reapplies funds to unapplied balances, and fires rejection events.

**Payment Failure Handling**
Given Payment Hub returns failure event, When outbound payment processing fails, Then system sets refund status to Declined/Failed and reapplies funds to unapplied balances.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=650316342"
]

---

#### Feature: Configure Automatic Approval Limits for Refunds
- **Role**: Billing Administrator
- **Action**: configure automatic approval thresholds and authority-based limits for unapplied payment refunds
- **Value**: refund processing is streamlined with appropriate risk controls and approval workflows based on amount, geography, and user authority

**Description:**

As a **Billing Administrator**,
I want to **configure automatic approval thresholds and authority-based limits for unapplied payment refunds**,
So that **refund processing is streamlined with appropriate risk controls and approval workflows based on amount, geography, and user authority**


**Key Capabilities:**

**1. Define Approval Configuration Dimensions**
Administrator establishes refund approval rules by geography, bill type, payment allocation mode, and balance level to support business segmentation requirements.

**2. Set Automatic Approval Thresholds**
Administrator configures no-approval-required limits for billing account unapplied and member record unapplied balances to enable instant processing of low-risk refunds.

**3. Configure Authority Level Limits**
Administrator assigns approval limits across five authority levels for each balance type, ranging from base amounts to unlimited authority for senior roles.

**4. Validate Configuration Rules**
System enforces business rules ensuring payment allocation mode applies only to List Bill types and member record unapplied applies exclusively to List Bill scenarios.


**Acceptance Criteria:**

**1. Automatic Approval Execution**
Given a refund amount at or below the configured automatic threshold, When the refund request is submitted, Then the system approves without requiring manual authorization.

**2. Authority-Based Approval Routing**
Given a refund amount exceeding automatic threshold but within user's authority level, When the user reviews the request, Then the system permits approval based on assigned authority limits.

**3. Escalation for Exceeding Authority**
Given a refund amount exceeding the user's authority level limit, When the approval is attempted, Then the system routes to the next higher authority level until adequate approval authority is reached.

**4. Configuration Constraint Enforcement**
Given configuration parameters are entered, When bill type is not List Bill, Then the system prevents payment allocation mode and member record unapplied selection.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=622329942"
]

---

#### Feature: Initiate Manual Refunds from Billing Account Unapplied Balance
- **Role**: Billing Administrator
- **Action**: initiate and process manual refunds from unapplied payment balances
- **Value**: overpayments and erroneous payments are returned to payees with proper controls and approval workflows

**Description:**

As a Billing Administrator,
I want to initiate and process manual refunds from unapplied payment balances,
So that overpayments and erroneous payments are returned to payees with proper controls and approval workflows


**Key Capabilities:**

**1. Refund Initiation**
User navigates to Billing Account and initiates refund by selecting payee type (Individual or Organization), choosing payments from appropriate unapplied balance level, and configuring refund parameters including payment method and recipient details.

**2. Automated Approval Evaluation**
System evaluates refund amount against configuration thresholds and user authority levels; auto-approves when within limits or routes to approval workflow for manual review.

**3. Payment Processing & Status Tracking**
Upon approval, system decreases unapplied balance, recalculates account balance, and transmits outbound payment to Payment Hub; tracks status transitions from Pending through In Transit to Paid.
    3.1 When Payment Hub confirms completion, system updates refund status to Paid
    3.2 If processing fails, system marks refund as Declined and restores unapplied balance

**4. Cancellation & Reversal Controls**
User is able to cancel refunds before payment completion; system automatically voids or stops payments when conflicting payment actions are attempted based on current refund status.


**Acceptance Criteria:**

**1. Successful Auto-Approval**
Given refund amount is within automated threshold and user authority level, When user submits refund request, Then system immediately approves and decreases unapplied balance without manual intervention.

**2. Manual Approval Routing**
Given refund amount exceeds automated threshold, When user initiates refund, Then system creates approval task for authorized user and maintains Initiated status until decision is rendered.

**3. Payment Completion**
Given refund is approved, When Payment Hub confirms disbursement, Then system updates status to Paid and generates confirmation messages without restoring unapplied balance.

**4. Cancellation Before Payment**
Given refund has not reached Paid status, When user cancels refund, Then system changes status to Cancelled and restores payment to original unapplied balance.

**5. Processing Failure Handling**
Given Payment Hub fails to process refund, When failure event is received, Then system marks refund as Declined and returns amount to unapplied balance.

**6. Balance Integrity**
Given refund is submitted, When system processes approval, Then unapplied balance decreases and account balance recalculates accurately without affecting paid-to-date totals.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=610904120"
]

---

#### Feature: Initiate Manual Refunds from Member Record Unapplied Balance
- **Role**: Billing Specialist
- **Action**: initiate and process manual refunds from member unapplied balances
- **Value**: I can efficiently return excess payments to members or organizations while ensuring proper validation, approval workflows, and balance reconciliation

**Description:**

As a **Billing Specialist**,
I want to **initiate and process manual refunds from member unapplied balances**,
So that **I can efficiently return excess payments to members or organizations while ensuring proper validation, approval workflows, and balance reconciliation**


**Key Capabilities:**

**1. Refund Request Initiation**
User initiates refund from billing account view or member records, selecting recipient type (individual or organization) and validating eligibility based on available unapplied balances.

**2. Payment Method and Recipient Configuration**
User selects payment method (Check, Cash, EFT/ACH, Credit Card), verifies recipient mailing address with ability to update if needed, and captures refund reason and optional details.

**3. Balance Selection and Validation**
User selects specific member records and payments for refund. System validates refund amounts against available unapplied balances and product taxability settings.

**4. Approval Workflow Routing**
Upon confirmation, system evaluates refund amount against configured thresholds and user authority levels. System automatically approves qualifying refunds or routes to manual approval workflow.

**5. Payment Processing and Status Management**
System processes approved refunds through Payment Hub. Upon successful processing, system updates refund status to Paid, adjusts all relevant balances, updates payment allocations, and generates audit messages.


**Acceptance Criteria:**

**1. Refund Eligibility Validation**
Given user initiates refund from member record unapplied balance, When member records with available payments exist, Then system displays eligible records and prevents selection of amounts exceeding unapplied balances.

**2. Taxability Conflict Resolution**
Given user confirms refund, When selected refund option contradicts product taxability settings, Then system displays confirmation modal requiring explicit user acknowledgment before proceeding.

**3. Threshold-Based Approval Automation**
Given refund amount is validated, When amount does not exceed No Approval Required Max threshold, Then system automatically approves and processes refund without manual intervention.

**4. Authority-Level Approval Routing**
Given refund exceeds base threshold, When amount is within user authority limits and auto-approval is enabled, Then system automatically approves. When amount exceeds user authority or auto-approval is disabled, Then system creates approval task.

**5. Successful Payment Processing**
Given refund is approved, When Payment Hub confirms successful outbound payment, Then system updates refund status to Paid, adjusts member unapplied and account balances, and creates audit messages.

**6. Failed Payment Handling**
Given Payment Hub processes refund, When outbound payment fails, Then system updates refund status to Declined, restores original balances, and captures decline reason for reporting.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=606248622"
]

---

#### Feature: Process Automated Refunds Based on Configurable Rules
- **Role**: Billing Administrator
- **Action**: configure and execute automated refund workflows for unapplied payments using rule-based thresholds and approval requirements
- **Value**: I can streamline refund operations, reduce manual processing overhead, and ensure consistent application of business policies across different account types and jurisdictions

**Description:**

As a Billing Administrator,
I want to configure and execute automated refund workflows for unapplied payments using rule-based thresholds and approval requirements,
So that I can streamline refund operations, reduce manual processing overhead, and ensure consistent application of business policies across different account types and jurisdictions


**Key Capabilities:**

**1. Configuration Management**
System enables configuration of automated refund rules at billing account level based on three dimensions: Situs State (supports multiple US states or Canadian provinces), Bill Type (List Bill, Self-Bill, Individual Direct), and Payment Allocation Mode (Group, IPA applicable only for List Bill).

**2. Rule-Based Threshold Application**
System applies refund thresholds, approval requirements, and waiting periods based on the combination of bill type and payment allocation mode. When no specific configuration exists, system defaults to standard parameters.

**3. Differentiated Refund Processing**
System processes individual and organization refunds separately based on configured thresholds and waiting periods. For List Bill with IPA mode, system applies member-level refund processing with recipient priority sequencing (TaxabilityBased, BillingAccountOwner, Member).


**Acceptance Criteria:**

**1. Configuration Activation**
Given a billing account with List Bill type and IPA payment allocation mode, When configuration is activated, Then system enables both member-level and organization-level automated refunds with individual threshold at $1.00 and organization threshold at $5.00.

**2. Threshold-Based Processing**
Given unapplied payment amount exceeds configured threshold, When waiting period expires, Then system processes refund automatically if amount is within no-approval-required maximum, otherwise routes for approval.

**3. Default Rule Application**
Given no specific configuration exists for the dimension combination, When automated refund is triggered, Then system applies default configuration with 60-day waiting period and standard thresholds for both individual and organization levels.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=641151280"
]

---

#### Feature: Validate Refund Eligibility and Payment Method Ownership
- **Role**: Billing Administrator
- **Action**: validate refund eligibility and payment method ownership during automated refund processing
- **Value**: refunds are issued only to authorized recipients using verified payment methods, preventing fraudulent disbursements and ensuring regulatory compliance

**Description:**

As a **Billing Administrator**,
I want to **validate refund eligibility and payment method ownership during automated refund processing**,
So that **refunds are issued only to authorized recipients using verified payment methods, preventing fraudulent disbursements and ensuring regulatory compliance**.


**Key Capabilities:**

**1. Refund Source Identification**
System identifies refund source type (billing account unapplied or member record unapplied) and determines applicable authorization rules

**2. Payment Method Ownership Verification**
System validates selected payment method belongs to designated refund recipient
    2.1 When payment method is check, system validates mailing address ownership by payee

**3. Payee Authorization Validation**
System confirms payee authorization based on refund source: billing account owner for billing account unapplied; billing account owner OR main insured for member record unapplied

**4. Refund Rejection Processing**
Upon validation failure, system rejects refund transaction and provides specific authorization error details


**Acceptance Criteria:**

**1. Payment Method Ownership Enforcement**
Given an automated refund is initiated, When the selected payment method does not belong to the refund payee, Then the system rejects the transaction with payment method ownership error

**2. Check Mailing Address Validation**
Given payment method is check, When the mailing address does not belong to the payee, Then the system prevents refund processing with address ownership error

**3. Billing Account Unapplied Authorization**
Given refund source is billing account unapplied, When payee is not the billing account owner, Then the system rejects the refund

**4. Member Record Unapplied Authorization**
Given refund source is member record unapplied, When payee is neither billing account owner nor main insured, Then the system denies refund authorization


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=645898235"
]

---

#### Feature: Cancel Initiated or Approved Refunds
- **Role**: Billing Administrator
- **Action**: cancel previously initiated or approved refunds across multiple lifecycle stages
- **Value**: I can reverse erroneous refunds, ensure regulatory compliance, and maintain accurate financial records before funds reach payees

**Description:**

As a **Billing Administrator**,
I want to **cancel previously initiated or approved refunds across multiple lifecycle stages**,
So that **I can reverse erroneous refunds, ensure regulatory compliance, and maintain accurate financial records before funds reach payees**


**Key Capabilities:**

**1. Refund Cancellation Eligibility Assessment**
Upon user initiating cancellation, system determines refund lifecycle stage and evaluates cancellation feasibility based on current status and payment processor integration.

**2. Internal Cancellation Execution**
When refund is not yet approved or pending in payment hub, system executes immediate cancellation and reverts account balances to pre-approval state.

**3. External Stop Payment Request**
If refund is communicated to third-party processor, system prompts user confirmation and submits stop request for external validation of stoppability.

**4. Automatic Cancellation Trigger**
When system detects declined, reversed, or suspended incoming payment linked to not-yet-approved refund, automatic cancellation is executed without user intervention.

**5. Balance Reconciliation**
Upon successful cancellation, system restores billing account and member record balances to pre-refund state and updates transaction status accordingly.


**Acceptance Criteria:**

**1. Internal Cancellation Success**
Given refund status is initiated or approved-pending, when user requests cancellation, then system immediately cancels refund and reverts account balances without external coordination.

**2. Stop Payment Request Submission**
Given refund is in-transit or issued to processor, when user confirms stop request, then system submits cancellation to third-party processor and awaits response.

**3. Stoppable Transaction Processing**
Given stop request is submitted and transaction is stoppable, when processor confirms cancellation, then system updates refund status to cancelled and reconciles balances.

**4. Non-Stoppable Transaction Handling**
Given stop request is submitted and transaction is not stoppable, when processor notifies payment completion, then system transitions refund to paid status and prevents cancellation.

**5. Automatic Cancellation Execution**
Given incoming payment is declined and linked to initiated refund, when system detects payment status change, then refund is automatically cancelled without user intervention.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=657904404"
]

---

#### Feature: Edit Refund Details Before Approval
- **Role**: Billing Administrator
- **Action**: modify initiated refund transaction details and trigger automated approval evaluation
- **Value**: refund accuracy is ensured and eligible refunds are expedited without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **modify initiated refund transaction details and trigger automated approval evaluation**,
So that **refund accuracy is ensured and eligible refunds are expedited without manual intervention**


**Key Capabilities:**

**1. Refund Access & Modification Initiation**
User locates initiated refund transaction and triggers edit action to access modification interface.

**2. Refund Details Update**
User updates refund information including amount, payment method, or allocation details while transaction remains in initiated status.

**3. Approval Limit Validation**
Upon confirmation, system evaluates updated refund amount against configured automatic approval thresholds and user authority levels.
    3.1 If amount exceeds limits, refund remains in initiated status requiring manual approval
    3.2 If within limits, system proceeds to automatic approval

**4. Automated Approval & Payment Dispatch**
System approves qualifying refunds, updates account balances, and dispatches payment to external payment hub for processing.

**5. Payment Status Reconciliation**
System monitors payment hub responses and updates refund status to paid upon successful processing or declined upon failure.


**Acceptance Criteria:**

**1. Successful Refund Update with Manual Approval Required**
Given refund amount exceeds automatic approval threshold, When user confirms updated details, Then system saves changes, maintains initiated status, and generates refund updated notification.

**2. Successful Auto-Approval & Payment Processing**
Given refund amount is within approval limits, When user confirms updates, Then system auto-approves, updates balances, dispatches payment, and transitions status to paid upon successful processing.

**3. Payment Processing Failure Handling**
Given payment hub returns failure event, When system receives failure notification, Then refund status updates to declined, balances are reversed, and payment allocation is restored.

**4. Balance Integrity Maintenance**
Given refund status changes occur, When approval or payment events complete, Then unapplied balances and account totals recalculate accurately reflecting transaction impacts.

**5. Audit Trail Completeness**
Given refund modification workflow executes, When any status transition occurs, Then system generates corresponding business events and audit messages for compliance tracking.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=634001687"
]

---

#### Feature: Track Refund Status Lifecycle and Transitions
- **Role**: Billing Administrator
- **Action**: track and monitor refund status transitions throughout the complete lifecycle from initiation to completion
- **Value**: ensure transparency, maintain audit compliance, and proactively identify delays or exceptions requiring intervention

**Description:**

As a **Billing Administrator**,
I want to **track and monitor refund status transitions throughout the complete lifecycle from initiation to completion**,
So that **I can ensure transparency, maintain audit compliance, and proactively identify delays or exceptions requiring intervention**


**Key Capabilities:**

**Refund Initiation Tracking**
User is able to capture initial refund request with originating transaction context and automatically assign tracking identifier

**Status Transition Monitoring**
System transitions refund through defined lifecycle stages (Pending, Approved, Processing, Completed, Rejected) with timestamp capture

**Exception Detection**
When refund exceeds predefined processing thresholds, system flags for escalation and notifies appropriate stakeholders

**Audit Trail Maintenance**
System records all status changes, user actions, and system events with immutable timestamps for compliance reporting


**Acceptance Criteria:**

**Successful Lifecycle Progression**
Given a valid refund request, When all approval criteria are met, Then system transitions through standard statuses to completion

**Exception Handling**
Given a refund exceeding processing timeframe, When threshold is breached, Then system escalates with alert notification

**Audit Completeness**
Given any refund transaction, When audit report is generated, Then all status transitions and actors are documented

**Status Visibility**
Given authorized user access, When querying refund status, Then current state and complete history are retrievable


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=633999657"
]

---

#### Feature: Generate Refund Approval Tasks and Route to Authorized Users
- **Role**: Billing Approver
- **Action**: route and manage refund approval workflows based on business rules
- **Value**: refunds are efficiently reviewed and processed with proper authorization controls

**Description:**

As a **Billing Approver**,
I want to **route and manage refund approval workflows based on business rules**,
So that **refunds are efficiently reviewed and processed with proper authorization controls**


**Key Capabilities:**

**1. Refund Initiation and Evaluation**
Upon refund initiation event, system evaluates business rules to determine if manual approval is required based on refund characteristics.

**2. Automated Task Assignment and Queue Management**
When approval is needed, system generates approval task with reference attributes and routes to billing refund approval queue for authorized users.

**3. Approval Decision Workflow**
User is able to access assigned tasks through work management interface, review refund details, and render approval decision.

**4. Post-Decision Processing**
If approved, system advances refund to payment processing stage; if denied or cancelled, system terminates refund workflow accordingly.


**Acceptance Criteria:**

**1. Rule-Based Task Generation**
Given refund meets approval threshold criteria, When refund is initiated, Then system automatically creates approval task and assigns to appropriate queue.

**2. Queue Routing Accuracy**
Given approval task is generated, When task enters workflow, Then system routes to authorized billing approvers with complete refund context.

**3. Decision Processing**
Given approver reviews task, When approval decision is rendered, Then system advances refund to payment execution or terminates based on decision outcome.

**4. Cancellation Handling**
Given refund is in approval or post-approval pending state, When cancellation is requested, Then system prevents further processing and updates refund status appropriately.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=634012786"
]

---

#### Feature: Automatically Close Refund Approval Tasks Upon Completion
- **Role**: Billing Operations
- **Action**: automatically close refund approval tasks when refund decisions are finalized
- **Value**: operational efficiency is improved by eliminating manual task cleanup and ensuring workflow accuracy

**Description:**

As a **Billing Operations** user,
I want to **automatically close refund approval tasks when refund decisions are finalized**,
So that **operational efficiency is improved by eliminating manual task cleanup and ensuring workflow accuracy**


**Key Capabilities:**

**1. Refund Decision Capture**
User with appropriate authority level approves or rejects initiated refunds after validation of authorization privileges and amount thresholds.

**2. Status Transition Orchestration**
Upon approval, system updates refund status to 'Approved', triggers payment hub dispatch, and transitions to 'Paid' or 'Declined' based on processing outcome. Upon rejection, status changes to 'Rejected' with captured reason.

**3. Automated Task Closure**
When refund reaches terminal state (Approved, Rejected, Paid, or Declined), system automatically closes associated Refund Approval task without user intervention.

**4. Balance Reconciliation**
System recalculates unapplied and account balances, updates payment allocation states, and generates business activity monitoring messages for audit trails.


**Acceptance Criteria:**

**1. Successful Approval Closure**
Given a refund in 'Initiated' status with pending approval task, When user approves the refund and payment hub confirms processing, Then system closes the approval task and sets refund status to 'Paid'.

**2. Rejection Task Closure**
Given a pending refund approval task, When user rejects the refund with valid reason, Then system immediately closes the approval task and updates refund status to 'Rejected'.

**3. Payment Hub Failure Handling**
Given an approved refund dispatched to payment hub, When payment processing fails, Then system closes approval task, sets status to 'Declined', and restores payment allocation balances.

**4. Task Persistence Prevention**
Given any refund approval or rejection action, When refund reaches terminal state, Then no orphaned approval tasks remain in active queues.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=749185104"
]

---

#### Feature: Apply Customer Credits to Member Records or Invoices
- **Role**: Billing Administrator
- **Action**: apply customer credits to member records or invoices through automated allocation and lifecycle management
- **Value**: outstanding balances are accurately resolved, account reconciliation is streamlined, and payment integrity is maintained across billing cycles

**Description:**

As a **Billing Administrator**,
I want to **apply customer credits to member records or invoices through automated allocation and lifecycle management**,
So that **outstanding balances are accurately resolved, account reconciliation is streamlined, and payment integrity is maintained across billing cycles**


**Key Capabilities:**

**1. Credit Application Initiation**
User initiates customer credit application for billing accounts. System validates credit against business rules and queues activity in billing account actions sequence.

**2. Credit Allocation Processing**
System creates customer credit in Initiated status with Processing tag. Upon execution, system applies credit to member records and associates to invoices using calculation rules.
    2.1 When allocated amount differs from credit amount, system displays confirmation modal for user approval
    2.2 If validation fails, system displays error message and allows correction

**3. Balance Reconciliation**
System recalculates billing account and invoice balances, updates credit and invoice statuses per lifecycle rules, and removes Processing tag.

**4. Downstream Notification**
System generates payment and invoice status messages, notifies compensation subsystem, and fires payment allocation events for audit trail.


**Acceptance Criteria:**

**1. Credit Validation Success**
Given user submits credit application with valid allocation details, When system validates against business rules, Then credit is queued with Initiated status and Processing tag applied.

**2. Allocation Amount Mismatch Handling**
Given total allocated amount differs from credit amount, When validation occurs, Then system displays appropriate modal for user confirmation or correction before proceeding.

**3. Balance Accuracy**
Given credit allocation completes successfully, When system recalculates balances, Then billing account and invoice balances reflect updated amounts per calculation rules.

**4. Status Lifecycle Compliance**
Given credit processing completes, When system updates statuses, Then customer credit status follows payment lifecycle and invoice statuses update per payment-based calculation rules.

**5. Event and Message Generation**
Given credit allocation finalizes, When downstream notifications trigger, Then system generates payment created and invoice status changed messages and fires allocation events.

**6. Write-off Reversal**
Given payment associates with invoice having small balance write-off, When conditions are met, Then system automatically processes write-off reversal.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=754651681"
]

---

#### Feature: Add Customer Credits to Unapplied Balance
- **Role**: Billing Administrator
- **Action**: apply customer credits to billing account unapplied balance without allocating to specific obligations
- **Value**: I can manage excess payment funds efficiently and maintain accurate account balances for future application

**Description:**

As a **Billing Administrator**,
I want to **apply customer credits to billing account unapplied balance without allocating to specific obligations**,
So that **I can manage excess payment funds efficiently and maintain accurate account balances for future application**


**Key Capabilities:**

**Customer Credit Initiation**
User identifies target billing account and selects customer credit application action from available account operations

**Credit Details Configuration**
User provides credit transaction information and explicitly designates funds for unapplied balance allocation

**Balance Projection & Validation**
System calculates projected unapplied balance and validates that allocation amount matches total customer credit amount

**Credit Application & Balance Update**
Upon validation, system creates customer credit record, recalculates billing account balances, and generates integration messages for downstream processing
    4.1 When amount mismatch detected, system prevents application and prompts correction
    4.2 When cancellation requested with unsaved changes, system confirms user intent before exiting


**Acceptance Criteria:**

**1. Successful Credit Application**
Given valid customer credit details with amount matching unapplied allocation, When user confirms application, Then system creates credit record, updates account balances, fires payment events, and displays success confirmation

**2. Amount Validation Enforcement**
Given customer credit amount differs from unapplied allocation amount, When user attempts to apply credit, Then system blocks application and requires correction

**3. Unsaved Changes Protection**
Given user has modified credit details without saving, When cancel action is triggered, Then system warns about data loss before allowing navigation

**4. Balance Recalculation Accuracy**
Given credit successfully applied to unapplied balance, When system completes processing, Then billing account balances reflect new unapplied amount according to calculation rules


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=755894672"
]

---

#### Feature: View Customer Credit Details and Allocation History
- **Role**: Billing Specialist
- **Action**: review customer credit distribution and transaction history across member records and invoices
- **Value**: I can verify allocation accuracy, investigate payment discrepancies, and ensure proper credit application to outstanding balances

**Description:**

As a **Billing Specialist**,
I want to **review customer credit distribution and transaction history across member records and invoices**,
So that **I can verify allocation accuracy, investigate payment discrepancies, and ensure proper credit application to outstanding balances**


**Key Capabilities:**

**1. Customer Credit Summary Access**
User is able to retrieve credit transaction overview showing credit number, transaction date, reason, current status, total amount, and applied/unapplied balance breakdown from billing account or payment registry.

**2. Allocation Distribution Review by Delivery Model**
User is able to view credit allocation against member records (individual model) or invoices (group model) with searchable member identification and invoice period filtering.
    2.1 When delivery model is unknown, system displays invoice-only allocation view.
    2.2 When credit is reversed or unapplied, allocation tabs are restricted accordingly.

**3. Transaction History Analysis**
User is able to examine chronological credit activities including creation, allocation, unallocation, and reversal events with status transitions, activity amounts, and reversal justifications.

**4. Detailed Activity Investigation**
User is able to expand individual history entries to review reversal reasons, applied/unapplied breakdowns, and descriptive annotations for audit purposes.


**Acceptance Criteria:**

**1. Credit Summary Presentation**
Given a billing account contains customer credits, When specialist accesses credit details, Then system presents transaction metadata with dynamic applied/unapplied calculations reflecting current allocation state.

**2. Delivery-Model-Specific Allocation Display**
Given billing account delivery model is determined, When specialist reviews allocation, Then system defaults to member records view for individual accounting or invoice view for group billing structures.

**3. Status-Driven Access Control**
Given customer credit status is reversed, When specialist accesses details, Then system restricts view to header and history only, suppressing allocation tabs.

**4. Allocation Search and Navigation**
Given member records exceed pagination threshold, When specialist searches by member identity, Then system provides autosuggestion with paginated results showing coverage and allocation amounts.

**5. Historical Activity Transparency**
Given credit has undergone multiple lifecycle events, When specialist reviews history, Then system displays chronological activities with expandable reversal justifications and balance progression.

**6. Unknown Bill Type Handling**
Given billing account has no issued products, When specialist accesses credit, Then system displays invoice header only until bill type determination occurs.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=556512363"
]

---

#### Feature: Search and Filter Member Records Paid by Customer Credit
- **Role**: Billing Administrator
- **Action**: search and filter member records associated with customer payment transactions
- **Value**: I can efficiently locate and review specific member payment allocations within complex billing accounts

**Description:**

As a **Billing Administrator**,
I want to **search and filter member records associated with customer payment transactions**,
So that **I can efficiently locate and review specific member payment allocations within complex billing accounts**


**Key Capabilities:**

**1. Member Record Search Initiation**
User accesses payment details context for qualified non-individual customers with issued, invoiced, and paid member records on list bill billing accounts

**2. Dynamic Search Execution**
User provides partial member identity criteria (minimum 3 characters); system performs case-insensitive matching across first and last name attributes within payment-allocated records
    2.1 Upon single criterion entry, system searches both name fields independently
    2.2 Upon dual criterion entry (space-separated), system requires both criteria matches simultaneously

**3. Search Results Management**
User applies filter to view matched records; system displays filtered member records with pagination support and provides clear filter mechanism for iterative refinement


**Acceptance Criteria:**

**1. Search Scope Validation**
Given payment spans multiple billing accounts, When user initiates search, Then system restricts results to current billing account context only

**2. Single Criterion Matching**
Given user enters 3+ characters without space, When search executes, Then system returns records matching either first or last name fields

**3. Dual Criterion Matching**
Given user enters space-separated criteria, When search executes, Then system returns only records matching both first AND last name requirements

**4. Filter Application Control**
Given search criteria entered, When user explicitly confirms filter action, Then system displays filtered member records table

**5. Filter Reset Capability**
Given active filter applied, When user clears search criteria, Then system restores unfiltered member records view


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=556512191"
]

---

#### Feature: Generate Unique Customer Credit Numbers
- **Role**: Billing Administrator
- **Action**: generate unique customer credit identifiers following standardized sequencing rules
- **Value**: credits are traceable, reconcilable, and consistent with payment numbering conventions across the billing system

**Description:**

As a **Billing Administrator**,
I want to **generate unique customer credit identifiers following standardized sequencing rules**,
So that **credits are traceable, reconcilable, and consistent with payment numbering conventions across the billing system**


**Key Capabilities:**

**1. Credit Number Sequence Initialization**
System establishes sequential numbering pattern with predefined prefix 'CC' and configurable digit length aligned to payment number standards.

**2. Automated Unique Identifier Assignment**
Upon credit creation, system automatically generates next sequential number ensuring uniqueness and preventing collisions.

**3. Digit Length Synchronization**
System enforces digit count consistency between credit numbers and both external/internal payment identifiers within billing domain.

**4. Sequential Integrity Maintenance**
System preserves uninterrupted sequence progression across all credit transactions throughout operational lifecycle.


**Acceptance Criteria:**

**1. Valid Credit Number Format**
Given credit generation is triggered, When system assigns identifier, Then number follows 'CC' prefix plus sequential digits matching payment number length.

**2. Uniqueness Guarantee**
Given multiple concurrent credit requests, When system generates identifiers, Then no duplicate credit numbers exist in billing repository.

**3. Digit Length Compliance**
Given payment numbers use N digits, When credit number is created, Then sequential portion contains exactly N digits.

**4. Sequential Continuity**
Given last credit was CC000005, When new credit is generated, Then identifier becomes CC000006 without gaps.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=749184373"
]

---

#### Feature: Delete Incomplete Customer Credit Allocations
- **Role**: Billing Administrator
- **Action**: remove incomplete credit allocations from customer accounts
- **Value**: maintain data integrity and prevent erroneous credit applications that could impact financial reconciliation

**Description:**

As a **Billing Administrator**,
I want to **remove incomplete credit allocations from customer accounts**,
So that **I can maintain data integrity and prevent erroneous credit applications that could impact financial reconciliation**.


**Key Capabilities:**

**1. Incomplete Allocation Identification**
System identifies credit allocations that remain in draft or incomplete status without finalized application to customer accounts.

**2. Deletion Authorization & Execution**
User is able to review and authorize removal of incomplete credit allocations while system validates no financial commitments exist.
    2.1 When dependencies exist, system prevents deletion
    2.2 Upon confirmation, system archives allocation details for audit trail

**3. Account Balance Reconciliation**
System automatically recalculates customer account balances and updates financial records to reflect removed allocations.


**Acceptance Criteria:**

**1. Incomplete Record Detection**
Given credit allocations exist in the system, When allocation lacks finalization markers, Then system flags it as eligible for deletion.

**2. Protected Deletion Process**
Given an incomplete allocation is selected, When financial dependencies are detected, Then system prevents deletion and notifies user.

**3. Successful Removal Confirmation**
Given deletion is authorized, When system completes removal, Then audit trail is created and account balances are recalculated.

**4. Data Integrity Preservation**
Given deletion occurs, When completed, Then no orphaned financial references remain in related systems.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=555077362"
]

---

#### Feature: Handle Overpayment Allocation to Member Records
- **Role**: Billing Administrator
- **Action**: allocate and save overpayments to member records without immediate application
- **Value**: payment allocation decisions can be reviewed and finalized separately, reducing errors and supporting flexible payment management workflows

**Description:**

As a **Billing Administrator**,
I want to **allocate and save overpayments to member records without immediate application**,
So that **payment allocation decisions can be reviewed and finalized separately, reducing errors and supporting flexible payment management workflows**


**Key Capabilities:**

**1. Payment Allocation Initiation**
User selects unapplied payment or customer credit and initiates allocation via allocation file, strategy-based rules, or manual assignment to member records.

**2. Draft Allocation Validation**
Upon saving, system validates that total allocated amounts do not exceed available payment balance; when threshold exceeded, user confirms intent before proceeding.

**3. Draft Persistence Without Application**
System saves allocation details with 'Incomplete' status without applying funds, updating balances, or changing payment lifecycle states.

**4. Workflow Continuation Options**
User chooses to continue editing allocations on current screen or exit to billing account view where draft remains accessible for modification or deletion.


**Acceptance Criteria:**

**1. Valid Allocation Draft Save**
Given allocated amount is within available payment balance, When user saves allocation, Then system persists draft without applying funds or updating invoice balances.

**2. Overallocation Warning**
Given total allocation exceeds payment amount, When user attempts save, Then system displays confirmation modal requiring explicit user approval before saving.

**3. Draft Status Visibility**
Given allocation is saved as draft, When user returns to billing account view, Then payment displays 'Incomplete' tag and remains editable.

**4. No Balance Impact**
Given draft allocation exists, When save completes, Then member record balances and payment lifecycle status remain unchanged until application is finalized.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=550286498"
]

---

#### Feature: Fire Business Events for Refund Lifecycle Milestones
- **Role**: Billing Operations
- **Action**: capture and broadcast refund lifecycle events across integrated systems
- **Value**: downstream systems receive real-time refund status updates enabling coordinated financial reconciliation and audit compliance

**Description:**

As a **Billing Operations** user,
I want to **capture and broadcast refund lifecycle events across integrated systems**,
So that **downstream systems receive real-time refund status updates enabling coordinated financial reconciliation and audit compliance**.


**Key Capabilities:**

**1. Refund Initiation Capture**
Upon refund creation on billing account, system generates unique identifier and structures comprehensive transaction data including customer, financial, and method details.

**2. Transaction Classification & Validation**
System determines initiation method (manual/automatic), validates account eligibility, and retrieves tax treatment rules from policy subsystem.
    2.1 When amount exceeds threshold, system assigns authority level and routes for approval
    2.2 System prevents processing if payor, payee, or payment method undefined

**3. Event Publication**
System broadcasts structured event payload with client context, authentication headers, and complete refund transaction data to subscribed systems with audit timestamps.


**Acceptance Criteria:**

**1. Event Generation for Valid Refund**
Given billing account has available credit, When refund is initiated with required customer and payment data, Then system generates unique refund number and publishes event with complete transaction details.

**2. Approval Workflow Enforcement**
Given refund amount exceeds threshold, When transaction is created, Then system assigns authority level and prevents completion until approved user confirmation recorded.

**3. Tax Treatment Application**
Given refund is processed, When tax rules retrieved from policy subsystem, Then system applies correct taxability classification (pre-tax/post-tax) and includes in event payload.

**4. Audit Trail Completeness**
Given any refund event, When published, Then payload includes creation/update timestamps and user identifiers in standard format.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=643030965"
]

---

#### Feature: Process Refund Payments from Member Record Unapplied
- **Role**: Billing Operations
- **Action**: process refund payments from member record unapplied balances
- **Value**: excess payments are returned efficiently to payees while maintaining comprehensive audit trails and compliance with banking regulations

**Description:**

As a **Billing Operations**,
I want to **process refund payments from member record unapplied balances**,
So that **excess payments are returned efficiently to payees while maintaining comprehensive audit trails and compliance with banking regulations**


**Key Capabilities:**

**1. Refund Transaction Initiation**
User is able to initiate refund transactions from member record unapplied balances, specifying refund reason, payment method, and payee information. Upon initiation, system generates unique refund identifier and captures transaction timestamp.

**2. Source Payment Allocation**
System allocates refund amounts across one or more originating incoming payments, tracking refunded portions per source payment with currency and method details.

**3. Policy and Member Context Validation**
System validates policy context (master policy, product code, situs state) and member record context (when applicable, excluding self-bill products) to ensure refund eligibility.

**4. Banking and Status Management**
User is able to flag refunds requiring bank processing and track refund status through lifecycle stages. System maintains effective dates distinguishing transaction initiation from payment execution dates.

**5. Comprehensive Audit Trail**
System captures complete audit history including creation and modification metadata, event occurrence timestamps, and all transactional details for compliance and reconciliation purposes.


**Acceptance Criteria:**

**1. Valid Refund Initiation**
Given member record has sufficient unapplied balance from existing incoming payments, When refund transaction is initiated with valid reason and payee details, Then system generates unique refund number and records transaction with pending status.

**2. Source Payment Traceability**
Given refund is processed from multiple incoming payments, When refund allocation is completed, Then system captures refunded amount per source payment maintaining full traceability to original transactions.

**3. Policy Context Requirements**
Given refund is initiated for non-self-bill product, When member record context is required, Then system validates and captures member record number, effective date, and situs state before proceeding.

**4. Banking Flag Validation**
Given refund requires bank processing, When banking flag is set, Then system prevents status advancement until external banking confirmation is received.

**5. Audit Compliance**
Given refund transaction is created or modified, When event is published, Then system captures complete audit trail including creator, timestamps, and all financial details in standardized format.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=616771676"
]

---

#### Feature: Unallocate Payments from Invoice Items to Member Record Overpayment
- **Role**: Billing Specialist
- **Action**: unallocate excessive payment amounts from invoice items to member record overpayment
- **Value**: I can accurately resolve overpayment situations while maintaining proper audit trails and financial reconciliation

**Description:**

As a **Billing Specialist**,
I want to **unallocate excessive payment amounts from invoice items to member record overpayment**,
So that **I can accurately resolve overpayment situations while maintaining proper audit trails and financial reconciliation**


**Key Capabilities:**

**1. Payment Transaction Identification**
System locates the original payment transaction with transaction/effective dates, payment identifiers, classification, account information, and processing flags.

**2. Member and Policy Context Determination**
System retrieves member record details and associated master policy information when applicable to product type.

**3. Invoice and Item Selection**
System identifies specific invoices and invoice items from which excessive amounts will be unallocated, including coverage and billing period details.

**4. Overpayment Amount Calculation and Unallocation**
System calculates and unallocates only the excessive payment amount from affected invoice items without full reversal and reallocation.

**5. Transaction Recording and Audit Trail**
System records unallocation details with complete entity relationships and tracking metadata for compliance and reconciliation purposes.


**Acceptance Criteria:**

**1. Valid Overpayment Unallocation**
Given an overpayment exists on invoice items, When the specialist initiates unallocation, Then the system unallocates only the excessive amount and updates member record overpayment balance.

**2. Product-Specific Processing**
Given the product is Individual Benefits, When unallocation is processed, Then the system bypasses master policy information and proceeds with member record data.

**3. Multi-Invoice Handling**
Given overpayment affects multiple invoices, When unallocation occurs, Then the system processes each invoice and its items with respective unallocation amounts.

**4. Audit Trail Completeness**
Given unallocation is completed, When transaction is recorded, Then the system captures all entity relationships, user identification, and timestamp data for compliance reporting.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=581119888"
]

---

#### Feature: Update Refund Status to Escheated Automatically
- **Role**: Billing Administrator
- **Action**: automatically update refund status to escheated when regulatory escheatment conditions are met
- **Value**: ensure compliance with unclaimed property regulations and maintain accurate refund lifecycle tracking without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **automatically update refund status to escheated when regulatory escheatment conditions are met**,
So that **ensure compliance with unclaimed property regulations and maintain accurate refund lifecycle tracking without manual intervention**


**Key Capabilities:**

**Escheatment Eligibility Detection**
System continuously monitors outstanding refunds against regulatory dormancy periods and automatically identifies refunds meeting escheatment criteria based on jurisdiction rules.

**Automated Status Transition**
Upon eligibility confirmation, system transitions refund status from active to escheated and triggers outbound payment escheatment event notification.

**Event Publication & Integration**
System publishes OutboundPaymentEscheatedEvent to downstream systems enabling coordinated escheatment reporting and payment blocking.

**Audit Trail Maintenance**
System records escheatment status change timestamp, triggering conditions, and regulatory basis for compliance verification.


**Acceptance Criteria:**

**1. Eligible Refund Identification**
Given a refund has remained unclaimed beyond the regulatory dormancy period, When the system evaluates escheatment eligibility, Then the refund is automatically flagged for escheatment processing.

**2. Status Update Execution**
Given a refund meets escheatment criteria, When the automated process executes, Then the refund status updates to 'Escheated' and OutboundPaymentEscheatedEvent is published.

**3. Payment Prevention**
Given a refund has escheated status, When payment processing is attempted, Then the system blocks transaction and notifies of escheatment state.

**4. Compliance Audit Support**
Given escheatment status changes occur, When audit reports are generated, Then all transitions include timestamp, regulatory basis, and event references.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=741919282"
]

---

#### Feature: Filter Available Payment Subtypes for Internal Payment Application
- **Role**: Billing Administrator
- **Action**: apply internal payments using filtered payment subtypes
- **Value**: I can efficiently process internal transactions with appropriate payment classifications and ensure accurate cash application

**Description:**

As a **Billing Administrator**,
I want to **apply internal payments using filtered payment subtypes**,
So that **I can efficiently process internal transactions with appropriate payment classifications and ensure accurate cash application**


**Key Capabilities:**

**1. Payment Subtype Selection**
User accesses internal payment application workflow and views filtered payment subtypes relevant to the transaction context

**2. Payment Application Execution**
User selects appropriate payment subtype and submits internal payment details for system processing
    2.1 System validates payment subtype eligibility against business rules
    2.2 System applies payment classification automatically based on selected subtype

**3. Transaction Confirmation**
System confirms successful internal payment application and updates account balances accordingly


**Acceptance Criteria:**

**1. Subtype Filtering Validation**
Given internal payment workflow is initiated, When user accesses payment subtype selection, Then system displays only payment subtypes eligible for internal application based on context

**2. Payment Application Success**
Given valid payment subtype is selected, When user submits complete payment details, Then system processes internal payment and confirms transaction completion

**3. Incomplete Data Prevention**
Given payment application is in progress, When required information is missing, Then system prevents submission and indicates missing business requirements


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=740627569"
]

---

#### Feature: Notify Users of Refund Processing Status Changes
- **Role**: Billing Administrator
- **Action**: receive real-time notifications when refund processing status changes
- **Value**: I can proactively communicate with customers and maintain transparency throughout the refund lifecycle

**Description:**

As a **Billing Administrator**,
I want to **receive real-time notifications when refund processing status changes**,
So that **I can proactively communicate with customers and maintain transparency throughout the refund lifecycle**


**Key Capabilities:**

**1. Refund Initiation Confirmation**
Upon successful refund processing initiation, system generates automatic status notification confirming workflow commencement.

**2. Status Communication Delivery**
User is able to receive processing milestone confirmations through system notifications indicating refund lifecycle progression.

**3. Notification Management**
User is able to acknowledge and dismiss status notifications after reviewing refund processing confirmation details.


**Acceptance Criteria:**

**1. Successful Initiation Notification**
Given refund processing workflow is successfully initiated, When the system completes intake validation, Then user receives confirmation notification indicating processing has commenced.

**2. Notification Visibility**
Given status change occurs during active session, When milestone is reached, Then system displays notification without requiring page refresh.

**3. Dismissal Capability**
Given notification is displayed to user, When user acknowledges the status update, Then system allows manual dismissal of the notification message.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=571487504"
]

---

#### Feature: Notify Users of Refund Cancellation Initiation
- **Role**: Billing Administrator
- **Action**: receive timely notification when refund cancellation is initiated
- **Value**: I can maintain awareness of critical payment reversals and take appropriate follow-up actions

**Description:**

As a **Billing Administrator**,
I want to **receive timely notification when refund cancellation is initiated**,
So that **I can maintain awareness of critical payment reversals and take appropriate follow-up actions**


**Key Capabilities:**

**1. Refund Cancellation Trigger Detection**
When system identifies a refund cancellation initiation event, notification workflow is automatically triggered.

**2. User Notification Delivery**
User receives clear confirmation message indicating refund cancellation process has commenced, enabling awareness of payment status change.

**3. Notification Acknowledgment**
User is able to acknowledge and dismiss the notification after reviewing the cancellation status information.


**Acceptance Criteria:**

**1. Automatic Notification Trigger**
Given a refund cancellation is initiated, When the system processes the cancellation request, Then user receives immediate notification of the cancellation commencement.

**2. Message Clarity**
Given notification is displayed, When user views the message, Then communication clearly indicates refund cancellation has started.

**3. User Control**
Given notification is presented, When user acknowledges the information, Then user can dismiss the notification from their view.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=653603439"
]

---

### Epic: Write-Off & Bad Debt Management

#### Feature: Initiate Manual Write-Off Requests
- **Role**: Billing Administrator
- **Action**: initiate manual write-off requests for uncollectible invoice balances
- **Value**: I can efficiently manage bad debt by writing off uncollectible amounts while maintaining proper approval controls and accurate account balances

**Description:**

As a **Billing Administrator**,
I want to **initiate manual write-off requests for uncollectible invoice balances**,
So that **I can efficiently manage bad debt by writing off uncollectible amounts while maintaining proper approval controls and accurate account balances**


**Key Capabilities:**

**1. Write-Off Request Submission**
User initiates write-off from invoice actions, selects full or partial write-off type, specifies reason and optional details, then submits for processing.

**2. Threshold-Based Approval Routing**
System compares write-off amount against configured thresholds and user authority limits to determine auto-approval or pending approval status.
    2.1 When amount is within auto-approval limits, system immediately issues write-off
    2.2 When amount exceeds limits, system routes to approval workflow

**3. Financial Impact Processing**
System allocates write-off per billing type rules, recalculates invoice remaining balance and status, updates billing account balances, and triggers period-to-date recalculation.

**4. Validation and Error Handling**
System validates invoice eligibility, write-off amount against remaining due, and queues asynchronous validations with processing status tracking.


**Acceptance Criteria:**

**1. Successful Auto-Approved Write-Off**
Given an eligible invoice with remaining balance and write-off amount within auto-approval threshold, When user submits write-off request with valid reason, Then system creates write-off in 'Issued' status, recalculates invoice and account balances, and generates confirmation message.

**2. Approval-Required Write-Off**
Given write-off amount exceeds configured threshold or user authority limits, When user submits request, Then system creates write-off in 'Pending' status and triggers approval workflow task.

**3. Partial Write-Off Allocation**
Given user specifies partial write-off with custom allocation amounts, When submitted amount does not exceed invoice remaining due, Then system creates write-off with specified allocations and recalculates balances accordingly.

**4. Validation Failure Handling**
Given invoice status becomes ineligible during asynchronous validation, When system processes queued write-off, Then system cancels write-off and notifies user of unavailability.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=672765810"
]

---

#### Feature: Approve or Reject Manual Write-Off Requests
- **Role**: Billing Approver
- **Action**: authorize or decline manual write-off requests based on approval authority and business rules
- **Value**: I can ensure proper financial controls and accurate account reconciliation while maintaining audit compliance

**Description:**

As a **Billing Approver**,
I want to **authorize or decline manual write-off requests based on approval authority and business rules**,
So that **I can ensure proper financial controls and accurate account reconciliation while maintaining audit compliance**


**Key Capabilities:**

**1. Authority Verification**
System validates approver's authorization level against write-off amount thresholds before enabling decision actions

**2. Approval Decision Processing**
User reviews pending write-off and confirms approval to initiate allocation
    2.1 Upon approval, system allocates write-off amounts to invoices and recalculates invoice balances
    2.2 System updates billing account balances and invoice payment statuses automatically

**3. Rejection Processing with Justification**
User declines write-off by providing reason code and supporting details

**4. Financial Impact Propagation**
System triggers paid-to-date recalculation and notifies compensation subsystem when allocation affects invoiced items

**5. Workflow Completion**
System closes approval task and publishes status change events for downstream processes


**Acceptance Criteria:**

**1. Authority Enforcement**
Given approver lacks sufficient authority level, When accessing write-off, Then approval actions are unavailable

**2. Successful Approval**
Given valid approval authority, When approver confirms approval, Then write-off status changes to Issued and allocations are created against invoices

**3. Balance Recalculation**
Given write-off is approved, When allocations complete, Then invoice balances and account balances are recalculated automatically

**4. Rejection with Reason**
Given approver rejects write-off, When reason is provided, Then write-off status changes to Rejected and approval task closes

**5. Action Cancellation**
Given approver initiates approval, When cancellation is requested, Then write-off remains in Pending status with no changes applied


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=685966232"
]

---

#### Feature: Reverse Manual Write-Offs
- **Role**: Billing Administrator
- **Action**: reverse previously applied manual write-offs to restore invoice receivables
- **Value**: billing accuracy is maintained and account balances reflect corrected financial positions

**Description:**

As a **Billing Administrator**,
I want to **reverse previously applied manual write-offs to restore invoice receivables**,
So that **billing accuracy is maintained and account balances reflect corrected financial positions**


**Key Capabilities:**

**1. Write-Off Selection & Reversal Initiation**
User locates qualified manual write-off transaction and initiates reversal action with required authorization privileges.

**2. Reversal Justification Capture**
User provides business reason for reversal and optional supporting documentation to maintain audit trail.

**3. Automated Financial Adjustment Processing**
System creates offsetting transaction with opposite sign, marks original as reversed, and recalculates invoice remaining balances and payment status.

**4. Account Balance Reconciliation**
System automatically recalculates all billing account balances and paid-to-date metrics across billing types.

**5. Cross-System Notification Distribution**
System broadcasts reversal events to downstream systems including compensation and financial reporting subsystems for synchronized updates.


**Acceptance Criteria:**

**1. Authorization Validation**
Given user lacks reversal privileges, When reversal is attempted, Then system prevents action and maintains existing write-off state.

**2. Transaction Reversal Execution**
Given valid manual write-off exists, When user completes reversal with reason, Then system creates offsetting transaction and updates original status to 'Reversed'.

**3. Financial Recalculation Accuracy**
Given write-off is reversed, When transaction posts, Then invoice remaining due and account balances reflect restored receivable amounts.

**4. Downstream System Synchronization**
Given reversal completes successfully, When events are triggered, Then compensation and reporting subsystems receive notifications for processing.

**5. Audit Trail Preservation**
Given reversal transaction is created, When viewing account history, Then both original and reversal transactions are visible with complete metadata.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=685975297"
]

---

#### Feature: Generate Small Balance Write-Offs Automatically
- **Role**: Billing Administrator
- **Action**: automatically process and write off small balance invoices within configured tolerance thresholds
- **Value**: reduce manual effort, minimize administrative costs, and maintain clean account receivables without pursuing immaterial amounts

**Description:**

As a **Billing Administrator**,
I want to **automatically process and write off small balance invoices within configured tolerance thresholds**,
So that **reduce manual effort, minimize administrative costs, and maintain clean account receivables without pursuing immaterial amounts**


**Key Capabilities:**

**1. Billing Account Sequential Processing**
System initiates automated job (scheduled or manual) to process billing accounts sequentially, ensuring systematic coverage.

**2. Invoice Eligibility Determination**
System evaluates invoices (oldest first) against tolerance rules, validating status, prior write-off history, and configuration parameters.

**3. Tolerance Validation & Amount Calculation**
System applies OpenL rule configurations to determine tolerance limits and calculate qualified write-off amounts per invoice.

**4. Write-Off Transaction Execution**
Upon validation success, system places write-off in action sequence, performs asynchronous checks, issues transaction, and allocates across invoice items.

**5. Balance Reconciliation & Status Update**
System recalculates invoice balances, updates status to 'Paid', refreshes billing account balances, and computes Paid-to-Date metrics.

**6. Audit Trail & Notification Generation**
System fires business events, generates BAM messages, and displays write-off transactions in billing account interfaces for compliance tracking.


**Acceptance Criteria:**

**1. Qualified Invoice Write-Off Success**
Given an invoice with status 'Issued' or 'Partially Paid' within tolerance limits, When automated job processes the billing account, Then system issues write-off transaction, updates invoice status to 'Paid', and remaining due becomes zero.

**2. Tolerance Threshold Enforcement**
Given invoice balance exceeds configured tolerance limit, When system evaluates eligibility, Then invoice is skipped and processing continues to next qualifying invoice without interruption.

**3. Duplicate Prevention Control**
Given invoice has existing non-reversed write-off, When system validates eligibility, Then invoice is excluded from processing to prevent duplicate write-offs.

**4. Validation Failure Handling**
Given write-off fails asynchronous validation checks, When system detects failure, Then write-off is cancelled, BAM message generated, and transaction marked 'Cancelled' in billing account view.

**5. Multi-Account Sequential Processing**
Given multiple billing accounts in processing queue, When job completes one account, Then system automatically proceeds to next account maintaining sequential order.

**6. Downstream System Synchronization**
Given successful write-off execution, When transaction completes, Then system fires compensation events, recalculates PTD, and updates all dependent balance calculations.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=634009393"
]

---

#### Feature: Reverse Write-Offs Automatically Based on Payment or Invoice Changes
- **Role**: Billing Administrator
- **Action**: automatically reverse write-off transactions when payment allocations or invoice statuses change
- **Value**: invoice balances remain accurate and write-off records reflect current financial reality without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **automatically reverse write-off transactions when payment allocations or invoice statuses change**,
So that **invoice balances remain accurate and write-off records reflect current financial reality without manual intervention**


**Key Capabilities:**

**1. Trigger Detection**
System monitors payment allocation changes (decline, reverse, suspend, transfer, reallocate) or invoice discarding events involving previously written-off balances.

**2. Automatic Reversal Processing**
Upon detecting qualifying trigger, system creates offsetting write-off transactions with reversed amounts, status marked as 'Reversed', and subtype 'Automatic' for affected invoices.

**3. Financial Recalculation**
System recalculates invoice remaining due, payment status, and all billing account balances according to established calculation rules.

**4. Notification Distribution**
System generates business activity messages for small balance and manual write-off reversals, fires reversal events, and notifies compensation subsystem.

**5. Paid-to-Date Adjustment**
System triggers PTD recalculation job to reflect updated payment allocation after write-off reversal.


**Acceptance Criteria:**

**1. Payment Reallocation Reversal**
Given an invoice with existing small balance write-off, when payment allocation is modified or reversed, then system automatically creates offsetting write-off transaction and recalculates invoice balance.

**2. Invoice Discard Reversal**
Given a discarded invoice with prior write-offs, when discard operation executes, then system reverses all associated write-off transactions and updates account balances.

**3. Balance Accuracy**
Given completed write-off reversal, when invoice is displayed, then remaining due amount reflects reversed write-off with correct calculation.

**4. Notification Integrity**
Given automatic reversal completion, when transaction is finalized, then appropriate business activity messages are generated and compensation subsystem receives update events.

**5. Audit Trail**
Given reversed write-off transaction, when viewed on billing account, then transaction displays 'Reversed' status with 'Automatic' subtype and opposite sign amount.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=666809877"
]

---

#### Feature: Allocate Write-Off Amounts to Invoice Items Based on Priority Rules
- **Role**: Billing Administrator
- **Action**: allocate write-off amounts to invoice items based on configurable priority rules and distribution strategies
- **Value**: I can systematically reduce uncollectible balances while maintaining accurate financial records and applying consistent business policies across invoicing periods and coverage hierarchies

**Description:**

As a **Billing Administrator**,
I want to **allocate write-off amounts to invoice items based on configurable priority rules and distribution strategies**,
So that **I can systematically reduce uncollectible balances while maintaining accurate financial records and applying consistent business policies across invoicing periods and coverage hierarchies**


**Key Capabilities:**

**1. Write-Off Eligibility Validation**
Upon write-off initiation, user validates that write-off amount does not exceed invoice's remaining due balance, ensuring financial integrity.

**2. Allocation Strategy Determination**
User configures allocation approach by selecting priority rules (invoicing period precedence, premium sequence precedence, or combined hierarchy) to align with business policies.

**3. Hierarchical Distribution Execution**
System distributes write-off amounts by prioritizing oldest periods/sequences first, covering complete periods when sufficient funds exist, then proportionally allocating across granular invoice items when partial coverage occurs.

**4. Proportional Calculation & Rounding**
When periods cannot be fully covered, system applies coefficient-based formulas to distribute remaining amounts proportionally across eligible items, with rounding differences allocated randomly.

**5. Negative Item Exclusion**
System excludes negative invoice items from allocation calculations, ensuring write-offs only reduce positive outstanding balances.


**Acceptance Criteria:**

**1. Validation Enforcement**
Given an invoice with remaining due balance, when write-off amount exceeds this balance, then system prevents allocation and notifies user of constraint violation.

**2. Priority-Based Coverage**
Given multiple invoicing periods exist, when priority rules favor oldest periods, then system fully covers oldest periods before allocating to newer periods.

**3. Proportional Distribution Accuracy**
Given insufficient write-off to cover a period fully, when system applies proportional allocation, then calculated amounts match coefficient formula results within rounding tolerance.

**4. Rounding Difference Handling**
Given proportional distribution creates rounding differences, when allocation completes, then total allocated equals original write-off amount with difference applied to random item.

**5. Negative Item Exclusion**
Given invoice contains negative items, when write-off processes, then negative items receive zero allocation and remaining due calculation excludes them.

**6. Configuration Compliance**
Given specific priority configuration selected, when allocation executes, then distribution sequence follows configured coverage priority order exactly.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=681714679"
]

---

#### Feature: Calculate Bad Debt Reserve Amounts
- **Role**: Billing Accountant
- **Action**: calculate bad debt reserve amounts for invoice write-offs
- **Value**: I can accurately determine small balance write-off amounts and maintain financial reporting integrity

**Description:**

As a **Billing Accountant**,
I want to **calculate bad debt reserve amounts for invoice write-offs**,
So that **I can accurately determine small balance write-off amounts and maintain financial reporting integrity**


**Key Capabilities:**

**1. Small Balance Write-Off Amount Determination**
System calculates write-off amount at invoice level using Current Due minus Payments allocated to invoice

**2. Calculation Formula Application**
Upon invoice balance evaluation, system applies approved calculation methodology to derive precise write-off amounts

**3. Alternative Calculation Method (Future)**
When enhanced formula is approved, system accommodates calculation using Current Due minus Reconciled positive items minus Payments minus Customer Credit

**4. Invoice-Level Reserve Processing**
System processes calculated amounts at individual invoice level ensuring granular financial tracking and reporting accuracy


**Acceptance Criteria:**

**1. Standard Calculation Execution**
Given an invoice with remaining balance, When system calculates write-off amount, Then result equals Current Due minus allocated Payments

**2. Invoice-Level Granularity**
Given multiple invoices requiring write-off, When calculations are performed, Then each invoice receives individual calculation treatment without aggregation

**3. Calculation Readiness Validation**
Given calculated write-off amount, When computation completes successfully, Then amount is marked ready for transaction processing workflows

**4. Data Completeness Enforcement**
Given missing Current Due or Payment allocation data, When calculation is attempted, Then system prevents processing until required data elements are available


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=654970385"
]

---

#### Feature: Recalculate Tolerance Flags on Invoices After Balance Changes
- **Role**: Billing Administrator
- **Action**: automatically recalculate tolerance flags on invoices when balance changes occur
- **Value**: invoice balances are accurately carried forward, bad debt is minimized, and delinquency processes apply only to invoices exceeding tolerance thresholds

**Description:**

As a **Billing Administrator**,
I want to **automatically recalculate tolerance flags on invoices when balance changes occur**,
So that **invoice balances are accurately carried forward, bad debt is minimized, and delinquency processes apply only to invoices exceeding tolerance thresholds**


**Key Capabilities:**

**1. Tolerance Recalculation Trigger**
Upon completion of payment allocation, reversal, transfer, or negative adjustment reconciliation, system initiates sequential invoice tolerance evaluation starting from oldest invoice.

**2. Invoice Eligibility Validation**
System validates invoice status (Issued/Partially Paid or Paid) and retrieves applicable tolerance configuration parameters from policy rules engine.

**3. Tolerance Threshold Assessment**
System calculates tolerance limit and determines whether invoice balance falls within carry-forward or small-balance write-off thresholds per configured rules.

**4. Flag Assignment or Removal**
When invoice is within tolerance, system applies tolerance flag; when paid or exceeding threshold, system removes flag from current and subsequent invoices.

**5. Downstream Process Integration**
System excludes flagged invoices from delinquency processing, carries forward balances to next invoice, and recalculates payment-to-date metrics.


**Acceptance Criteria:**

**1. Tolerance Flag Applied for Eligible Invoices**
Given invoice is partially paid and within tolerance threshold, When tolerance recalculation completes, Then system applies tolerance flag and excludes invoice from delinquency.

**2. Flag Removed Upon Full Payment**
Given invoice with existing tolerance flag is fully paid, When recalculation executes, Then system removes tolerance flag from invoice.

**3. Flag Removed When Threshold Exceeded**
Given invoice balance exceeds tolerance limit, When recalculation evaluates invoice, Then system removes tolerance flag from current and all subsequent invoices.

**4. Small Balance Write-Off Triggered**
Given tolerance configuration specifies small-balance write-off type, When invoice qualifies, Then system initiates write-off transaction instead of carry-forward.

**5. No Action for Missing Configuration**
Given no tolerance parameters exist for billing account, When recalculation attempts execution, Then system exits without applying flags or modifications.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=631126269"
]

---

#### Feature: Enforce Authority Level Limits for Write-Off Approvals
- **Role**: Billing Administrator
- **Action**: enforce authority-based write-off approval controls with configurable automation
- **Value**: write-offs are approved within delegated authority limits, ensuring compliance and operational efficiency

**Description:**

As a **Billing Administrator**,
I want to **enforce authority-based write-off approval controls with configurable automation**,
So that **write-offs are approved within delegated authority limits, ensuring compliance and operational efficiency**


**Key Capabilities:**

**1. Write-Off Initiation & Authority Validation**
User initiates manual write-off with 'Initiated' status. System validates write-off amount against user's Authority Level Approval Limit threshold.

**2. Configurable Approval Mode Execution**
When automatic mode enabled and amount within limit, system auto-approves without user action. When manual mode active and amount within limit, system presents approval/rejection actions.

**3. Authority Escalation for Limit Exceedance**
If write-off amount exceeds user's authority limit, system suppresses approval actions and maintains pending status, requiring escalation to higher-authority user regardless of configuration mode.


**Acceptance Criteria:**

**1. Auto-Approval Within Authority**
Given automatic mode enabled, When user initiates write-off within authority limit, Then system automatically transitions status to 'Approved' without manual intervention.

**2. Manual Approval Enablement**
Given manual mode configured, When write-off amount is within user's authority limit, Then system displays approval and rejection actions for user decision.

**3. Authority Limit Enforcement**
Given write-off amount exceeds user's authority limit, When approval is attempted, Then system hides approval actions and maintains pending status requiring escalation.

**4. Universal Authority Validation**
Given any write-off initiation regardless of bill type or product, When authority validation executes, Then system applies consistent authority limit rules globally.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=706340020"
]

---

#### Feature: Track Write-Off Financial Impact for GL Posting
- **Role**: Billing Administrator
- **Action**: track and record write-off financial impacts for general ledger integration
- **Value**: accurate financial reporting and regulatory compliance are maintained through proper write-off accounting

**Description:**

As a **Billing Administrator**,
I want to **track and record write-off financial impacts for general ledger integration**,
So that **accurate financial reporting and regulatory compliance are maintained through proper write-off accounting**


**Key Capabilities:**

**Write-Off Financial Event Capture**
System captures write-off transactions with relevant financial dimensions when billing administrator initiates write-off processing.

**GL Impact Calculation**
System automatically calculates general ledger posting amounts based on write-off type, account classification, and configured accounting rules.

**Write-Off Notification Generation**
System generates write-off notification events containing financial impact details for downstream GL posting systems.

**Financial Reconciliation Support**
System maintains comprehensive write-off audit trail linking billing records to GL postings for reconciliation purposes.


**Acceptance Criteria:**

**Write-Off Financial Data Captured**
Given a write-off is processed, When the transaction completes, Then system records all financial impact attributes required for GL posting.

**GL Posting Event Triggered**
Given write-off financial impact is calculated, When accounting rules are applied, Then system generates GL posting notification with accurate debit/credit entries.

**Audit Trail Maintained**
Given write-off transactions occur, When financial events are recorded, Then system preserves complete traceability between billing write-offs and GL postings.

**Reconciliation Data Available**
Given multiple write-offs are processed, When reconciliation is performed, Then system provides aggregated financial impact reporting for GL validation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=702098249"
]

---

#### Feature: Cancel Pending Write-Offs When Invoice or Payment Conditions Change
- **Role**: Billing Operations
- **Action**: automatically cancel pending write-offs when business events affect associated invoices or payments
- **Value**: data integrity is maintained and approval workflows are properly terminated without manual intervention

**Description:**

As a **Billing Operations** professional,
I want to **automatically cancel pending write-offs when business events affect associated invoices or payments**,
So that **data integrity is maintained and approval workflows are properly terminated without manual intervention**


**Key Capabilities:**

**1. Payment Activity Monitoring**
System monitors payment lifecycle events including declines, reversals, suspensions, transfers, reallocations, and unallocations against invoices with pending write-offs.

**2. Payment Application Detection**
System detects new payment allocations to invoices with pending write-offs across all billing models (IPA, True Group, Individual Direct).

**3. Invoice Lifecycle Tracking**
System tracks invoice management events including discards, write-off reversals, manual write-offs, and small balance write-offs affecting pending write-off records.

**4. Excessive Payment Calculation**
System identifies negative item calculations for excessive payments that impact invoices with corresponding pending write-offs.

**5. Automated Cancellation Execution**
Upon triggering event detection, system cancels pending write-off, updates status to 'Cancelled', changes subtype to 'Manual', generates notifications, fires system events, and closes approval tasks.

**6. Audit Trail Preservation**
System maintains visibility of cancelled write-offs across billing account and invoice screens for compliance tracking.


**Acceptance Criteria:**

**1. Payment Event Triggers Cancellation**
Given an invoice has a pending write-off, when payment decline, reversal, suspension, transfer, reallocation, or unallocation occurs, then system automatically cancels the write-off and updates status.

**2. New Payment Allocation Cancels Write-Off**
Given an invoice has a pending write-off, when new payment is applied or existing payment allocated, then system cancels pending write-off and closes approval task.

**3. Invoice Management Triggers Cancellation**
Given a pending write-off exists, when invoice is discarded or alternative write-off action is executed, then system prevents duplicate processing by cancelling pending write-off.

**4. System Notifications Generated**
Given write-off cancellation is triggered, when cancellation completes, then system generates BAM message, fires 'Write Off Cancelled' event, and notifies stakeholders.

**5. Approval Workflow Terminated**
Given a 'Write off Approval' task is open, when cancellation executes, then system closes the approval task and prevents further action.

**6. Cancelled Records Remain Visible**
Given write-off is cancelled, when users access billing account or invoice screens, then cancelled write-off displays with 'Cancelled' status for audit purposes.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=696499755"
]

---

#### Feature: Analyze Aging of Uncollectible Accounts
- **Role**: Billing Analyst
- **Action**: analyze aging patterns of accounts within tolerance thresholds to determine collectability status
- **Value**: I can optimize collection strategies and prevent premature write-offs while maintaining accurate aging metrics

**Description:**

As a **Billing Analyst**,
I want to **analyze aging patterns of accounts within tolerance thresholds to determine collectability status**,
So that **I can optimize collection strategies and prevent premature write-offs while maintaining accurate aging metrics**


**Key Capabilities:**

**Invoice Tolerance Assessment**
System validates invoice eligibility (Issued, Partially Paid status) and retrieves tolerance configuration parameters to determine processing approach

**Threshold Calculation and Validation**
System calculates tolerance limits and validates whether outstanding balances fall within acceptable thresholds for carry-forward or write-off consideration

**Tolerance Flag Management**
Upon meeting tolerance criteria, system applies tolerance flags to qualifying invoices, automatically exempting them from delinquency processes while enabling balance carry-forward

**Sequential Processing Logic**
System processes invoices chronologically from oldest to newest; when tolerance limits are exceeded, system removes flags from current and all subsequent invoices to maintain aging integrity

**Collectability Status Determination**
System distinguishes between carry-forward tolerances (accounts remaining collectible) and small-balance write-off candidates based on configuration rules


**Acceptance Criteria:**

**Tolerance Eligibility Validation**
Given an invoice in Issued/Partially Paid status, when tolerance parameters exist in configuration, then system calculates tolerance limits and evaluates eligibility

**Tolerance Flag Application**
Given invoice balance within tolerance threshold, when carry-forward type is configured, then system applies tolerance flag and exempts invoice from delinquency processing

**Threshold Breach Handling**
Given invoice exceeding tolerance limit, when tolerance flag exists, then system removes flag from current invoice and cascades removal to all subsequent invoices

**Write-Off Routing**
Given small-balance write-off tolerance type, when invoice meets criteria, then system initiates write-off transaction processing instead of carry-forward

**Paid Invoice Flag Removal**
Given invoice status changes to Paid, when tolerance flag is present, then system automatically removes tolerance flag and recalculates aging metrics


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=631126269"
]

---
## Initiative: Delinquency Management & Collections

### Epic: Delinquency Configuration & Control

#### Feature: Configure Delinquency Process Rules by Product and Bill Type
- **Role**: Billing Administrator
- **Action**: configure delinquency processing timelines and automated actions based on product, bill type, and payment allocation mode
- **Value**: ensure consistent policy cancellation workflows that balance business risk with policyholder retention across diverse billing scenarios

**Description:**

As a **Billing Administrator**,
I want to **configure delinquency processing timelines and automated actions based on product, bill type, and payment allocation mode**,
So that **ensure consistent policy cancellation workflows that balance business risk with policyholder retention across diverse billing scenarios**


**Key Capabilities:**

**1. Establish Delinquency Timeline Parameters**
Administrator defines grace period duration from invoice due date, varying by bill type (List Bill: 30 days True Group/20-30 days IPA, Direct Bill: 15 days, Self Bill: 30 days) and invoice payment status (IPA distinguishes unpaid vs partially paid).

**2. Schedule Automated Notice Triggers**
System generates reminder and cancellation notices at configured intervals relative to grace period end (negative days trigger before, positive after). Administrator assigns notice subtypes for document template mapping.

**3. Configure Cancellation Request Parameters**
Administrator sets automated cancellation trigger timing post-grace-period and selects effective date calculation method (invoice due date, grace period end, or paid-to-date level).

**4. Apply Override Rules**
When business conditions require deviation, administrator activates override configurations providing extended grace periods or state-specific notice schedules while preserving workflow integrity.


**Acceptance Criteria:**

**1. Timeline Calculation Accuracy**
Given invoice due date of 4/15/2023 with 30-day grace period, When grace period calculation executes, Then grace period ends exclusively on 4/25/2023 (invoice due at 00:00:00 on 4/15 + 30 days).

**2. Notice Scheduling Logic**
Given grace period ending 4/25/2023 with reminder at -10 days, When notice trigger evaluates, Then reminder generates on 4/15/2023 (10 days before grace period end, exclusive calculation).

**3. Payment Status Differentiation**
Given IPA billing account with partially paid invoice, When delinquency parameters apply, Then system uses 'Partially Paid' configuration (typically 30-day grace) instead of unpaid configuration (20-day grace).

**4. Cancellation Request Constraints**
Given cancellation trigger at 55 days post-grace with cancel notice at +30 days, When automated cancellation evaluates, Then cancellation date cannot precede any prior notice event dates.

**5. Override Configuration Precedence**
Given billing account with active override business rule LB_TG_1, When delinquency processing initiates, Then system applies 45-day grace period instead of default 30-day configuration.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=625643008"
]

---

#### Feature: Override Default Delinquency Configuration at Billing Account Level
- **Role**: Billing Administrator
- **Action**: override default delinquency configuration for specific billing accounts
- **Value**: I can apply customized delinquency processing rules that reflect unique account circumstances and business requirements

**Description:**

As a **Billing Administrator**,
I want to **override default delinquency configuration for specific billing accounts**,
So that **I can apply customized delinquency processing rules that reflect unique account circumstances and business requirements**


**Key Capabilities:**

**1. Delinquency Override Initiation**
User is able to access billing account management to initiate delinquency configuration override for selected accounts requiring exception handling.

**2. Custom Configuration Application**
User provides override parameters through business rules engine. System validates configuration against organizational policies and account eligibility criteria.

**3. Billing Scenario Processing**
Upon configuration save, system differentiates between List Bill and Individual Direct billing scenarios, applying scenario-specific delinquency logic.

**4. Automated Process Integration**
System triggers automatic delinquency communication processes using overridden parameters instead of default configuration for subsequent billing cycles.


**Acceptance Criteria:**

**1. Override Authorization**
Given administrator has appropriate permissions, When override configuration is submitted, Then system applies custom delinquency rules to designated billing account.

**2. Scenario-Specific Processing**
Given billing account has override configuration, When delinquency event occurs, Then system applies correct logic based on List Bill or Individual Direct billing scenario.

**3. Configuration Validation**
Given invalid override parameters are provided, When administrator attempts to save, Then system prevents application and requires compliant configuration.

**4. Automated Communication Trigger**
Given override is active, When delinquency threshold is reached, Then system automatically triggers communication using overridden parameters not default settings.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=677155251"
]

---

#### Feature: Manage Delinquency Escalation Thresholds and Stop Conditions
- **Role**: Billing Administrator
- **Action**: configure and override delinquency escalation thresholds and stop conditions at the billing account level
- **Value**: I can tailor grace periods, notification timing, and cancellation rules to align with business policies, bill types, and jurisdictional requirements

**Description:**

As a **Billing Administrator**,
I want to **configure and override delinquency escalation thresholds and stop conditions at the billing account level**,
So that **I can tailor grace periods, notification timing, and cancellation rules to align with business policies, bill types, and jurisdictional requirements**


**Key Capabilities:**

**1. Delinquency Strategy Selection**
User is able to identify and assign a delinquency configuration ID to a billing account to override default system behavior based on bill type and payment allocation mode.

**2. Grace Period Threshold Definition**
User is able to establish grace period durations ranging from 20 to 60 days, with variations for unpaid versus partially paid invoices when applicable.

**3. State-Specific Notification Scheduling**
When jurisdictional rules apply, user is able to configure differentiated reminder and cancellation notice timing for specific states (e.g., Arizona at -45/-30 days, Alabama at -30/-15 days, others at -15/-5 days).

**4. Payment Allocation Mode Adaptation**
Upon selecting List Bill configurations, user is able to apply distinct strategies for TRUE GROUP versus INDIVIDUAL PREMIUM ACCOUNTING allocation methods.

**5. Escalation Stop Condition Enforcement**
User is able to define cancellation triggers aligned with grace period expiration to prevent service continuation beyond policy thresholds.


**Acceptance Criteria:**

**1. Strategy Override Application**
Given a billing account requires customized delinquency handling, When the administrator assigns a configuration ID, Then the system applies the specified grace period and notification rules, superseding default parameters.

**2. Bill Type Differentiation**
Given bill types vary (List Bill, Direct Bill, Self Bill), When a configuration is selected, Then the system restricts available strategies to those compatible with the account's bill type and payment allocation mode.

**3. Payment Status Sensitivity**
Given an INDIVIDUAL PREMIUM ACCOUNTING configuration, When an invoice is partially paid, Then the system extends the grace period according to the strategy's partially paid threshold (e.g., 45 or 60 days instead of 30 or 40).

**4. Jurisdictional Compliance**
Given a state-specific configuration (LB_TG_3 or LB_IPA_3), When the billing account's state is identified, Then the system schedules reminders and cancellation notices per the state's designated timeline.

**5. Cancellation Prevention**
Given payment is received before grace period expiration, When the system processes the transaction, Then delinquency escalation halts and cancellation workflows terminate.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=688787961"
]

---

#### Feature: Stop Delinquency Process Upon Payment or Cancellation Events
- **Role**: Billing Administrator
- **Action**: automatically terminate delinquency processing when payment obligations are satisfied or policies are cancelled
- **Value**: delinquency actions cease immediately upon resolution, preventing unnecessary collection activities and maintaining accurate account status

**Description:**

As a **Billing Administrator**,
I want to **automatically terminate delinquency processing when payment obligations are satisfied or policies are cancelled**,
So that **delinquency actions cease immediately upon resolution, preventing unnecessary collection activities and maintaining accurate account status**


**Key Capabilities:**

**Payment-Triggered Delinquency Termination**
Upon detecting full invoice payment through payment allocation, application, or negative adjustment reconciliation, system stops delinquency processing for all affected products and updates invoice status to paid.

**Delinquency Tag Management**
System removes delinquency process indicators from invoice, payment request, and master policy levels when payment or cancellation events occur.

**Cancellation-Triggered Delinquency Termination**
When cancellation transaction is issued for master policy under delinquency, system immediately removes delinquency tags and halts processing for that specific policy.

**Activity Tracking and Notification**
System generates completion activity records for each affected master policy documenting delinquency process termination event.


**Acceptance Criteria:**

**Payment Resolution Scenario**
Given invoice is under delinquency processing, when system detects full payment through any payment mechanism, then delinquency process stops and all related tags are removed at invoice and master policy levels.

**Cancellation Resolution Scenario**
Given master policy is under delinquency processing, when cancellation transaction is issued, then system removes delinquency tags from that specific master policy and halts its delinquency processing.

**Activity Generation**
Given delinquency process is stopped for any reason, when termination occurs, then system generates finished status activity record for each affected master policy.

**Status Consistency**
Given multiple products exist under single invoice, when invoice is fully paid, then delinquency processing stops for all products simultaneously.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=718250258"
]

---

#### Feature: Generate Delinquency Process Status Notifications and BAM Events
- **Role**: Billing Administrator
- **Action**: generate automated status notifications and business activity monitoring events during delinquency processes
- **Value**: stakeholders receive timely alerts and the organization maintains comprehensive audit trails for compliance and operational oversight across multiple billing product types

**Description:**

As a **Billing Administrator**,
I want to **generate automated status notifications and business activity monitoring events during delinquency processes**,
So that **stakeholders receive timely alerts and the organization maintains comprehensive audit trails for compliance and operational oversight across multiple billing product types**


**Key Capabilities:**

**1. Delinquency Event Detection**
System monitors delinquency process lifecycle and identifies trigger points requiring notification or event logging across all billing product types.

**2. Notification Generation and Distribution**
Upon reaching predefined delinquency milestones, system generates appropriate notifications and routes them to configured recipients based on business rules.

**3. BAM Event Publication**
When delinquency status changes occur, system publishes standardized business activity monitoring events capturing process context, timestamps, and relevant entity identifiers for downstream consumption and audit purposes.


**Acceptance Criteria:**

**1. Event Triggering Accuracy**
Given a delinquency process reaches a configured milestone, When the system evaluates trigger conditions, Then appropriate notifications and BAM events are generated without duplication.

**2. Cross-Product Consistency**
Given delinquency processes operate across List Bill, Individual Direct, and Self Bill products, When status changes occur, Then events are generated with consistent structure regardless of product type.

**3. Audit Trail Completeness**
Given delinquency lifecycle activities complete, When reviewing BAM event logs, Then all critical status transitions are captured with accurate timestamps and contextual metadata for compliance reporting.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=645904340"
]

---

### Epic: Collections & Enforcement Actions

#### Feature: Manage Invoice Tolerance with Carry Forward
- **Role**: Billing Administrator
- **Action**: configure and automate invoice tolerance processing for minor payment shortfalls
- **Value**: customer relationships are preserved while ensuring debt recovery through balance carry forward mechanisms

**Description:**

As a **Billing Administrator**,
I want to **configure and automate invoice tolerance processing for minor payment shortfalls**,
So that **customer relationships are preserved while ensuring debt recovery through balance carry forward mechanisms**.


**Key Capabilities:**

**1. Tolerance Configuration**
Administrator establishes tolerance parameters including bill type, payment allocation mode, state jurisdiction, tolerance type (carry forward), and threshold calculation methods.

**2. Automated Tolerance Evaluation**
Upon payment allocation or invoice generation, system calculates whether invoice balance falls within configured tolerance limits.

**3. Within-Tolerance Processing**
When invoice qualifies for tolerance, system applies tolerance flag, excludes invoice from delinquency processing, and carries outstanding balance forward to next billing cycle.

**4. Tolerance Threshold Breach Handling**
If balance exceeds tolerance limits or payment is unallocated, system removes tolerance flags from current and all subsequent invoices, enabling standard delinquency procedures.


**Acceptance Criteria:**

**1. Tolerance Application Success**
Given an invoice with payment shortage within configured limits, when tolerance evaluation occurs, then system applies tolerance flag and excludes invoice from delinquency processing.

**2. Balance Carry Forward**
Given a tolerance-flagged invoice, when next billing cycle generates, then outstanding balance is added to new invoice total due.

**3. Threshold Breach Response**
Given an invoice exceeding tolerance limits, when evaluation completes, then system removes tolerance flags from current and subsequent invoices and enables delinquency processing.

**4. Payment Reversal Handling**
Given a previously tolerance-flagged invoice, when payment is unallocated causing threshold breach, then system removes tolerance protection across billing account.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=639735901"
]

---

#### Feature: Automate Delinquency Reminder and Cancellation Notice Generation
- **Role**: Billing Administrator
- **Action**: automate the generation and distribution of delinquency reminders and cancellation notices based on payment status evaluation
- **Value**: enforcement actions are triggered systematically, reducing manual effort and ensuring timely collections processing across diverse billing structures

**Description:**

As a Billing Administrator,
I want to automate the generation and distribution of delinquency reminders and cancellation notices based on payment status evaluation,
So that enforcement actions are triggered systematically, reducing manual effort and ensuring timely collections processing across diverse billing structures


**Key Capabilities:**

**1. Payment Status Evaluation Initiation**
System job retrieves outstanding invoices and payment requests from billing accounts, evaluating payment status against business rules configured by Bill Type and Payment Allocation Mode.

**2. Multi-Level Event Triggering**
Upon identifying unpaid or partially paid obligations, system triggers business events at appropriate organizational levels (Master Policy or Member Record), generating consolidated events per billing account and invoice when multiple products exist.

**3. Notice Type Determination**
System determines whether to generate reminder notices, cancellation notices, cancellation requests, or APL requests based on configuration scheduling dates, grace period end dates, and payment status thresholds.

**4. Consolidated Event Generation**
When multiple products share same invoice, notice type, and generation date, system consolidates individual events into unified notices combining relevant Master Policy or Member Record data.

**5. Task Creation for Manual Review**
For cancellation requests, system automatically creates review tasks at appropriate organizational levels, enabling administrative intervention before final enforcement actions.


**Acceptance Criteria:**

**1. Payment Status Detection**
Given outstanding invoices exist, When the delinquency job executes, Then system correctly identifies fully unpaid and partially paid obligations based on invoice status or invoice item evaluation per Bill Type.

**2. Event Triggering Accuracy**
Given payment deficiencies are detected, When business rules are applied, Then system triggers events at correct organizational levels (Master Policy or Member Record) consistent with Bill Type and Payment Allocation Mode configurations.

**3. Consolidation Logic**
Given multiple products share same invoice and generation criteria, When events are triggered on same day for same notice type, Then system generates single consolidated event combining all relevant organizational data.

**4. Configuration Scheduling Compliance**
Given different grace period configurations exist across products, When Configuration Scheduling Dates vary, Then system generates notices only for products meeting their specific timing thresholds.

**5. Cancellation Request Task Generation**
Given cancellation request events are triggered, When system processes these events, Then appropriate manual review tasks are created at Master Policy or Member Record levels for administrative action.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=627059248"
]

---

#### Feature: Generate Automated Cancellation Request Tasks for Delinquent Policies
- **Role**: Billing Administrator
- **Action**: generate and manage automated cancellation request tasks triggered by policy delinquency events
- **Value**: I can efficiently process delinquent policies through systematic task assignment and make informed cancellation decisions to minimize financial risk

**Description:**

As a **Billing Administrator**,
I want to **generate and manage automated cancellation request tasks triggered by policy delinquency events**,
So that **I can efficiently process delinquent policies through systematic task assignment and make informed cancellation decisions to minimize financial risk**


**Key Capabilities:**

**Delinquency Event Detection & Task Initiation**
Upon delinquency job execution, system automatically triggers business events for cancellation or portability requests at both master policy and member record levels

**Automated Task Creation & Queue Assignment**
System generates cancellation request tasks and routes them to designated delinquent policies queue without manual intervention

**Manual Task Assignment & Review**
User retrieves tasks from queue and performs assessment to determine cancellation appropriateness

**Cancellation Decision Execution**
When user approves cancellation, system initiates policy termination process for master policy or individual member records

**Alternative Resolution Path**
If user determines cancellation is unwarranted, user closes task manually without triggering termination workflow


**Acceptance Criteria:**

**Automated Task Generation**
Given delinquency threshold is exceeded, When delinquency job executes, Then system creates cancellation request tasks for affected master policies and member records without manual trigger

**Queue Routing Validation**
Given cancellation tasks are created, When task generation completes, Then all tasks automatically appear in designated delinquent policies queue

**Cancellation Execution Path**
Given user reviews assigned task, When user approves cancellation decision, Then system initiates policy termination process for specified policy entity

**Task Closure Without Cancellation**
Given user determines policy should remain active, When user closes task manually, Then system completes workflow without triggering cancellation actions

**Dual-Level Processing Support**
Given delinquency exists, When tasks are generated, Then system supports both master policy-level and individual member record-level cancellation requests


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=645892525"
]

---

#### Feature: Process Master Policy Level Cancellation Requests
- **Role**: Billing Administrator
- **Action**: process master policy level cancellation requests resulting from delinquency
- **Value**: enforcement actions are executed systematically to manage financial risk and maintain policy portfolio integrity

**Description:**

As a **Billing Administrator**,
I want to **process master policy level cancellation requests resulting from delinquency**,
So that **enforcement actions are executed systematically to manage financial risk and maintain policy portfolio integrity**


**Key Capabilities:**

**1. Delinquency Threshold Detection**
System monitors payment status against configured parameters and triggers cancellation eligibility evaluation when thresholds are breached

**2. Automated Cancellation Request Generation**
Upon threshold violation, system creates cancellation requests with appropriate effective dates based on business rules and billing method context

**3. Work Assignment and Queue Management**
System routes cancellation requests to appropriate work queues for administrator review and action

**4. Multi-Channel Communication Execution**
System orchestrates reminder and cancellation notices through configured communication workflows for both list bill and individual direct billing scenarios

**5. Policy Termination Processing**
Administrator is able to execute approved cancellation requests, applying termination with system-calculated effective dates


**Acceptance Criteria:**

**1. Threshold-Based Request Initiation**
Given a master policy exceeds delinquency parameters, When the automated process evaluates eligibility, Then a cancellation request is created with billing-method-specific effective date

**2. Work Queue Routing**
Given a cancellation request is generated, When system processes the request, Then it appears in the designated administrator work queue with complete delinquency context

**3. Communication Workflow Execution**
Given a cancellation request is in process, When communication triggers activate, Then appropriate notices are issued through configured channels matching the billing method

**4. Termination Finalization**
Given an administrator approves cancellation, When execution is confirmed, Then the master policy is terminated with the system-determined effective date and all linked coverages are updated


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=645893574"
]

---

#### Feature: Process Member Record Level Cancellation Requests
- **Role**: Billing Administrator
- **Action**: process member-level cancellation requests triggered by delinquency
- **Value**: I can enforce policy compliance and recover outstanding balances through systematic cancellation workflows

**Description:**

As a **Billing Administrator**,
I want to **process member-level cancellation requests triggered by delinquency**,
So that **I can enforce policy compliance and recover outstanding balances through systematic cancellation workflows**


**Key Capabilities:**

**1. Delinquency Threshold Assessment**
System evaluates member payment status against paid-to-date thresholds and automatically determines eligibility for cancellation request initiation

**2. Automated Cancellation Request Generation**
Upon threshold breach, system creates cancellation request tasks with member reference data and assigns to appropriate work queues

**3. Communication Trigger Orchestration**
System initiates reminder notices and cancellation communications based on configured timelines and delivery methods (list bill or individual direct)

**4. Task Routing and Tracking**
Cancellation requests populate delinquent policies queue and task views, enabling administrators to monitor and manage pending enforcement actions

**5. Effective Date Determination**
System calculates and applies cancellation effective dates according to configured business rules and regulatory requirements


**Acceptance Criteria:**

**1. Automated Request Initiation**
Given member payment status breaches delinquency threshold, When automated processing evaluates the account, Then system creates cancellation request task without manual intervention

**2. Communication Delivery**
Given cancellation request is generated, When communication trigger executes, Then system delivers appropriate notice via configured channel with accurate member and policy details

**3. Queue Population**
Given cancellation request task is created, When task enters workflow, Then system routes request to delinquent policies queue with complete member reference information

**4. Effective Date Application**
Given cancellation request is approved, When system processes the request, Then cancellation effective date is calculated per business rules and applied to member record

**5. Incomplete Data Handling**
Given member record lacks required reference data, When system attempts cancellation processing, Then system prevents request generation and flags record for review


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=645893588"
]

---

#### Feature: Initiate Non-Payment Billing Cancellation for Direct Bill Policies
- **Role**: Billing Administrator
- **Action**: initiate policy cancellation for non-payment through automated delinquency management
- **Value**: policies are systematically terminated when payments remain outstanding beyond grace periods, minimizing financial exposure and maintaining billing integrity

**Description:**

As a **Billing Administrator**,
I want to **initiate policy cancellation for non-payment through automated delinquency management**,
So that **policies are systematically terminated when payments remain outstanding beyond grace periods, minimizing financial exposure and maintaining billing integrity**.


**Key Capabilities:**

**Initial Billing Cycle Execution**
System generates first invoice upon member purchase completion and monitors payment receipt within standard payment period.

**Subsequent Billing and Delinquency Tracking**
Upon policy anniversary, system generates recurring invoices and activates grace period monitoring when payment is not received timely.

**Grace Period Management**
System tracks outstanding balances throughout configured grace period and issues reminder notices to facilitate payment resolution.

**Cancellation Decision Point**
When grace period expires without payment, system evaluates delinquency status and determines eligibility for non-payment cancellation.

**Policy Termination Execution**
System initiates automated cancellation process, updates member record status to cancelled, and finalizes policy termination for non-payment.


**Acceptance Criteria:**

**Successful Initial Payment Processing**
Given a new policy with first invoice generated, When payment is received within the standard payment period, Then system processes payment and schedules next billing cycle without delinquency flags.

**Grace Period Activation**
Given payment not received by policy anniversary invoice due date, When system detects missing payment, Then grace period monitoring activates and reminder notices are generated.

**Payment During Grace Period**
Given active grace period monitoring, When payment is received before grace period expiration, Then system processes payment and policy continues active status.

**Cancellation for Non-Payment**
Given grace period has expired without payment, When system evaluates delinquency status, Then policy is automatically cancelled and member record transitions to terminated status.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=784772825"
]

---

#### Feature: Execute Automated Non-Payment Cancellation Job
- **Role**: Billing Administrator
- **Action**: execute automated cancellation of ported policies with unpaid first invoices beyond grace period
- **Value**: non-compliant policies are systematically removed, reducing manual intervention and ensuring portfolio integrity

**Description:**

As a **Billing Administrator**,
I want to **execute automated cancellation of ported policies with unpaid first invoices beyond grace period**,
So that **non-compliant policies are systematically removed, reducing manual intervention and ensuring portfolio integrity**


**Key Capabilities:**

**Policy Identification & Eligibility Assessment**
System identifies ported or continued policies with only first invoice billed and zero payment received, applying product-configured grace period thresholds.

**Grace Period Validation**
Upon reaching current system date exceeding invoice due date plus configured days, system evaluates payment status where any amount of at least one cent prevents cancellation.

**Automated Cancellation Submission**
System submits eligible policy details to PolicyCore with cancellation effective date and event timestamp set to original portability or continuation effective date.

**Batch Processing Execution**
User is able to trigger job manually or rely on scheduled automation to process policy queue sequentially until completion.


**Acceptance Criteria:**

**Successful Cancellation Processing**
Given a ported policy with unpaid first invoice beyond grace period, When the job executes and no payment exists, Then the system submits cancellation to PolicyCore with effective date matching policy portability date.

**Grace Period Compliance**
Given current system date is within grace period threshold, When the job evaluates the policy, Then the system skips cancellation and proceeds to next policy.

**Payment Exception Handling**
Given a policy with at least one cent paid against first invoice, When the job assesses eligibility, Then the system excludes policy from cancellation regardless of grace period expiration.

**Empty Queue Management**
Given no eligible policies exist, When the job initiates, Then the system exits without processing or error generation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=561864940"
]

---

#### Feature: Manage Write-Off Approval Workflow
- **Role**: Billing Administrator
- **Action**: review and approve write-off requests through a structured approval workflow
- **Value**: I can ensure proper financial controls and governance over account write-offs while maintaining accurate financial records

**Description:**

As a **Billing Administrator**,
I want to **review and approve write-off requests through a structured approval workflow**,
So that **I can ensure proper financial controls and governance over account write-offs while maintaining accurate financial records**


**Key Capabilities:**

**1. Write-Off Request Initiation**
Upon write-off event trigger, system creates approval task and routes to designated approval queue for administrator review

**2. Task Queue Access & Review**
User is able to access pending write-off approval requests through centralized work management interface and review request details

**3. Approval Decision Processing**
User is able to approve or reject write-off requests based on business rules and authorization limits
    3.1 Upon approval, system processes write-off transaction
    3.2 Upon rejection, system returns task to originator with justification

**4. Activity Monitoring**
User is able to track approval workflow status and view task history through overview dashboard


**Acceptance Criteria:**

**1. Task Creation & Routing**
Given write-off event is initiated, When system processes event, Then approval task is created and routed to appropriate approval queue

**2. Queue Accessibility**
Given administrator has proper authorization, When accessing work queue, Then all pending write-off approval tasks are visible with relevant reference details

**3. Approval Processing**
Given valid write-off request under review, When administrator submits approval decision, Then system records decision and processes transaction accordingly

**4. Incomplete Data Prevention**
Given write-off request lacks required information, When administrator attempts approval, Then system prevents submission until data completeness requirements are met

**5. Audit Trail**
Given approval decision is rendered, When transaction completes, Then system captures complete approval history with timestamps and user attribution


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=696497605"
]

---

#### Feature: Process Nonforfeiture Clause to Stop Premium Billing
- **Role**: Billing Administrator
- **Action**: process nonforfeiture clause amendments to automatically stop premium billing for delinquent Whole Life policies
- **Value**: policies remain active under revised terms without generating unnecessary invoices or collection efforts, while maintaining accurate financial records

**Description:**

As a **Billing Administrator**,
I want to **process nonforfeiture clause amendments to automatically stop premium billing for delinquent Whole Life policies**,
So that **policies remain active under revised terms without generating unnecessary invoices or collection efforts, while maintaining accurate financial records**


**Key Capabilities:**

**1. Nonforfeiture Amendment Receipt**
System receives amendment transactions from Policy system with nonforfeiture attributes (Reduced Paid-Up or Extended Term) triggered either automatically via delinquency process or manually by Policy users.

**2. Attribute Validation and Storage**
System identifies nonforfeiture clause type, validates amendment eligibility, and persists nonforfeiture attributes to member record.

**3. Premium Calculation Adjustment**
System applies stop-billing rules during modal premium calculation, setting premium amount to null from amendment effective date forward.

**4. Mid-Period Proration Handling**
When amendment effective date falls within billing period, system applies proration logic and generates negative invoice items to revert already-billed premiums as prior period adjustments.

**5. Invoice Generation Suppression**
System excludes affected member records from invoice generation, preventing future billing while maintaining stop-billing flag visibility in premium history views.

**6. Subsequent Transaction Inheritance**
All future policy transactions automatically inherit stop-billing status, ensuring consistent premium cessation throughout policy lifecycle.


**Acceptance Criteria:**

**1. Automated Amendment Processing**
Given delinquent Whole Life policy meets cancellation criteria, When Policy system sends amendment with Reduced Paid-Up or Extended Term attribute, Then Billing system processes amendment and sets modal premium to null from effective date.

**2. Manual Amendment Processing**
Given Policy user initiates nonforfeiture clause manually, When amendment transaction received with nonforfeiture attribute, Then system applies identical stop-billing logic as automated flow.

**3. Mid-Period Adjustment Handling**
Given amendment effective date within current billing period, When modal premium recalculated, Then system generates negative invoice items for proration and processes as prior period adjustment.

**4. Invoice Suppression Verification**
Given member record has active nonforfeiture clause, When invoice generation executes, Then no invoice items generated for affected member record from amendment date forward.

**5. Stop-Billing Flag Persistence**
Given nonforfeiture amendment processed, When subsequent policy transactions occur, Then stop-billing flag inherited and modal premium remains null throughout policy lifecycle.

**6. Unsupported Clause Rejection**
Given Cash Value Surrender or reinstatement attempted, When system validates transaction type, Then amendment rejected with out-of-scope notification.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=747867858"
]

---

#### Feature: Integrate Policy System Notifications for Delinquency Actions
- **Role**: Billing Administrator
- **Action**: integrate policy system notifications to automate delinquency processing and cancellation decisions
- **Value**: policy-level delinquency actions are executed consistently and cancellations are processed automatically when criteria are met

**Description:**

As a **Billing Administrator**,
I want to **integrate policy system notifications to automate delinquency processing and cancellation decisions**,
So that **policy-level delinquency actions are executed consistently and cancellations are processed automatically when criteria are met**


**Key Capabilities:**

**1. Delinquency Job Initiation**
Billing system triggers automated delinquency processing request for eligible accounts

**2. Policy System Notification**
System notifies policy platform about pending delinquency processing for Master Policy or Member records

**3. Automated Delinquency Evaluation**
Policy system catches business event and initiates automated processing workflow for entire policy or member record

**4. Cancellation Decision Logic**
Upon evaluation, system determines whether automated cancellation is warranted based on policy rules
    4.1 If cancellation approved, system creates cancellation transaction with zeroed modal premium
    4.2 If cancellation denied, process terminates without further action


**Acceptance Criteria:**

**1. Successful Delinquency Job Trigger**
Given billing system initiates delinquency job, When request is sent, Then policy system receives notification for Master Policy or Member record

**2. Policy System Event Processing**
Given policy system receives delinquency notification, When business event is caught, Then automated processing workflow initiates for entire record

**3. Cancellation Approval Path**
Given system evaluates cancellation criteria, When approval conditions are met, Then cancellation transaction with zeroed modal premium is created

**4. Cancellation Denial Path**
Given system evaluates cancellation criteria, When approval conditions are not met, Then process terminates without creating cancellation transaction


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=641142087"
]

---

### Epic: Delinquency Identification & Tracking

#### Feature: Track Grace Period and Invoice Due Date
- **Role**: Billing Administrator
- **Action**: monitor grace periods and track invoice payment status to trigger appropriate delinquency actions
- **Value**: timely policy cancellations or member record adjustments occur when premiums remain unpaid, ensuring revenue protection and accurate policy status

**Description:**

As a **Billing Administrator**,
I want to **monitor grace periods and track invoice payment status to trigger appropriate delinquency actions**,
So that **timely policy cancellations or member record adjustments occur when premiums remain unpaid, ensuring revenue protection and accurate policy status**.


**Key Capabilities:**

**1. Grace Period Monitoring Activation**
Upon invoice/receipt generation, system initiates 62-day grace period tracking (60 days policy provision plus 2-day payment transit buffer) and monitors payment status continuously.

**2. Delinquency Detection and Classification**
When grace period expires without payment, system classifies invoice by composition (modal premium vs. premium difference only) to determine cancellation scope.

**3. Modal Premium Delinquency Processing**
User is able to trigger master policy cancellation with cascading member record termination when unpaid invoice contains modal premium, discarding all subsequent issued invoices.

**4. Premium Difference Delinquency Processing**
User is able to trigger selective member record flat cancellation or amendment rollback when unpaid invoice contains only premium difference, preserving master policy status.

**5. Non-Renewal Delinquency Handling**
When renewal fails or customer declines renewal at master policy expiration, system discards all issued invoices and cancels master policy without grace period requirement.


**Acceptance Criteria:**

**1. Grace Period Expiration with Modal Premium**
Given an invoice containing modal premium remains unpaid, When 62 days elapse from generation date, Then system discards current and subsequent invoices and cancels master policy with all member records.

**2. Grace Period Expiration with Premium Difference Only**
Given an invoice containing only premium difference remains unpaid, When 62 days elapse from generation date, Then system cancels or rolls back specific member records while preserving master policy.

**3. Payment Within Grace Period**
Given payment is received and allocated during the 62-day grace period, When invoice status updates to 'Paid', Then system halts delinquency processing and maintains policy active status.

**4. Non-Renewal Scenario**
Given renewal fails or is declined at master policy expiration, When renewal generation deadline passes, Then system discards all issued invoices and cancels master policy immediately without grace period evaluation.

**5. Subsequent Invoice Discarding**
Given delinquency action is triggered, When system processes cancellation, Then all invoices generated after the delinquent invoice are discarded before policy status changes.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=704843849"
]

---

#### Feature: Detect Delinquent Accounts Based on Unpaid Modal Premium
- **Role**: Billing Administrator
- **Action**: monitor and identify delinquent accounts based on unpaid modal premium obligations within the grace period
- **Value**: master policies and member records are systematically managed to prevent revenue loss and maintain portfolio integrity

**Description:**

As a **Billing Administrator**,
I want to **monitor and identify delinquent accounts based on unpaid modal premium obligations within the grace period**,
So that **master policies and member records are systematically managed to prevent revenue loss and maintain portfolio integrity**


**Key Capabilities:**

**1. Invoice Monitoring Initiation**
Upon invoice generation, system begins tracking payment status throughout the grace period to determine delinquency eligibility.

**2. Payment Reconciliation**
When sufficient premium is received within grace period, system allocates payment to invoice and updates status to complete the cycle successfully.

**3. Modal Premium Delinquency Detection**
If invoice containing modal premium remains unpaid 62 days after generation, system identifies account for master policy cancellation processing.

**4. Premium Difference Delinquency Detection**
If invoice containing only premium difference (from member changes) remains unpaid 62 days after generation, system flags for member-level cancellation action.

**5. Non-Renewal Scenario Identification**
When renewal fails or customer declines renewal at policy expiration, system triggers master policy non-renewal workflow.


**Acceptance Criteria:**

**1. Grace Period Tracking**
Given an invoice is generated, When the system monitors payment status, Then the 62-day grace period (60-day provision + 2-day processing) is accurately tracked from generation date.

**2. Successful Payment Resolution**
Given sufficient premium is paid within grace period, When payment is processed, Then system allocates payment to invoice and updates status to 'Paid' without triggering delinquency actions.

**3. Modal Premium Delinquency Triggering**
Given invoice contains modal premium and remains unpaid, When 62 days elapse from generation date, Then system identifies account as delinquent and flags for master policy cancellation workflow.

**4. Premium Difference Delinquency Triggering**
Given invoice contains only premium difference without modal premium and remains unpaid, When 62 days elapse, Then system identifies for member-level cancellation processing.

**5. Non-Renewal Detection**
Given master policy approaches expiration, When customer declines renewal or renewal quote issuance fails, Then system identifies policy for non-renewal processing pathway.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=704843849"
]

---

#### Feature: Detect Delinquent Accounts Based on Unpaid Premium Difference
- **Role**: Billing Administrator
- **Action**: detect and track delinquent accounts based on unpaid premium differences beyond grace periods
- **Value**: I can proactively manage non-payment risks, prevent revenue leakage, and initiate appropriate cancellation workflows to maintain portfolio health

**Description:**

As a **Billing Administrator**,
I want to **detect and track delinquent accounts based on unpaid premium differences beyond grace periods**,
So that **I can proactively manage non-payment risks, prevent revenue leakage, and initiate appropriate cancellation workflows to maintain portfolio health**


**Key Capabilities:**

**1. Grace Period Monitoring**
System continuously tracks invoice/receipt aging from generation date, flagging accounts surpassing 62-day grace period threshold for delinquency evaluation.

**2. Invoice Composition Analysis**
Upon grace period expiration, system categorizes unpaid invoices by content: modal premium (with/without premium difference) versus premium difference only, determining cancellation scope.

**3. Tiered Cancellation Workflow Initiation**
When modal premium remains unpaid, system triggers master policy and cascading member cancellation. When only premium difference is unpaid, system initiates targeted member record cancellation or amendment rollback, discarding all subsequent issued invoices before executing cancellations.


**Acceptance Criteria:**

**1. Modal Premium Delinquency Detection**
Given an invoice containing modal premium unpaid after 62 days, When the system evaluates delinquency status, Then the master policy cancellation workflow is triggered and all subsequent issued invoices are discarded.

**2. Premium Difference Delinquency Detection**
Given an invoice containing only premium difference unpaid after 62 days, When the system evaluates delinquency status, Then member-specific cancellation or amendment rollback is initiated without affecting the master policy.

**3. Grace Period Compliance**
Given the 62-day system processing grace period, When payment is received within this timeframe, Then invoice status updates to 'Paid' and no delinquency action is triggered.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=704843849"
]

---

#### Feature: Track Debt Date for Product-Level Balance
- **Role**: Billing Administrator
- **Action**: track and manage debt origination dates at the product level to enable timely collection actions
- **Value**: the organization can accurately identify delinquent accounts, trigger appropriate collection workflows based on debt aging, and reduce revenue loss from unpaid balances

**Description:**

As a **Billing Administrator**,
I want to **track and manage debt origination dates at the product level to enable timely collection actions**,
So that **the organization can accurately identify delinquent accounts, trigger appropriate collection workflows based on debt aging, and reduce revenue loss from unpaid balances**


**Key Capabilities:**

**Debt Date Initialization**
Upon bill statement creation with amount exceeding zero, system establishes debt date aligned with the bill due date to provide customer payment grace period.

**Debt Status Assessment**
System continuously evaluates product debt status based on outstanding minimum due amounts, identifying accounts requiring collection attention.

**Debt Date Preservation**
When subsequent underpayments are detected, system retains original debt date rather than resetting, ensuring accurate debt aging calculation for escalation decisions.

**Automated Debt Identification**
Nightly collection processes scan product portfolio using debt date criteria to identify accounts meeting preconfigured delinquency thresholds for collection actions.

**Collection Action Orchestration**
System triggers appropriate collection workflows including cancellation notices and confirmation processes based on debt duration since origination date.


**Acceptance Criteria:**

**1. Initial Debt Date Assignment**
Given a bill statement is generated with positive amount due, When the statement processing completes, Then system assigns debt date matching the bill due date for minimum payment tracking.

**2. Debt Status Recognition**
Given a product has outstanding minimum due amount, When debt evaluation executes, Then system classifies product as delinquent and includes in collection processing scope.

**3. Historical Debt Date Retention**
Given a product has existing unpaid balance, When new underpayment occurs, Then system preserves original debt date without reset to maintain accurate aging.

**4. Automated Collection Triggering**
Given nightly collection jobs execute, When products meet preconfigured delinquency duration thresholds, Then system initiates appropriate cancellation notices or confirmation workflows.

**5. Debt Clearance Reset**
Given outstanding minimum due is fully satisfied, When payment processes successfully, Then system clears debt status and resets tracking for future billing cycles.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=208092591"
]

---

#### Feature: Track Past Due Balance for Product-Level
- **Role**: Billing Administrator
- **Action**: track and update past due balances at the product level across billing cycles
- **Value**: I can maintain accurate delinquency records and ensure transparent financial reporting for collection activities

**Description:**

As a **Billing Administrator**,
I want to **track and update past due balances at the product level across billing cycles**,
So that **I can maintain accurate delinquency records and ensure transparent financial reporting for collection activities**


**Key Capabilities:**

**1. Past Due Balance Initialization**
When a payment due date passes without receiving the minimum payment, the system captures the unpaid minimum due amount as past due balance for the product.

**2. Billing Cycle Transition**
Upon generating a new bill statement, the system updates the past due balance to reflect unpaid minimum due from the previous cycle.

**3. Current Statement Integration**
The system incorporates the past due amount into the current minimum due calculation, ensuring cumulative payment obligations are reflected.

**4. Balance Reconciliation**
Immediately after invoice generation, the system ensures past due balance matches the past due value displayed on the statement for accuracy and transparency.


**Acceptance Criteria:**

**1. Past Due Capture**
Given a previous billing cycle with unpaid minimum due, when the payment due date is exceeded, then the system designates that amount as past due balance.

**2. Balance Update on New Statement**
Given a new billing cycle begins, when the bill statement is generated, then the past due balance reflects all unpaid minimum due from prior cycles.

**3. Statement Accuracy**
Given invoice generation completes, when viewing the bill statement, then the past due balance displayed matches the system-tracked past due amount.

**4. Minimum Due Calculation**
Given past due balance exists, when calculating current minimum due, then the system includes past due amount in the total obligation.

**5. Non-Negative Validation**
Given any balance update, when the system processes the transaction, then past due balance remains non-negative and does not exceed minimum due.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=208092554"
]

---

#### Feature: Generate Delinquency Processing Request Events for Member Records
- **Role**: Billing Administrator
- **Action**: Generate automated delinquency processing request events for member records based on payment status and business rules
- **Value**: Non-payment scenarios are systematically identified and escalated through appropriate collection workflows to minimize revenue loss and ensure timely account resolution

**Description:**

As a **Billing Administrator**,
I want to **generate automated delinquency processing request events for member records based on payment status and business rules**,
So that **non-payment scenarios are systematically identified and escalated through appropriate collection workflows to minimize revenue loss and ensure timely account resolution**.


**Key Capabilities:**

**1. Delinquency Identification**
System evaluates member account payment status against invoice due dates, grace periods, and paid-to-date thresholds to identify delinquent records.

**2. Business Rule Evaluation**
System applies OpenL business rules to determine appropriate delinquency event parameters, reminder notice eligibility, and cancellation notice requirements based on billing type (List Bill or Individual Direct).

**3. Event Request Generation**
System creates delinquency processing request events for qualifying member records, capturing relevant account attributes and triggering downstream collection workflows.

**4. Processing Orchestration**
Upon event generation, system initiates automated job execution to process delinquency requests according to configured effective dates and escalation timelines.


**Acceptance Criteria:**

**1. Delinquency Detection Accuracy**
Given member accounts with outstanding invoices, when payment due dates exceed grace period thresholds, then system generates delinquency events only for qualifying records per business rules.

**2. Event Parameter Completeness**
Given a delinquency event generation request, when business rules are evaluated, then system populates all required event attributes including billing type, grace period status, and cancellation eligibility.

**3. Workflow Trigger Reliability**
Given generated delinquency processing events, when events are persisted to the system, then downstream collection jobs are automatically initiated within configured processing windows.

**4. Exclusion Rule Application**
Given member records with partial payments or pending transactions, when delinquency identification executes, then system excludes accounts that do not meet minimum delinquency thresholds per payment allocation rules.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=633999097"
]

---

#### Feature: Generate Delinquency Processing Request Events for Master Policies
- **Role**: Billing Administrator
- **Action**: initiate automated delinquency processing events for master policies based on payment non-compliance triggers
- **Value**: the system proactively identifies and escalates overdue accounts, reducing manual monitoring effort and ensuring timely collections actions

**Description:**

As a **Billing Administrator**,
I want to **initiate automated delinquency processing events for master policies based on payment non-compliance triggers**,
So that **the system proactively identifies and escalates overdue accounts, reducing manual monitoring effort and ensuring timely collections actions**


**Key Capabilities:**

**1. Delinquency Event Triggering**
System monitors invoice status against due dates and grace period configurations. Upon detecting non-payment conditions, automatically generates delinquency processing request events for eligible master policies.

**2. Grace Period and Timing Management**
System applies configurable grace periods and calculates effective dates for delinquency actions. User is able to define cancellation timing (X days post-grace period) and escalation thresholds.

**3. Automated Workflow Orchestration**
System initiates downstream processes including reminder notices, cancellation determination, and communication triggers based on event parameters and business rules configured in decision tables.


**Acceptance Criteria:**

**1. Event Generation Validation**
Given master policy has unpaid invoice past due date, When grace period expires without payment, Then system generates delinquency processing request event with correct effective dates.

**2. Configuration Compliance**
Given grace period and cancellation timing rules are configured, When delinquency event is triggered, Then system applies appropriate business parameters per OpenL rule specifications.

**3. Workflow Initiation**
Given delinquency event is generated, When event processing completes, Then system triggers appropriate notification, reminder, and escalation workflows without manual intervention.

**4. Exception Handling**
Given policy has partial payment or dispute status, When delinquency check occurs, Then system prevents event generation until resolution per business logic.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=633999085"
]

---

#### Feature: Generate Automatic Premium Loan Request Events for Member Records
- **Role**: Billing Administrator
- **Action**: automatically trigger premium loan request events for delinquent member accounts
- **Value**: I can proactively address payment shortfalls and prevent policy lapses through systematic loan request initiation

**Description:**

As a **Billing Administrator**,
I want to **automatically trigger premium loan request events for delinquent member accounts**,
So that **I can proactively address payment shortfalls and prevent policy lapses through systematic loan request initiation**


**Key Capabilities:**

**Delinquency Monitoring**
System continuously monitors member payment status and identifies accounts meeting premium loan eligibility thresholds

**Automatic Event Triggering**
Upon detection of qualifying delinquency conditions, system generates premium loan request events without manual intervention

**Member Record Association**
System associates generated loan request events with corresponding member billing records for downstream processing

**Audit Trail Maintenance**
System captures event generation timestamps, triggering criteria, and member identifiers for compliance tracking


**Acceptance Criteria:**

**Delinquency Detection**
Given a member account reaches premium loan eligibility threshold, When the system evaluates account status, Then a premium loan request event is automatically generated

**Event Association**
Given a loan request event is triggered, When the event is created, Then it is linked to the correct member billing record

**Duplicate Prevention**
Given an active loan request event exists, When delinquency persists, Then the system prevents duplicate event generation for the same period

**Audit Completeness**
Given any loan request event generation, When the event is created, Then all triggering criteria and timestamps are recorded


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=731653186"
]

---

#### Feature: Manage Delinquency Process Status Flag on Invoices and Member Records
- **Role**: Billing Administrator
- **Action**: automate delinquency status tracking across policy hierarchies and payment scenarios
- **Value**: I can ensure timely collections, enforce payment compliance, and maintain accurate delinquency visibility across all billing models

**Description:**

As a **Billing Administrator**,
I want to **automate delinquency status tracking across policy hierarchies and payment scenarios**,
So that **I can ensure timely collections, enforce payment compliance, and maintain accurate delinquency visibility across all billing models**


**Key Capabilities:**

**1. Initiate Delinquency Tracking**
Upon invoice issuance or partial payment, system automatically flags Master Policy (List Bill/Self Bill) or Member Record (Individual Direct) as delinquent. Status indicator appears on invoices and associated records.

**2. Trigger Escalation Events**
When payment remains outstanding beyond thresholds, system generates Reminder Notices (Master Policy level) and Cancel Notices/Cancellation Requests (Master Policy and Member Record levels) based on payment states and billing model.

**3. Manage Payment-Driven Status Updates**
When full payment received, system immediately removes delinquency flags across all levels and halts event triggers. When partial payment allocated, system maintains flags on unpaid members while clearing fully paid records.

**4. Handle Multi-Scenario Tag Display**
For Self Bill, system dynamically switches status indicators between payment requests and invoices based on premium adjustments, invoice generation, and discarded invoice states across billing periods.


**Acceptance Criteria:**

**1. Delinquency Initiation Accuracy**
Given an issued or partially paid invoice exists, When the automated process evaluates payment status, Then the system applies delinquency flags at the appropriate hierarchy level (Master Policy for List Bill/Self Bill, Member Record for Individual Direct) without manual intervention.

**2. Event Triggering Precision**
Given delinquency flags are active, When payment deadlines pass without full payment, Then the system triggers Reminder Notices (Master Policy only) and Cancel Notices (Master Policy and unpaid Member Records), excluding fully paid members from escalation workflows.

**3. Payment Resolution Handling**
Given a delinquent invoice receives full payment, When the system processes the transaction, Then all delinquency flags are removed immediately and no further business events are generated for that invoice or associated records.

**4. Self Bill Tag Transition Logic**
Given a Self Bill payment request with adjusted premium, When an invoice is generated or discarded, Then the system correctly switches delinquency indicators between payment request and invoice levels while maintaining visibility in period and invoice views.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=662933706"
]

---

#### Feature: Initiate Delinquency Processing Across Multiple Invoices and Payment Requests
- **Role**: Billing Administrator
- **Action**: automate overdue account evaluation and notification across billing types
- **Value**: timely collections and reduced revenue leakage through systematic delinquency management

**Description:**

As a **Billing Administrator**,
I want to **automate overdue account evaluation and notification across billing types**,
So that **timely collections and reduced revenue leakage through systematic delinquency management**


**Key Capabilities:**

**1. Product Configuration Evaluation**
System retrieves product-specific business rules including tolerance thresholds, notice timing parameters, and cancellation criteria for targeted processing

**2. Automated Account Assessment**
Scheduled job evaluates billing accounts across List Bill, Individual Direct, and Self Bill types to identify overdue payment obligations

**3. Delinquency Status Determination**
System calculates tolerance flags and updates account delinquency status based on aging and payment history

**4. Communication Trigger Initiation**
Upon threshold breach, system generates reminder and cancellation notices according to configured escalation rules

**5. Business Event Publication**
System emits integration events for downstream workflow orchestration and audit tracking


**Acceptance Criteria:**

**1. Product-Specific Processing**
Given multiple products with distinct delinquency rules, When processing executes, Then system applies appropriate thresholds and notice logic per product configuration

**2. Multi-Type Coverage**
Given accounts across List Bill, Individual Direct, and Self Bill contexts, When job runs, Then all billing types are evaluated using consistent overdue calculation methodology

**3. Status Accuracy**
Given tolerance flag recalculation, When account is assessed, Then delinquency status reflects current aging and payment application state

**4. Communication Sequencing**
Given escalation rules, When thresholds are breached, Then system initiates notices in configured sequence without duplicate triggers

**5. Processing Reliability**
Given job requirements not satisfied, When execution is attempted, Then system prevents partial processing and logs failure conditions


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=632628233"
]

---

#### Feature: Configure Grace Period for Individual Direct Ported Policies
- **Role**: Billing Administrator
- **Action**: configure product-specific grace periods for ported policies to automate non-payment cancellations
- **Value**: I can enforce consistent payment compliance rules while protecting recently transferred policyholders from immediate termination

**Description:**

As a **Billing Administrator**,
I want to **configure product-specific grace periods for ported policies to automate non-payment cancellations**,
So that **I can enforce consistent payment compliance rules while protecting recently transferred policyholders from immediate termination**


**Key Capabilities:**

**1. Grace Period Configuration Assignment**
System applies product-specific grace period durations (X days) to newly ported policies upon transfer from Group Benefits to Individual Direct Billing accounts.

**2. Automated Cancellation Evaluation**
Scheduled job evaluates policies against three mandatory criteria: single unpaid invoice exists, X days elapsed post-Invoice Due Date, zero payment received across all invoices.

**3. Flat Policy Cancellation Execution**
Upon meeting all cancellation criteria, system immediately terminates policy coverage without retroactive date adjustments.
    3.1 When policy has multiple invoices or partial payments, system excludes policy from cancellation cycle.
    3.2 When grace period not yet elapsed, system defers evaluation to subsequent job execution.

**4. Configuration Immutability Enforcement**
Once grace period assigned to policy, system preserves original duration regardless of subsequent product configuration changes.


**Acceptance Criteria:**

**1. Product-Specific Grace Period Application**
Given a policy ported from Group Benefits, When the transfer completes, Then system assigns configured grace period matching the policy's product type and locks the value from future modifications.

**2. Multi-Criteria Cancellation Logic**
Given a ported policy with assigned grace period, When automated job executes and all three conditions met (single unpaid invoice + X days elapsed + zero payments), Then system cancels policy flat immediately.

**3. Cancellation Prevention for Non-Qualifying Policies**
Given a ported policy, When evaluation reveals multiple invoices OR partial payment OR insufficient elapsed days, Then system excludes policy from cancellation and retains active status.

**4. Configuration Change Isolation**
Given existing policies with assigned grace periods, When administrator modifies product grace period configuration, Then system applies new values only to future ported policies while preserving original values for existing policies.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=566602655"
]

---

### Epic: Delinquency Communications & Notifications

#### Feature: Trigger Delinquency Notice Events Based on Configurable Grace Periods
- **Role**: Billing Administrator
- **Action**: automate delinquency communication workflows triggered by non-payment situations with configurable grace periods and hold conditions
- **Value**: overdue accounts are systematically managed through escalating notices while respecting customer-specific hold configurations and payment tolerances

**Description:**

As a **Billing Administrator**,
I want to **automate delinquency communication workflows triggered by non-payment situations with configurable grace periods and hold conditions**,
So that **overdue accounts are systematically managed through escalating notices while respecting customer-specific hold configurations and payment tolerances**


**Key Capabilities:**

**Account Identification & Eligibility Validation**
System identifies billing accounts containing issued or partially paid invoices, validates absence of active communication holds (Reminder Notice, Cancel Notice, Cancellation), and selects oldest qualifying invoice without tolerance flags for delinquency processing.

**Product-Specific Configuration Retrieval**
System retrieves delinquency event parameters from configuration engine based on product type, determines applicable grace periods, and evaluates whether reminder notices, cancellation notices, or cancellation requests should be initiated.

**Event Generation & Escalation Management**
System fires product-level events (reminder notices, cancel notices, cancellation requests) for master policies and member records, marks invoices with delinquency process flags visible across billing interfaces, and creates corresponding business activity monitoring entries.

**Notice Consolidation & Distribution**
Upon generating multiple events for same billing account and invoice date, system consolidates events by notice type and subtype, fires unified consolidated events, and records consolidated business activity monitoring entries at customer billing account level.


**Acceptance Criteria:**

**Eligible Accounts Are Processed**
Given billing accounts contain issued or partially paid invoices without active holds, When delinquency job executes, Then system selects oldest non-tolerance invoice per account and initiates delinquency processing with visible flags.

**Hold Configurations Prevent Inappropriate Events**
Given billing account has effective reminder notice hold, When delinquency job executes, Then system skips reminder event generation but evaluates other notice types based on hold configuration.

**Product-Specific Rules Govern Event Timing**
Given product configuration defines grace periods, When invoice age exceeds configured threshold, Then system fires appropriate notice event (reminder, cancellation, or APL request) according to product parameters.

**Consolidated Events Reduce Communication Volume**
Given multiple products trigger same notice type for one billing account on same day, When individual events are fired, Then system aggregates into single consolidated event with unified business activity record.

**Tolerance Flags Suspend Cancellation Actions**
Given invoice has active tolerance flag within criteria, When cancellation request evaluation occurs, Then system skips invoice and continues processing remaining accounts without firing cancellation events.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=624213077"
]

---

#### Feature: Generate Reminder Notice Events for Delinquent Accounts
- **Role**: Billing Administrator
- **Action**: orchestrate automated reminder notice generation for accounts exceeding payment grace periods
- **Value**: delinquent accounts receive timely communication escalations to improve collection rates and reduce payment defaults

**Description:**

As a **Billing Administrator**,
I want to **orchestrate automated reminder notice generation for accounts exceeding payment grace periods**,
So that **delinquent accounts receive timely communication escalations to improve collection rates and reduce payment defaults**


**Key Capabilities:**

**Delinquency Threshold Detection**
System monitors invoice aging and grace period expiration, automatically identifying accounts transitioning into delinquent status based on configured parameters and payment allocation outcomes.

**Multi-Channel Notice Event Creation**
Upon detecting delinquency conditions, system generates reminder notice business events with appropriate severity levels aligned to billing type (List Bill, Individual Direct, Self Bill) and days-past-due thresholds.

**Escalation Pathway Orchestration**
System applies cancellation request logic when delinquency persists beyond configured tolerance, triggering downstream workflows for policy suspension or termination communications.


**Acceptance Criteria:**

**Grace Period Compliance Validation**
Given an account with outstanding invoices, When the grace period expires without payment allocation, Then the system generates a reminder notice event without manual intervention.

**Billing Type Differentiation**
Given different billing arrangements exist, When delinquency thresholds are met, Then notice generation applies type-specific rules for List Bill versus Individual Direct versus Self Bill accounts.

**Escalation Trigger Accuracy**
Given progressive delinquency stages are configured, When an account remains delinquent beyond secondary thresholds, Then system initiates cancellation workflow business events per established parameters.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=628364268"
]

---

#### Feature: Generate Cancel Notice Events for Escalated Delinquencies
- **Role**: Billing Administrator
- **Action**: Generate cancellation notice events when delinquent accounts reach critical escalation thresholds
- **Value**: Overdue accounts are systematically escalated toward policy termination while maintaining compliant notification procedures

**Description:**

As a **Billing Administrator**,
I want to **generate cancellation notice events when delinquent accounts reach critical escalation thresholds**,
So that **overdue accounts are systematically escalated toward policy termination while maintaining compliant notification procedures**


**Key Capabilities:**

**1. Delinquency Threshold Evaluation**
System continuously monitors account aging and grace period expiration to identify accounts requiring cancellation notices based on configured escalation rules.

**2. Cancellation Event Generation**
Upon exceeding defined delinquency parameters, system automatically creates cancel notice events triggering downstream notification workflows and status transitions.

**3. Multi-Mode Billing Support**
Process accommodates List Bill, Individual Direct, and Self Bill modes with mode-specific escalation logic and communication triggers.

**4. Compliance Documentation**
System records all cancellation notice events with timestamps and decision criteria to maintain regulatory audit trails and support dispute resolution.


**Acceptance Criteria:**

**1. Threshold-Based Event Creation**
Given an account has exceeded configured grace period and reminder notice stages, When the delinquency processing job executes, Then a cancellation notice event is generated with appropriate effective dates.

**2. Billing Mode Differentiation**
Given accounts exist across multiple payment allocation modes, When cancellation thresholds are evaluated, Then mode-specific escalation rules are applied correctly for List Bill, Individual Direct, and Self Bill configurations.

**3. Status Transition Prevention**
Given an account receives partial payment after cancellation notice generation, When the payment does not satisfy minimum requirements, Then the cancellation workflow continues without reversal.

**4. Event Audit Trail**
Given cancellation notice events are generated, When compliance audits are conducted, Then complete documentation of decision logic, timestamps, and account status is available for review.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=628364284"
]

---

#### Feature: Consolidate Multi-Product Delinquency Notices at Billing Account Level
- **Role**: Billing Administrator
- **Action**: consolidate delinquency communications across multiple products at the billing account level
- **Value**: customers receive unified notices reducing communication volume and improving payment response rates

**Description:**

As a **Billing Administrator**,
I want to **consolidate delinquency communications across multiple products at the billing account level**,
So that **customers receive unified notices reducing communication volume and improving payment response rates**


**Key Capabilities:**

**Delinquency Status Monitoring**
System monitors payment allocation and invoice status across all products within the billing account to identify delinquency conditions

**Grace Period Rule Application**
System applies configured grace period rules and delinquency thresholds using OpenL business rules engine to determine communication triggers

**Consolidated Event Generation**
System fires unified business events at billing account level consolidating delinquency status across List Bill and Individual Direct billing types

**Automated Communication Dispatch**
System triggers consolidated reminder and cancellation notices based on account-level delinquency parameters
    4.1 When escalation thresholds are met, system initiates appropriate cancellation request workflows
    4.2 Upon threshold conditions, system selects alternative communication paths per configured rules


**Acceptance Criteria:**

**Successful Consolidated Notice Generation**
Given multiple products in delinquent status under one billing account, When delinquency thresholds are reached, Then system generates single consolidated communication reflecting all affected products

**Grace Period Compliance**
Given configured grace period rules, When delinquency monitoring detects overdue invoices, Then system applies grace period before triggering communications

**Escalation Path Execution**
Given progressive delinquency thresholds, When account reaches cancellation criteria, Then system initiates cancellation request workflow with consolidated product details

**Business Event Integrity**
Given account-level delinquency status change, When system evaluates conditions, Then consolidated business event fires to BAM system with accurate multi-product context


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=690263681"
]

---

#### Feature: Support Multi-Channel Delinquency Communication Delivery
- **Role**: Billing Administrator
- **Action**: automate multi-channel delinquency communications for overdue premium payments
- **Value**: cash flow is improved, business continuation is ensured, and manual collection efforts are minimized through systematic debtor engagement

**Description:**

As a **Billing Administrator**,
I want to **automate multi-channel delinquency communications for overdue premium payments**,
So that **cash flow is improved, business continuation is ensured, and manual collection efforts are minimized through systematic debtor engagement**


**Key Capabilities:**

**Automated Eligibility Identification**
Scheduled job identifies invoices in issued or partially-paid status and validates accounts are not subject to reminder, cancellation, or notice holds before processing

**Configuration-Driven Event Firing**
System evaluates grace period thresholds, notice generation timing rules, and cancellation timing parameters against invoice due dates to determine appropriate business event triggers

**Multi-Channel Communication Execution**
Upon event validation, system fires reminder notices, cancel notices, or cancellation requests that automatically generate email or letter communications to customers based on bill type and payment allocation mode

**Task Generation for Escalation**
When cancellation request events are triggered, automated tasks are created at master policy or member record levels for user review and remediation actions


**Acceptance Criteria:**

**Eligible Account Processing**
Given invoices exist in issued or partially-paid status without hold tags, When the delinquency job executes, Then system processes all eligible billing accounts and displays process-started indicators

**Event Firing Logic**
Given configuration parameters define grace periods and notice timing, When system validates dates against invoice due dates, Then appropriate business events fire according to bill type and payment allocation mode rules

**Communication Delivery**
Given business events are successfully fired, When event processing completes, Then automated emails or letters are generated and delivered through designated channels

**Escalation Task Creation**
Given cancellation request events are triggered, When events reach task management system, Then automated tasks are created at appropriate policy or member record levels for user action


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=628374646"
]

---

#### Feature: Manage Delinquency Processing for List Bill and Individual Direct Billing
- **Role**: Billing Administrator
- **Action**: automate delinquency communication and escalation processing for overdue billing accounts
- **Value**: overdue accounts are systematically managed through progressive notices and cancellation requests without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **automate delinquency communication and escalation processing for overdue billing accounts**,
So that **overdue accounts are systematically managed through progressive notices and cancellation requests without manual intervention**


**Key Capabilities:**

**1. Delinquency Account Identification**
System identifies billing accounts with issued or partially paid invoices, validates absence of active holds (Reminder/Cancel/Cancellation), and selects oldest qualifying invoice for processing

**2. Configuration-Based Event Determination**
System retrieves product-specific delinquency parameters and determines applicable communication events (reminder, cancel, cancellation, APL requests) based on business rules

**3. Progressive Communication Execution**
System fires product-level events, marks invoices with delinquency flags, generates business activity monitoring records, and consolidates multiple product events into unified notices per billing account

**4. Exception & Hold Management**
When accounts have active holds or tolerance flags, system bypasses affected notice types while processing eligible events (e.g., APL requests) per configuration rules


**Acceptance Criteria:**

**1. Account Selection & Validation**
Given billing accounts exist with overdue invoices, When delinquency job executes, Then system processes only accounts without conflicting active holds and flags invoices as delinquency-in-process

**2. Event Generation & Consolidation**
Given multiple products on single billing account qualify for notices, When events are fired, Then system consolidates same-day same-type notices into single communication and generates corresponding activity records

**3. Hold Respect & Bypass Logic**
Given account has partial holds active, When processing occurs, Then system generates only non-held event types and continues with APL requests if configured

**4. Tolerance Threshold Handling**
Given invoice has tolerance flag within threshold, When system evaluates cancellation, Then cancellation event is suppressed while other eligible notices proceed

**5. Job Completion & Traceability**
Given all qualifying accounts processed, When job completes, Then system records successful execution status with activity audit trail per account


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=624213077"
]

---

#### Feature: Manage Delinquency Processing for Self-Bill Accounts
- **Role**: Billing Administrator
- **Action**: manage automated delinquency processing for self-bill accounts with outstanding payment obligations
- **Value**: ensure timely collection communications are triggered while respecting hold configurations and business rules

**Description:**

As a **Billing Administrator**,
I want to **manage automated delinquency processing for self-bill accounts with outstanding payment obligations**,
So that **ensure timely collection communications are triggered while respecting hold configurations and business rules**


**Key Capabilities:**

**Account Identification & Validation**
System identifies self-bill accounts with generated payment requests and validates absence of active hold configurations (reminder, cancel, or cancellation holds) before proceeding with delinquency evaluation.

**Payment Request Assessment**
System retrieves oldest payment request, verifies associated invoice generation and status (issued, partially paid, or discarded), and retrieves product-specific delinquency configuration parameters.

**Event Determination & Initiation**
System evaluates whether reminder notices, cancel notices, or cancellation requests should be triggered based on configured business rules and initiates appropriate delinquency processing with event generation at master policy level.

**Event Consolidation & Flagging**
System aggregates product-level events into consolidated communications per billing account and invoice, applies delinquency process flags to invoices and product levels, and generates audit activity records.

**Multi-Request Processing**
System iterates through multiple payment requests and invoices per account when applicable, respecting processing rules for products billed across different payment obligations.

**Completion Verification**
System validates all identified accounts have been processed and completes job execution with appropriate status recording.


**Acceptance Criteria:**

**Successful Delinquency Initiation**
Given a self-bill account with outstanding payment requests and no active holds, When the delinquency job executes and validates invoice status and configuration rules, Then appropriate reminder or cancel notice events are fired and delinquency flags are applied.

**Hold Configuration Respected**
Given a billing account has active reminder, cancel, or cancellation hold tags with valid effective dates, When the delinquency job evaluates the account, Then the system skips event generation for held notice types and proceeds to next account.

**Event Consolidation**
Given multiple products under same billing account triggered delinquency events on same day for same notice type, When event generation completes, Then system consolidates product-level events into single unified communication event per account and invoice.

**Paid Invoice Handling**
Given an invoice associated with oldest payment request has status of 'Paid', When the system validates invoice status, Then processing skips to next payment request or account without firing delinquency events.

**Multi-Request Processing**
Given products are billed under different invoices or payment requests within same account, When delinquency processing completes for one request, Then system continues iterating through remaining requests until all are evaluated.

**Audit Trail Generation**
Given delinquency events are successfully fired, When processing completes, Then system generates BAM activity records with 'Finished' status for each business event and consolidated communication.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=716875934"
]

---

#### Feature: Apply Delinquency Hold Controls to Suspend Notice Generation
- **Role**: Billing Administrator
- **Action**: apply hold controls to suspend automated delinquency communications for billing accounts under review
- **Value**: prevent inappropriate collection actions during dispute resolution, payment negotiations, or special circumstances requiring manual intervention

**Description:**

As a **Billing Administrator**,
I want to **apply hold controls to suspend automated delinquency communications for billing accounts under review**,
So that **I can prevent inappropriate collection actions during dispute resolution, payment negotiations, or special circumstances requiring manual intervention**


**Key Capabilities:**

**Hold Tag Application to Prevent Processing**
User is able to apply hold tags ('Reminder Notice On Hold', 'Cancel Notice On Hold', 'Cancellation On Hold') at billing account level to exclude accounts from automated delinquency job processing.

**Validation During Job Execution**
When automated delinquency job runs, system validates each eligible billing account for presence of hold tags before initiating communication workflows.

**Selective Hold Management**
User is able to apply specific hold types to suppress only certain notice categories (reminder vs cancellation) while allowing others to proceed based on business needs.

**Hold Release and Resumption**
Upon resolution of account issues, user removes hold tags to allow account re-entry into automated delinquency processing during subsequent job cycles.

**Account Exclusion Confirmation**
If hold tags are present, system skips the billing account entirely and proceeds to next eligible account without generating events or communications.


**Acceptance Criteria:**

**Hold Tag Prevents Delinquency Processing**
Given billing account has 'Reminder Notice On Hold' tag applied, When automated delinquency job evaluates the account, Then system skips all reminder notice generation and proceeds to next account.

**Multiple Hold Types Respected**
Given account has 'Cancel Notice On Hold' and 'Cancellation On Hold' tags, When job processes cancellation-eligible accounts, Then system prevents both cancel notice and cancellation request events from firing.

**Partial Hold Application**
Given account has only 'Reminder Notice On Hold' tag, When grace period expires triggering cancellation timing, Then system allows cancellation request events while suppressing reminder notices.

**Hold Release Enables Processing**
Given account previously held is now released, When next delinquency job cycle runs and configuration criteria match, Then system initiates appropriate delinquency communications based on current invoice status.

**No Retroactive Event Generation**
Given hold was active during multiple job cycles, When hold is removed, Then system generates only current-period applicable notices without retroactive communications for suppressed periods.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=628374646"
]

---

#### Feature: Configure Notice Subtypes for Multi-Stage Delinquency Workflows
- **Role**: Billing Administrator
- **Action**: configure notice subtypes for multi-stage delinquency workflows to automate payment reminders and cancellation communications
- **Value**: the system automatically escalates delinquency communications based on payment status, reducing manual intervention and improving collection rates

**Description:**

As a **Billing Administrator**,
I want to **configure notice subtypes for multi-stage delinquency workflows to automate payment reminders and cancellation communications**,
So that **the system automatically escalates delinquency communications based on payment status, reducing manual intervention and improving collection rates**


**Key Capabilities:**

**1. Delinquency Parameter Configuration**
Administrator is able to define grace periods, invoice status thresholds, and payment allocation modes that govern when delinquency communications trigger.

**2. Notice Subtype Definition**
Administrator is able to establish notice subtypes for reminder/cancel notices and cancellation/APL requests aligned to business escalation policies.

**3. Multi-Stage Workflow Orchestration**
System automatically determines appropriate communication stage based on configured parameters, invoice status, and payment history.

**4. Billing Scenario Integration**
Configuration applies consistently across List Bill and Individual Direct billing contexts, ensuring unified delinquency handling.


**Acceptance Criteria:**

**1. Parameter-Driven Notice Initiation**
Given delinquency parameters are configured, When invoice exceeds grace period thresholds, Then system automatically identifies appropriate notice subtype to initiate.

**2. Multi-Stage Escalation Logic**
Given notice subtypes are defined for multiple stages, When payment remains outstanding, Then system progresses from reminder to cancellation notices according to configuration.

**3. Cross-Billing Consistency**
Given configurations are saved, When delinquency occurs in List Bill or Individual Direct scenarios, Then system applies identical notice subtype rules.

**4. Configuration Validation**
Given administrator submits configuration, When parameters conflict with business rules, Then system prevents activation until resolved.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=628364279"
]

---

#### Feature: Track Future Delinquency Event Schedules in Notice Payloads
- **Role**: Billing Administrator
- **Action**: Track scheduled delinquency events within notice communications to anticipate downstream collection actions
- **Value**: Proactive management of delinquency timelines ensures timely customer outreach and reduces administrative overhead in monitoring payment status

**Description:**

As a Billing Administrator,
I want to track scheduled delinquency events within notice communications to anticipate downstream collection actions,
So that proactive management of delinquency timelines ensures timely customer outreach and reduces administrative overhead in monitoring payment status


**Key Capabilities:**

**Delinquency Job Initialization**
Automated or manual job identifies billing accounts with issued/partially paid invoices, validates absence of active holds, and retrieves product-specific configuration parameters.

**Event Eligibility Validation**
System evaluates invoice tolerance flags, grace period expiration, and configuration start dates to determine if reminder, cancel, or cancellation events should fire.

**Multi-Level Event Generation**
Events generated at Master Policy or Member Record levels based on bill type and payment allocation mode, with consolidated events aggregating same-day, same-notice-type triggers.

**Schedule Embedding in Payloads**
Future delinquency event schedules included in notice payloads, capturing next escalation dates and action types for downstream processing.

**Activity Tracking and Flag Display**
BAM activities record event generation; 'Delinquency Process Started' flags display at invoice and product levels for operational visibility.


**Acceptance Criteria:**

**Successful Event Schedule Capture**
Given billing account with multiple unpaid products, When delinquency job processes invoices, Then future reminder, cancel, and cancellation event dates embedded in notice payload per product configuration.

**Hold-Based Skipping Logic**
Given active holds on billing account, When job validates hold status, Then events for held notice types skipped unless APL request applies, and no flags displayed for skipped accounts.

**Consolidated Event Aggregation**
Given multiple products triggering same notice type on same day, When individual events generated, Then consolidated event created with aggregated debt details and single BAM activity recorded.

**Tolerance Period Exclusion**
Given invoice with active tolerance flag within period, When job selects invoices for processing, Then invoice skipped and no cancellation events fired.

**Bill Type-Specific Payload Content**
Given Individual Premium Accounting billing account with partially paid invoice, When events generated, Then payload includes MP-level and unpaid MR-level schedules with corresponding task creation triggers.


**Reference URLs:**

[
  "/pages/viewpage.action?pageId=624213077",
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=628364415",
  "/pages/viewpage.action?pageId=627059248"
]

---

#### Feature: Execute Automated Delinquency Processing via Scheduled Job
- **Role**: Billing Administrator
- **Action**: Execute automated delinquency processing through scheduled job execution to identify overdue accounts and trigger appropriate remediation actions
- **Value**: Delinquency risks are systematically mitigated through timely automated notifications and policy cancellation workflows, ensuring financial control and operational efficiency

**Description:**

As a **Billing Administrator**,
I want to **execute automated delinquency processing through scheduled job execution to identify overdue accounts and trigger appropriate remediation actions**,
So that **delinquency risks are systematically mitigated through timely automated notifications and policy cancellation workflows, ensuring financial control and operational efficiency**


**Key Capabilities:**

**1. Billing Account Identification and Hold Validation**
Upon scheduled job initiation, system identifies billing accounts with issued or partially paid invoices. System validates absence of active holds (Reminder Notice On Hold, Cancel Notice On Hold, Cancellation On Hold) before proceeding with delinquency processing.

**2. Invoice Selection and Configuration Retrieval**
System selects oldest non-tolerance invoice for processing. System retrieves product-specific delinquency configuration parameters from rules engine and validates event firing criteria based on grace period thresholds and payment allocation logic.

**3. Event Generation and Consolidation**
System fires business events (Reminder Notice, Cancel Notice, Cancellation Request, APL Request) at Master Policy or Member Record level based on bill type. System consolidates multiple product-level events into single consolidated event per billing account and invoice.

**4. Cancellation Request Workflow Initiation**
When cancellation threshold is met, system generates automated cancellation request task and notifies policy system. Policy system evaluates automated delinquency processing for entire Master Policy or Member Record and creates cancellation transaction if warranted.


**Acceptance Criteria:**

**1. Successful Job Execution with Event Generation**
Given billing accounts with overdue invoices exist and no active holds are present, When the delinquency processing job executes on schedule, Then system fires appropriate business events per product configuration, generates BAM activities with 'Finished' status, and displays 'Delinquency Process Started' flag on invoice and product levels.

**2. Hold Status Enforcement**
Given a billing account has active holds for all three hold types (Reminder Notice On Hold, Cancel Notice On Hold, Cancellation On Hold) and no APL-eligible member records exist, When the job processes the billing account, Then system skips delinquency event generation and no 'Delinquency Process Started' flag is displayed.

**3. Consolidated Event Creation**
Given multiple products triggered Reminder or Cancel Notice events for the same billing account and invoice on the same date with same notice type, When event consolidation logic executes, Then system fires single consolidated business event aggregating all product data and generates corresponding BAM activity.

**4. Cancellation Request Task Generation**
Given cancellation threshold is met per product configuration and invoice exceeds grace period plus configured offset, When cancellation request event fires, Then system creates cancellation request task at Master Policy or Member Record level and notifies policy system for automated cancellation transaction processing.


**Reference URLs:**

[
  "/pages/viewpage.action?pageId=624213077",
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=628371118",
  "/pages/viewpage.action?pageId=641142087",
  "/pages/viewpage.action?pageId=627059248"
]

---

#### Feature: Generate Business Activity Monitoring Events for Delinquency Notices
- **Role**: Billing Administrator
- **Action**: generate business activity monitoring events for delinquency communications
- **Value**: stakeholders receive timely visibility into collection activities and compliance tracking

**Description:**

As a **Billing Administrator**,
I want to **generate business activity monitoring events for delinquency communications**,
So that **stakeholders receive timely visibility into collection activities and compliance tracking**


**Key Capabilities:**

**1. Delinquency Notice Triggering**
When automatic delinquency processes initiate communications for individual direct or list bill accounts, system identifies triggering conditions and account context.

**2. Business Event Generation**
Upon notice preparation, system generates standardized monitoring events capturing delinquency stage, account identifiers, and communication type.

**3. Event Distribution**
System publishes monitoring events to enterprise business activity monitoring platforms for stakeholder consumption and reporting integration.


**Acceptance Criteria:**

**1. Event Creation for Notice Initiation**
Given delinquency communication is triggered, When notice generation completes, Then monitoring event is created with account and delinquency stage details.

**2. Event Format Consistency**
Given multiple delinquency notice types exist, When events are generated, Then all events follow standardized schema for integration compatibility.

**3. Audit Trail Completeness**
Given delinquency notices are issued, When stakeholders query monitoring system, Then complete event history is available for compliance verification.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=627059494"
]

---
## Initiative: Financial Control & Ledger Integration

### Epic: Financial Transaction Classification & Routing

#### Feature: Classify Financial Transactions by Business Type
- **Role**: Billing Administrator
- **Action**: classify financial transactions by business type to enable accurate ledger posting
- **Value**: the system applies appropriate accounting treatment and ensures regulatory compliance through correct double-entry accounting

**Description:**

As a **Billing Administrator**,
I want to **classify financial transactions by business type to enable accurate ledger posting**,
So that **the system applies appropriate accounting treatment and ensures regulatory compliance through correct double-entry accounting**


**Key Capabilities:**

**Transaction Type Classification**
User is able to designate each financial transaction as either Payment or Invoice type before ledger processing.

**Automated Routing Logic**
Upon classification, system automatically routes transaction to appropriate double-entry accounting workflow.

**Payment Processing Path**
When classified as Payment, system applies payment-specific ledger posting rules and accounting logic.

**Invoice Processing Path**
When classified as Invoice, system executes invoice-specific posting procedures including specialized ledger account assignments.

**Classification Validation**
System enforces mandatory classification requirement before allowing transaction to proceed to ledger posting operations.


**Acceptance Criteria:**

**Valid Payment Classification**
Given a financial transaction, when classified as Payment type, then system routes to payment ledger posting workflow with appropriate accounting rules.

**Valid Invoice Classification**
Given a financial transaction, when classified as Invoice type, then system executes invoice-specific posting procedure to designated ledger accounts.

**Missing Classification Prevention**
Given a transaction without business type designation, when attempting ledger posting, then system prevents processing and requires valid classification.

**Invalid Type Rejection**
Given a transaction with unauthorized classification value, when submitted for processing, then system rejects and enforces Payment or Invoice designation requirement.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=213982030"
]

---

#### Feature: Route Transactions to Ledger Accounts via Configuration
- **Role**: Billing Administrator
- **Action**: configure transaction type classification rules to automate ledger account routing
- **Value**: financial transactions are accurately categorized and routed to appropriate ledger accounts without manual intervention

**Description:**

As a **Billing Administrator**,
I want to **configure transaction type classification rules to automate ledger account routing**,
So that **financial transactions are accurately categorized and routed to appropriate ledger accounts without manual intervention**


**Key Capabilities:**

**Transaction Type Definition**
User is able to configure transaction categorization rules using enumerated business transaction types (PAYMENT, PAYMENT_ALLOCATION) applicable across all LOBs.

**Automated Payment Processing**
When transaction type is identified as PAYMENT, system processes incoming funds and updates account balances accordingly.

**Allocation Distribution**
When transaction type is identified as PAYMENT_ALLOCATION, system distributes or reallocates payment amounts across invoices, premiums, or billing items.

**Routing Validation**
Upon transaction initiation, system validates transaction type assignment and routes to appropriate billing process handler.


**Acceptance Criteria:**

**Valid Transaction Classification**
Given a financial transaction is initiated, When business transaction type is provided as PAYMENT or PAYMENT_ALLOCATION, Then system categorizes and routes transaction to appropriate ledger account handler.

**Mandatory Type Enforcement**
Given a transaction submission, When business transaction type is missing or invalid, Then system prevents transaction processing until valid type is assigned.

**Payment Processing Path**
Given transaction type is PAYMENT, When system processes the transaction, Then account balances are updated reflecting incoming funds.

**Allocation Processing Path**
Given transaction type is PAYMENT_ALLOCATION, When system processes the transaction, Then payment amounts are distributed across designated billing items.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=218540680"
]

---

#### Feature: Process Multi-Currency Transaction Amounts
- **Role**: Billing Administrator
- **Action**: process multi-currency transactions through ledger double-entry posting
- **Value**: I can ensure accurate financial recording and compliance with accounting standards across multiple currencies

**Description:**

As a **Billing Administrator**,
I want to **process multi-currency transactions through ledger double-entry posting**,
So that **I can ensure accurate financial recording and compliance with accounting standards across multiple currencies**


**Key Capabilities:**

**1. Transaction Initiation**
User is able to initiate invoice business transactions requiring monetary transfer between accountable parties

**2. Currency Amount Processing**
System captures and validates currency amounts for transfer, applying business rules to ensure data integrity

**3. Ledger Account Classification**
System determines appropriate ledger accounts based on transaction type and accountable party relationships

**4. Double-Entry Posting Execution**
System posts currency amounts to designated ledger accounts following double-entry accounting principles

**5. Transaction Completion**
System confirms successful posting and maintains audit trail of currency transfers


**Acceptance Criteria:**

**1. Valid Transaction Processing**
Given an invoice business transaction is initiated, When currency amount and accountable parties are provided, Then system successfully posts amounts to corresponding ledger accounts

**2. Incomplete Data Handling**
Given a transaction submission, When required currency amount or accountable information is missing, Then system prevents posting and notifies user of incomplete data

**3. Multi-Currency Support**
Given transactions in different currencies, When amounts are processed, Then system correctly handles currency types in ledger accounts

**4. Audit Trail Creation**
Given successful posting, When transaction completes, Then system creates complete audit record of amount transfers


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=213982049"
]

---

#### Feature: Convert Currency Using Transaction-Date Exchange Rates
- **Role**: Billing Accountant
- **Action**: convert financial transaction amounts using exchange rates captured at transaction date
- **Value**: financial records reflect accurate multi-currency valuations aligned with the moment of business activity

**Description:**

As a **Billing Accountant**,
I want to **convert financial transaction amounts using exchange rates captured at transaction date**,
So that **financial records reflect accurate multi-currency valuations aligned with the moment of business activity**


**Key Capabilities:**

**1. Transaction Rate Capture**
When a business transaction occurs, system captures the applicable exchange rate at that precise moment and stores it as a required attribute.

**2. Currency Conversion Calculation**
Upon rate capture, system performs currency conversion calculations for the transaction amount using the stored transaction-date rate.

**3. Ledger Posting with Conversion**
System applies the transaction-date exchange rate during ledger double entry posting processes to ensure converted amounts are recorded in ledger accounts.


**Acceptance Criteria:**

**1. Rate Capture Validation**
Given a business transaction is initiated, When the transaction reaches the rate capture stage, Then system must record the current exchange rate without allowing empty values.

**2. Conversion Accuracy**
Given a transaction-date rate is captured, When currency conversion is triggered, Then system calculates foreign and domestic amounts using exclusively that stored rate.

**3. Ledger Posting Integrity**
Given converted transaction amounts are calculated, When ledger posting executes, Then system creates double entries with amounts derived from the original transaction-date rate.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=213982053"
]

---

#### Feature: Track Product-Level Financial Balances
- **Role**: Billing Administrator
- **Action**: track and manage product-level financial balances across transaction activities
- **Value**: accurate outstanding amounts are automatically maintained to support payment collection and financial reconciliation

**Description:**

As a **Billing Administrator**,
I want to **track and manage product-level financial balances across transaction activities**,
So that **accurate outstanding amounts are automatically maintained to support payment collection and financial reconciliation**


**Key Capabilities:**

**Balance Initialization**
System establishes Total Due amount upon product issuance based on premium calculations and policy terms.

**Transaction-Triggered Recalculation**
Upon payment, adjustment, or fee transactions, system automatically recalculates Total Due to reflect current financial position.

**Product-Type Specific Logic**
System applies Personal Lines calculation rules supporting positive, zero, and negative balances. System applies Benefits calculation as Master Policy Current Due plus Prior Due amounts with positive-only values.

**Balance State Interpretation**
System identifies outstanding balance when Total Due exceeds zero, full payment at zero, and overpayment when negative (Personal Lines only).


**Acceptance Criteria:**

**Automatic Balance Update**
Given a product with established Total Due, When payment/adjustment/fee transaction is applied, Then system recalculates Total Due reflecting transaction impact without manual intervention.

**Product-Type Calculation Rules**
Given a Personal Lines product, When customer payment exceeds premium, Then system records negative Total Due. Given a Benefits product, When transactions occur, Then system maintains positive Total Due only.

**Balance State Accuracy**
Given calculated Total Due, When balance is positive, Then system identifies outstanding amount. When balance is zero, Then system confirms full payment. When balance is negative, Then system flags overpayment for Personal Lines products.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=208092557"
]

---

#### Feature: Calculate Current Due and Prior Due Amounts
- **Role**: Billing Administrator
- **Action**: calculate and track current and prior due amounts across account and product levels
- **Value**: accurate financial exposure is maintained and payment allocation reflects the most recent billing obligations

**Description:**

As a **Billing Administrator**,
I want to **calculate and track current and prior due amounts across account and product levels**,
So that **accurate financial exposure is maintained and payment allocation reflects the most recent billing obligations**


**Key Capabilities:**

**1. Newest Invoice Identification**
System identifies the most recent invoice at overall account or product-specific level, irrespective of invoice due date.

**2. Current Due Calculation**
System calculates unpaid amount from the newest invoice as Current Due.
    2.1 When partial payments allocated to Invoice UIP exist, system adjusts Current Due by subtracting allocated amounts.
    2.2 When calculating for specific product, system isolates product's newest invoice independently.

**3. Multi-Level Availability**
System makes Current Due retrievable at both overall account level and individual product level for flexible financial reporting.


**Acceptance Criteria:**

**1. Newest Invoice Balance Calculation**
Given at least one invoice exists, When system calculates Current Due, Then unpaid amount from newest invoice is returned regardless of due date.

**2. Partial Payment Adjustment**
Given partial payments allocated to Invoice UIP, When Current Due is calculated, Then system subtracts allocated amounts from newest invoice balance.

**3. Product-Level Isolation**
Given multi-product account, When product-specific Current Due is requested, Then system calculates using only that product's newest invoice independently.

**4. Dual-Level Retrieval**
Given Current Due calculation completed, When retrieval is requested, Then system provides amounts at both overall account and product-specific levels.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=367376188"
]

---

#### Feature: Manage Billable and Billed Amount Tracking
- **Role**: Billing Administrator
- **Action**: calculate and maintain the total billable amount for product terms
- **Value**: I ensure accurate client billing obligations are established and tracked independently of payment or invoice status

**Description:**

As a **Billing Administrator**,
I want to **calculate and maintain the total billable amount for product terms**,
So that **I ensure accurate client billing obligations are established and tracked independently of payment or invoice status**


**Key Capabilities:**

**1. Total Obligation Calculation**
System calculates Total Billable Amount by aggregating complete premium (billed and unbilled portions), applicable taxes, and fees for the defined product term.

**2. Independent Amount Maintenance**
System maintains Total Billable Amount as immutable reference, unaffected by client payment activities or invoice generation events.

**3. Component Tracking**
System tracks three distinct components within Total Billable Amount: premium obligations, tax assessments, and fee charges for complete financial visibility.


**Acceptance Criteria:**

**1. Complete Obligation Establishment**
Given a product term with configured premium, taxes, and fees, When the system calculates Total Billable Amount, Then the amount reflects complete sum of all three components.

**2. Payment Independence**
Given an established Total Billable Amount, When client payments are processed, Then the Total Billable Amount remains unchanged and reflects original obligation.

**3. Invoice Independence**
Given a Total Billable Amount, When invoices are generated or remain pending, Then the amount persists as authoritative total regardless of invoicing status.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=208092583"
]

---

#### Feature: Calculate Paid-To-Date Coverage Based on Installments
- **Role**: Billing Administrator
- **Action**: calculate and track payment coverage periods based on installment fulfillment
- **Value**: I can accurately determine coverage status and ensure policy terms remain enforceable based on actual payment completion

**Description:**

As a **Billing Administrator**,
I want to **calculate and track payment coverage periods based on installment fulfillment**,
So that **I can accurately determine coverage status and ensure policy terms remain enforceable based on actual payment completion**.


**Key Capabilities:**

**1. Installment Identification & Analysis**
System identifies all installments associated with the billable product/policy and evaluates payment completion status against configured tolerance thresholds.

**2. Latest Paid Installment Detection**
System locates the most recent installment whose amount is fully satisfied by received payments, accounting for payment tolerance rules.

**3. Coverage Date Calculation**
System retrieves the Billed-To-Date value from the identified installment and calculates Paid-To-Date by subtracting one day, establishing the inclusive coverage boundary.

**4. Modality-Based Coverage Adjustment**
When monthly billing modality applies, system extends coverage through the end of the billing period regardless of account due day or period length variations.


**Acceptance Criteria:**

**1. Successful Paid-To-Date Calculation**
Given installments exist with payment records, When the system evaluates payment coverage, Then Paid-To-Date equals Billed-To-Date of the latest fully paid installment minus one day.

**2. Payment Tolerance Handling**
Given payment tolerance thresholds are configured, When installment payment falls within tolerance range, Then system considers the installment fully paid for coverage calculation.

**3. Monthly Modality Coverage Extension**
Given monthly billing modality is active, When payment is applied, Then coverage extends through the complete billing period end date regardless of due day positioning.

**4. Incomplete Payment Scenario**
Given no installments are fully paid, When system calculates coverage, Then Paid-To-Date reflects only previously satisfied periods or policy effective date if none exist.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=208092586"
]

---

#### Feature: Track Prepaid and Overpayment Balances
- **Role**: Billing Administrator
- **Action**: track and manage prepaid payment balances for policy accounts
- **Value**: accurate financial records are maintained and customer advance payments are properly allocated

**Description:**

As a **Billing Administrator**,
I want to **track and manage prepaid payment balances for policy accounts**,
So that **accurate financial records are maintained and customer advance payments are properly allocated**


**Key Capabilities:**

**1. Prepaid Balance Initiation**
System accepts payments without associated invoices and evaluates them against product minimum due thresholds.

**2. Balance Calculation and Allocation**
System calculates prepaid amount as the difference between payment received and minimum due requirement, when payment exceeds threshold.

**3. Balance Persistence**
System maintains prepaid balance at core billing subsystem level, ensuring funds paid in advance are tracked separately from invoice-based payments.

**4. Balance Validation**
System enforces non-negative balance constraint and excludes invoice-associated payments from prepaid calculations.


**Acceptance Criteria:**

**1. Valid Prepaid Recognition**
Given a payment without invoice exceeding minimum due, When payment is processed, Then system increases prepaid balance by excess amount only.

**2. Invoice Payment Exclusion**
Given a payment with associated invoice, When payment is processed, Then system excludes payment from prepaid balance calculation.

**3. Minimum Threshold Enforcement**
Given payment does not exceed minimum due, When payment is submitted, Then system does not add amount to prepaid balance.

**4. Balance Integrity**
Given any prepaid transaction, When balance is calculated, Then system ensures balance remains greater than or equal to zero dollars.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=208092577"
]

---

#### Feature: Generate Ledger Posting Requests with Transaction Metadata
- **Role**: Billing Administrator
- **Action**: generate ledger posting requests with transaction metadata
- **Value**: financial transactions are accurately classified and routed to the appropriate ledger systems for processing

**Description:**

As a **Billing Administrator**,
I want to **generate ledger posting requests with transaction metadata**,
So that **financial transactions are accurately classified and routed to the appropriate ledger systems for processing**


**Key Capabilities:**

**Business Transaction Request Creation**
System creates a standardized request entity containing transaction type (Payment or Invoice), transaction date/time, and unique transaction identifier for ledger processing.

**Transaction Metadata Assembly**
System captures and validates required classification attributes and optionally includes ledger template data for template-based posting workflows.

**Ledger Service Submission**
System routes the completed transaction request with metadata to appropriate Ledger Posting services within the Billing subsystem for processing across all LOBs.


**Acceptance Criteria:**

**Valid Transaction Request Processing**
Given a business transaction occurs, When transaction type, date, and ID are provided, Then system generates a valid BusinessTransactionRequest for ledger submission.

**Template-Based Posting Support**
Given a recurring transaction pattern exists, When ledger template data is included, Then system incorporates template metadata into the posting request.

**Cross-LOB Routing**
Given transactions from multiple LOBs, When posting requests are submitted, Then system routes each request to correct ledger services regardless of originating LOB.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=231023360"
]

---

### Epic: Ledger Posting & GL Integration

#### Feature: Calculate Member Record Overdue and Paid Amounts for External Systems
- **Role**: Billing Administrator
- **Action**: provide aggregated overdue and paid premium amounts at Member Record level to external systems via API
- **Value**: external systems such as Cash Management can accurately process Life Products and Cash Value accounts with consolidated financial data

**Description:**

As a **Billing Administrator**,
I want to **provide aggregated overdue and paid premium amounts at Member Record level to external systems via API**,
So that **external systems such as Cash Management can accurately process Life Products and Cash Value accounts with consolidated financial data**


**Key Capabilities:**

**1. API Request Initiation**
External system invokes API with Member Record ID, As of date, and End date to request financial summary calculation.

**2. Member Record Eligibility Validation**
System verifies Member Record is billed at List Bill Individual Premium Accounting or Individual Direct Billing Account and has been invoiced at least once.

**3. Financial Calculation Across Billing Accounts**
System calculates Total Remaining Due (sum of remaining due amounts) and Total Paid (sum of allocated payments) across all Billing Accounts where Member Record was ever billed, using defined business rule.
    3.1 When Member Record is associated with multiple Billing Accounts due to Continuation, Portability, or Location/Division changes, system aggregates amounts without splitting by Billing Account.

**4. API Response Delivery**
System returns Member Record ID, Total Remaining Due, and Total Paid as single aggregated values to requesting external system.


**Acceptance Criteria:**

**1. Successful API Response for Single Billing Account**
Given a Member Record billed at Individual Premium Accounting Billing Account with invoices and payments, When external system requests financial summary with valid Member Record ID and date range, Then system returns aggregated Total Remaining Due and Total Paid amounts.

**2. Aggregated Response for Multiple Billing Accounts**
Given a Member Record associated with multiple Billing Accounts due to Continuation or Portability, When API is invoked, Then system returns single aggregated Total Remaining Due and Total Paid without splitting by Billing Account.

**3. Rejection for Unsupported Billing Account Types**
Given a Member Record billed at List Bill True Group or Self-Bill Billing Account, When API request is submitted, Then system rejects request indicating unsupported account type.

**4. Validation for Uninvoiced Member Records**
Given a Member Record with no invoices generated, When API is invoked, Then system prevents calculation and returns appropriate response indicating no invoice history.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=735716870"
]

---

#### Feature: Manage Ledger Template Configuration with Accounting Entity Variations
- **Role**: Billing Administrator
- **Action**: configure ledger templates with accounting entity associations
- **Value**: ensure accurate financial postings across multiple accounting entities with proper general ledger integration

**Description:**

As a **Billing Administrator**,
I want to **configure ledger templates with accounting entity associations**,
So that **ensure accurate financial postings across multiple accounting entities with proper general ledger integration**


**Key Capabilities:**

**1. Ledger Template Access & Selection**
User is able to access existing ledger templates containing registered variation names for configuration purposes.

**2. Accounting Entity Association**
User is able to associate one or more accounting entity identifiers with the selected ledger template, establishing the financial posting relationship.

**3. Variation Name Validation**
Upon association submission, system validates that each accounting entity's variation name exactly matches registered template variations, preventing configuration mismatches.

**4. Configuration Persistence**
When validation succeeds, system persists the accounting entity associations enabling ledger entries to post correctly across entities.


**Acceptance Criteria:**

**1. Valid Entity Association**
Given a ledger template with registered variations, When user associates accounting entities with matching variation names, Then system accepts and persists the configuration.

**2. Variation Mismatch Prevention**
Given accounting entities with non-matching variation names, When user attempts association, Then system rejects the configuration with validation error.

**3. Minimum Entity Requirement**
Given an association attempt with zero accounting entities, When user submits configuration, Then system prevents submission requiring at least one entity.

**4. Template Integrity**
Given a configured ledger template, When ledger entries are generated, Then system applies correct accounting entity variations for GL posting.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=213982046"
]

---

#### Feature: Process Business Transaction Requests for Ledger Entry Generation
- **Role**: Billing Administrator
- **Action**: configure and maintain ledger templates for business transaction processing
- **Value**: financial transactions are accurately posted to the general ledger with proper accounting structure and compliance

**Description:**

As a **Billing Administrator**,
I want to **configure and maintain ledger templates for business transaction processing**,
So that **financial transactions are accurately posted to the general ledger with proper accounting structure and compliance**


**Key Capabilities:**

**Ledger Template Registration**
User is able to register new ledger templates in the ledger subsystem with unique identification for future transaction processing.

**Template Identification Management**
User is able to assign mandatory template names that serve as primary references for ledger posting rules and GL integration.

**Template Association**
Upon template registration, system links the template to business transaction types for automated ledger entry generation.

**Template Validation**
System validates template completeness and mandatory attributes before allowing activation for transaction processing.


**Acceptance Criteria:**

**Mandatory Template Identification**
Given a new ledger template is being registered, When the administrator attempts to save without providing a template name, Then the system prevents registration and indicates missing mandatory information.

**Unique Template Reference**
Given multiple ledger templates exist in the subsystem, When a template name is assigned, Then the system ensures unique identification for accurate template retrieval during transaction processing.

**Template Activation Readiness**
Given a ledger template configuration is complete, When all mandatory attributes are provided, Then the system enables the template for business transaction ledger entry generation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=213982041"
]

---

#### Feature: Maintain Ledger Entry Attributes for GL Posting
- **Role**: Billing Administrator
- **Action**: configure and maintain ledger entry attributes within transaction templates to ensure accurate GL posting
- **Value**: financial transactions are systematically classified, routed to appropriate accounts, and seamlessly integrated with the general ledger

**Description:**

As a **Billing Administrator**,
I want to **configure and maintain ledger entry attributes within transaction templates to ensure accurate GL posting**,
So that **financial transactions are systematically classified, routed to appropriate accounts, and seamlessly integrated with the general ledger**


**Key Capabilities:**

**1. Ledger Configuration Setup**
User is able to establish posting configurations that group transaction templates by business transaction type, defining the framework for automated ledger entry generation

**2. Transaction Template Definition**
User is able to create and maintain transaction templates that specify ledger entry generation rules for advanced posting mode, including transaction type classification and entry categorization

**3. Account Attribute Assignment**
User is able to configure core ledger account attributes including transaction type identifiers, entry classifications, account codes, and accountable entity references for each template

**4. Template Validation**
When configurations are complete, system validates that all required attributes are properly assigned and templates are ready for transaction processing


**Acceptance Criteria:**

**1. Configuration Establishment**
Given a new business transaction type, When administrator creates ledger posting configuration, Then system groups associated templates and enables transaction processing for that type

**2. Template Attribute Completeness**
Given a transaction template, When all required attributes (transaction type, entry type, account code, accountable reference) are assigned, Then system activates template for ledger entry generation

**3. Transaction Processing Readiness**
Given valid posting configurations exist, When business transaction requests arrive, Then system successfully maps requests to appropriate templates and generates ledger entries with correct account attributes

**4. Incomplete Configuration Prevention**
Given missing or invalid attributes, When administrator attempts to activate template, Then system prevents activation and identifies required corrections


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=213982023"
]

---

### Epic: Financial Reporting, Audit & Compliance

#### Feature: Calculate Member Record Unpaid Premium Amounts
- **Role**: Billing Analyst
- **Action**: calculate unpaid premium amounts for member records within specified timeframes
- **Value**: I can provide accurate financial liability reporting for audit, compliance, and financial control purposes

**Description:**

As a **Billing Analyst**,
I want to **calculate unpaid premium amounts for member records within specified timeframes**,
So that **I can provide accurate financial liability reporting for audit, compliance, and financial control purposes**


**Key Capabilities:**

**1. Financial Liability Request Intake**
User initiates calculation by providing member identifiers and date parameters (as-of date and end date) to determine the reporting period for unpaid premium assessment.

**2. Billing Account & Invoice Discovery**
System identifies all billing accounts associated with requested members and retrieves invoices issued by the as-of date where members were billed.

**3. Due Amount Calculation**
System filters invoices with due dates within the end date threshold and calculates total remaining due and total paid amounts per member according to established business rules.

**4. Financial Position Response**
System returns member-level financial summary including total outstanding liability and payment history for each requested member record.


**Acceptance Criteria:**

**1. Successful Multi-Member Calculation**
Given valid member identifiers with billing history, When calculation is requested with valid date range, Then system returns accurate total remaining due and total paid for each member.

**2. Unbilled Member Handling**
Given member record with no invoices issued by as-of date, When calculation is processed, Then system returns zero remaining due and proceeds with total paid calculation.

**3. Invalid Member Request Rejection**
Given non-existent member identifiers, When calculation is attempted, Then system returns error response and prevents processing.

**4. Out-of-Range Invoice Exclusion**
Given invoices with due dates exceeding end date parameter, When calculation is executed, Then system excludes those invoices and returns zero remaining due if no qualifying invoices exist.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=707828569"
]

---

#### Feature: Calculate Member Record Billable Premium Amounts
- **Role**: Billing Analyst
- **Action**: calculate total billable premium amounts for member records within specified periods
- **Value**: I can provide accurate financial data for reporting, audit verification, and compliance validation to external systems and stakeholders

**Description:**

As a **Billing Analyst**,
I want to **calculate total billable premium amounts for member records within specified periods**,
So that **I can provide accurate financial data for reporting, audit verification, and compliance validation to external systems and stakeholders**


**Key Capabilities:**

**1. Premium Calculation Request Intake**
System receives requests specifying member record identifier and as-of date for premium calculation scope

**2. Invoice Identification & Validation**
System locates all invoices associated with the member record where issue dates fall within the specified date boundary
    2.1 When member record does not exist, system returns error response
    2.2 When no invoices exist by specified date, system assigns zero billable amount

**3. Invoicing Period Qualification**
System filters invoices to include only complete invoicing periods between member effective date and specified date
    3.1 When no complete periods exist, system assigns zero billable amount

**4. Billable Amount Aggregation**
System calculates total billable amount by applying business rules to qualified invoices and returns member identifier with calculated premium totals


**Acceptance Criteria:**

**1. Successful Premium Calculation**
Given a valid member record with associated invoices, when calculation request specifies an as-of date covering complete invoicing periods, then system returns member identifier with accurate total billable amount

**2. Invalid Member Record Handling**
Given a non-existent member record identifier, when calculation is requested, then system returns error response without processing

**3. Pre-Invoice Period Handling**
Given a member record not yet included in any invoice by specified date, when calculation is requested, then system returns zero billable amount

**4. Incomplete Period Exclusion**
Given invoices exist but no complete invoicing periods fall between member effective date and specified date, when calculation is performed, then system returns zero billable amount

**5. Date Boundary Enforcement**
Given multiple invoices for a member record, when as-of date is specified, then system includes only invoices with issue dates on or before the specified date


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=811442326"
]

---

#### Feature: Manage Billing Account Variance Limit Reviews
- **Role**: Billing Administrator
- **Action**: manage and review billing account variance limits through assigned work tasks
- **Value**: variances are identified, reviewed, and resolved systematically to maintain financial compliance and accurate ledger reconciliation

**Description:**

As a **Billing Administrator**,
I want to **manage and review billing account variance limits through assigned work tasks**,
So that **variances are identified, reviewed, and resolved systematically to maintain financial compliance and accurate ledger reconciliation**


**Key Capabilities:**

**1. Variance Review Task Assignment**
System assigns variance limit review tasks when billing accounts exceed predefined thresholds, routing to appropriate personnel based on variance severity and account type.

**2. Centralized Task Access & Tracking**
User is able to access assigned variance review tasks through multiple views (personal work queue, inquiry interface, sidebar list) to monitor review status and prioritize workload.

**3. Variance Investigation & Documentation**
User is able to investigate variance details, document findings, and record resolution actions within the task context to establish audit trail.

**4. Review Completion & Approval**
Upon validation and resolution, user submits completed review for system adjudication and ledger adjustment approval workflows.


**Acceptance Criteria:**

**1. Task Routing & Assignment**
Given a billing account exceeds variance threshold, When the system detects the variance, Then a review task is automatically created and assigned to the designated billing administrator.

**2. Multi-View Task Access**
Given assigned variance review tasks exist, When the user accesses any task view interface, Then all pending reviews are displayed with priority indicators and status information.

**3. Incomplete Review Prevention**
Given a variance review is in progress, When the user attempts submission without required investigation documentation, Then the system prevents submission until data completeness requirements are satisfied.

**4. Audit Trail Maintenance**
Given a variance review is completed, When the task is closed, Then all investigation actions and resolution details are permanently recorded for compliance reporting.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=838440588"
]

---

#### Feature: Provide Financial Data to External Systems via API
- **Role**: Billing Administrator
- **Action**: provide financial data to external systems via API
- **Value**: external systems can access accurate member financial summaries for reporting, audit, and compliance purposes

**Description:**

As a **Billing Administrator**,
I want to **provide financial data to external systems via API**,
So that **external systems can access accurate member financial summaries for reporting, audit, and compliance purposes**


**Key Capabilities:**

**Request Processing & Member Identification**
Upon receiving API request with member identifiers and date parameters, system validates member existence and retrieves associated billing accounts and invoice history.

**Invoice Filtering & Selection**
System identifies all invoices where member appears, filtering by issue date and due date criteria to establish calculation scope.

**Financial Calculation Execution**
System calculates Total Remaining Due and Total Paid per member according to business rules, applying date-bound invoice filtering.

**Response Assembly & Delivery**
System returns member identifier, total remaining due, and total paid amounts for each requested member.
    4.1 When no member records exist, system returns error response.
    4.2 When member has no invoices within date range, system returns zero values.


**Acceptance Criteria:**

**Successful Data Retrieval**
Given valid member identifiers and date parameters, When API request is processed, Then system returns member ID, total remaining due, and total paid for each member.

**Date-Bound Invoice Filtering**
Given specific as-of and end dates, When calculation executes, Then system includes only invoices with issue date  as-of date and due date  end date.

**Invalid Member Handling**
Given member identifiers that do not exist, When system processes request, Then error response is returned without partial data.

**Zero-Balance Scenarios**
Given member with no invoices within date range, When calculation completes, Then system returns zero for both total remaining due and total paid amounts.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=707828569"
]

---

### Epic: Financial Adjustments & GL Journal Entries

#### Feature: Issue Manual Write-Offs for Invoice Adjustments
- **Role**: Billing Administrator
- **Action**: apply manual write-offs to reduce billed amounts on invoices based on payment negotiations or discrepancies
- **Value**: invoices accurately reflect agreed-upon payment amounts, account balances remain current, and financial records align with business agreements

**Description:**

As a **Billing Administrator**,
I want to **apply manual write-offs to reduce billed amounts on invoices based on payment negotiations or discrepancies**,
So that **invoices accurately reflect agreed-upon payment amounts, account balances remain current, and financial records align with business agreements**


**Key Capabilities:**

**1. Write-Off Initiation**
User accesses billing account invoice records and initiates manual write-off application for invoices in Issued or Partially Paid status. User provides required adjustment information and submits for processing.

**2. Automated Financial Recalculation**
Upon submission, system recalculates invoice remaining due, updates invoice status to Paid or Partially Paid based on adjustment type, adjusts billing account balances, and revises period-to-date totals.

**3. Partial Reversal Handling**
When negative invoice items affect written-off invoices, system identifies impacted member and classification segments and reverses only applicable write-off portions while preserving unaffected adjustments.

**4. Manual Reversal Processing**
User initiates reversal of existing write-offs by selecting target adjustment, providing reversal justification, and submitting. System processes reversal and updates all dependent financial calculations and status indicators.


**Acceptance Criteria:**

**1. Eligible Invoice Write-Off**
Given an invoice in Issued or Partially Paid status, when user submits valid write-off information, then system reduces invoice remaining due, updates invoice status appropriately, and adjusts billing account balances.

**2. Multiple Write-Off Support**
Given an invoice with existing write-off, when user applies additional write-off, then system processes new adjustment independently and recalculates all financial totals cumulatively.

**3. Partial Automatic Reversal**
Given an invoice with manual write-off, when negative invoice items affect specific member-classification combinations, then system reverses only impacted write-off portions and maintains unaffected adjustments.

**4. Complete Automatic Reversal**
Given an invoice with applied write-offs, when invoice is discarded, then system automatically reverses all associated write-offs and restores original financial calculations.

**5. Manual Reversal Authorization**
Given a non-reversed manual write-off, when authorized user submits reversal with valid reason, then system processes reversal and updates invoice status, balances, and adjustment history.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=688790823"
]

---

#### Feature: Approve or Reject Manual Write-Off Requests
- **Role**: Billing Approver
- **Action**: review and approve or reject manual write-off requests for outstanding invoices
- **Value**: I can ensure proper financial controls are applied to debt forgiveness decisions and maintain accurate general ledger records

**Description:**

As a **Billing Approver**,
I want to **review and approve or reject manual write-off requests for outstanding invoices**,
So that **I can ensure proper financial controls are applied to debt forgiveness decisions and maintain accurate general ledger records**


**Key Capabilities:**

**1. Write-Off Request Review**
User is able to access pending manual write-off requests with complete transaction context including billing account, customer, invoice details, and requesting user information.

**2. Transaction Validation Assessment**
User is able to evaluate write-off justification against business rules, reviewing invoice period, due date, outstanding amount, and currency details.

**3. Approval Decision Execution**
Upon decision, user is able to approve or reject the write-off request.
    3.1 When approved, system registers the write-off transaction with unique identifier and timestamp
    3.2 When rejected, system notifies requester and retains request for audit purposes

**4. GL Journal Entry Trigger**
When write-off is approved, system initiates general ledger posting to record bad debt expense and reduce accounts receivable balance.


**Acceptance Criteria:**

**1. Approval Authorization**
Given a pending manual write-off request, when the billing approver reviews and approves it, then the system registers a Write-Off Approved event with complete transaction details, approver identity, and approval timestamp.

**2. Rejection Handling**
Given a pending write-off request, when the approver rejects it, then the system prevents write-off execution and maintains the original invoice balance without GL impact.

**3. Audit Trail Completeness**
Given an approved write-off transaction, when recorded, then the system captures creator, creation timestamp, approver, approval timestamp, and all invoice/account references.

**4. Financial Integration**
Given an approved write-off, when the transaction is finalized, then the system triggers GL journal entry creation for proper bad debt expense recognition and accounts receivable reduction.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=694528378"
]

---

#### Feature: Automate Small Balance Write-Offs Below Tolerance Threshold
- **Role**: Billing Administrator
- **Action**: automate write-offs for minor invoice balances within configured tolerance limits
- **Value**: I can reduce administrative costs, prevent customer delinquency frustrations over trivial amounts, and allow billing teams to focus on complex issues

**Description:**

As a **Billing Administrator**,
I want to **automate write-offs for minor invoice balances within configured tolerance limits**,
So that **I can reduce administrative costs, prevent customer delinquency frustrations over trivial amounts, and allow billing teams to focus on complex issues**


**Key Capabilities:**

**1. Configure Tolerance Parameters**
Administrative users define invoice tolerance settings by bill type, payment allocation mode, and state, specifying tolerance type as Small Balance Write-Off and limit thresholds

**2. Automated Eligibility Assessment**
Scheduled system job periodically identifies invoices with remaining due amounts within configured tolerance limits using business rule validation

**3. Automatic Write-Off Processing**
Upon qualification, system creates automatic write-off transactions, updates invoice status to Paid, recalculates billing account balances, and adjusts payment-to-date records

**4. Dynamic Reversal Management**
When payment allocations change, invoices are discarded, or negative invoice items impact balances, system automatically reverses or partially reverses write-off transactions without manual intervention


**Acceptance Criteria:**

**1. Successful Write-Off Execution**
Given an invoice with remaining balance within tolerance limit, When the automated job processes eligible invoices, Then system creates automatic write-off transaction, marks invoice as Paid with zero remaining due, and publishes confirmation message

**2. Balance Reconciliation**
Given a completed write-off transaction, When billing account balances are recalculated, Then due and unpaid amounts are reduced by write-off amount and payment-to-date reflects adjustment

**3. Automatic Reversal on Payment Change**
Given an invoice with applied write-off, When payment allocation or manual write-off is added or removed, Then system automatically reverses the write-off transaction without manual intervention

**4. Exclusion of Ineligible Invoices**
Given an invoice with remaining balance exceeding tolerance limit, When automated job evaluates invoices, Then system excludes invoice from write-off processing and maintains current status


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=763235605"
]

---

#### Feature: Reverse Write-Offs Automatically or Manually
- **Role**: Billing Administrator
- **Action**: reverse write-off transactions automatically or manually to correct financial adjustments
- **Value**: billing accuracy is maintained and invoice balances reflect true payment obligations when circumstances change

**Description:**

As a **Billing Administrator**,
I want to **reverse write-off transactions automatically or manually to correct financial adjustments**,
So that **billing accuracy is maintained and invoice balances reflect true payment obligations when circumstances change**


**Key Capabilities:**

**1. Automatic Write-Off Reversal Detection**
When invoice with applied write-off receives negative items or is discarded, system identifies affected write-off transactions requiring reversal.

**2. Partial Reversal Processing**
Upon detecting negative invoice items, system reverses only write-off amounts applied to specific member/classification combinations affected by adjustments while preserving valid portions.

**3. Full Reversal Processing**
When invoice discard occurs, system processes complete write-off reversal and restores original billing account balances.

**4. Manual Reversal Initiation**
User is able to select existing manual write-off transaction and submit reversal request with business justification reason.

**5. Financial Recalculation**
System recalculates invoice remaining due, billing account balances, and period-to-date accounting to reflect reversal impact.

**6. Reversal Transaction Tracking**
System records reversal transactions with status updates and maintains audit trail visible across billing account views.


**Acceptance Criteria:**

**1. Automatic Partial Reversal Execution**
Given invoice has manual write-off applied, When negative invoice items affect specific member/classification segments, Then system reverses only corresponding write-off portions and recalculates balances accordingly.

**2. Automatic Full Reversal Execution**
Given invoice has manual write-off applied, When invoice is discarded, Then system reverses entire write-off amount and restores billing account to pre-write-off state.

**3. Manual Reversal Authorization**
Given user has reversal privileges, When initiating manual reversal on eligible write-off transaction, Then system accepts reversal reason and processes transaction successfully.

**4. Reversal Prevention for Invalid Transactions**
Given write-off is already reversed or is automatic type, When user attempts manual reversal, Then system prevents transaction and maintains current financial state.

**5. Financial Integrity Maintenance**
Given write-off reversal is processed, When recalculation completes, Then invoice status, account balances, and period-to-date accounting reflect accurate collectible amounts.

**6. Reversal Audit Trail**
Given reversal transaction is completed, When viewing billing account invoice details, Then reversed write-off displays with updated status and reversal metadata.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=688790823"
]

---

#### Feature: Allocate Write-Offs to Invoice Items by Member Record
- **Role**: Billing Administrator
- **Action**: allocate write-off transactions to invoice items within member records
- **Value**: ensure accurate financial reconciliation and maintain compliant audit trails across the product hierarchy

**Description:**

As a **Billing Administrator**,
I want to **allocate write-off transactions to invoice items within member records**,
So that **I can ensure accurate financial reconciliation and maintain compliant audit trails across the product hierarchy**


**Key Capabilities:**

**1. Write-Off Transaction Registration**
System registers write-off with unique identifier, transaction date, currency, and subtype indicator (manual or automatic origin). Associates transaction to Billing Account and Customer hierarchy.

**2. Hierarchical Allocation to Invoice Items**
System allocates write-off amount across invoice items within product structure (Master Policy  Member Record  Invoice Items). For Individual Benefits products, Master Policy details remain unpopulated.

**3. Coverage Period Classification**
System calculates Renewal Indicator by comparing coverage timing against Member Record Effective Date plus 12 months threshold to distinguish New Business from Renewal.
    3.1 For non-List Bill and non-Individual Direct bill types, comparison uses Invoice Item Period To minus one day

**4. Audit Trail Capture**
System records complete tracking metadata including creation/update timestamps, user identifiers, and invoicing period calculations per defined billing period rules.


**Acceptance Criteria:**

**1. Transaction Registration Completeness**
Given a write-off is triggered, When the system processes the allocation, Then transaction must capture unique identifier, date, currency, subtype, Billing Account, and Customer associations.

**2. Multi-Item Allocation Support**
Given multiple invoice items exist under a Member Record, When write-off amount is allocated, Then system distributes amounts across eligible items while maintaining hierarchical linkage to Master Policy (when applicable).

**3. Renewal Classification Accuracy**
Given coverage period and Member Record Effective Date, When system calculates Renewal Indicator, Then New Business (0) is assigned if within 12-month threshold, otherwise Renewal (1), with special logic applied for non-List Bill types.

**4. Individual Benefits Product Handling**
Given an Individual Benefits product lacks Master Policy, When allocation occurs, Then system proceeds with Member Record-level allocation while leaving Master Policy fields unpopulated.

**5. Audit Trail Integrity**
Given allocation completes, When audit data is captured, Then system records Created By/On and Updated By/On timestamps with millisecond precision for compliance traceability.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=763239277"
]

---

#### Feature: Track Write-Off Status Transitions and Audit Trail
- **Role**: Billing Administrator
- **Action**: monitor write-off lifecycle transitions and maintain comprehensive audit history
- **Value**: financial compliance is ensured through traceable status changes and complete operational transparency

**Description:**

As a **Billing Administrator**,
I want to **monitor write-off lifecycle transitions and maintain comprehensive audit history**,
So that **financial compliance is ensured through traceable status changes and complete operational transparency**


**Key Capabilities:**

**Write-Off Initiation & Approval Workflow**
User initiates write-off request transitioning through Initiated, Pending, and Approved or Cancelled states based on authorization outcomes

**Reversal Transaction Management**
Upon approved write-off requiring correction, system or user executes reversal process transitioning from Initiated Reverse to Reverse status

**Automated Small Balance Processing**
When invoice qualifies for small balance treatment, system automatically processes write-off with tolerance recalculation and approval workflow

**Status Transition Tracking**
System captures each state change with timestamp, actor, and business justification for complete audit trail

**Cancellation Control**
If pending write-off becomes invalid, authorized users or system can transition request to Cancelled status preventing financial impact


**Acceptance Criteria:**

**1. Complete Status Lifecycle Capture**
Given write-off is initiated, When status transitions occur through Pending to Approved/Cancelled, Then system records each transition with actor and timestamp

**2. Reversal Audit Chain**
Given approved write-off requires reversal, When reversal process executes, Then system maintains linkage between original and reversal transactions with complete justification trail

**3. Automated Process Traceability**
Given small balance write-off triggers automatically, When system processes transaction, Then audit log captures system actor, tolerance calculations, and approval path

**4. Cancellation Authorization**
Given pending write-off requires cancellation, When authorized actor initiates cancellation, Then system prevents financial impact and records cancellation rationale

**5. Historical Access**
Given need for compliance review, When user queries write-off history, Then system provides complete chronological view of all status changes and actions


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=672762122"
]

---

#### Feature: Generate GL Journal Entries for Write-Off Transactions
- **Role**: Billing Accountant
- **Action**: generate general ledger journal entries from write-off transaction events
- **Value**: financial records accurately reflect write-off activities and maintain ledger integrity

**Description:**

As a **Billing Accountant**,
I want to **generate general ledger journal entries from write-off transaction events**,
So that **financial records accurately reflect write-off activities and maintain ledger integrity**


**Key Capabilities:**

**1. Write-Off Transaction Capture**
System captures write-off issuance or reversal events with transaction metadata including amounts, currency, dates, and premium sequence details.

**2. Balance Operation Processing**
Upon transaction initiation, system processes balance operations flowing between WriteOff and Written_Billable registers based on transaction direction (ADD/REMOVE).

**3. Invoice Association**
System links write-off transactions to affected invoices with invoicing periods, issue dates, and due dates for complete financial context.

**4. GL Journal Entry Generation**
System translates write-off events into GL journal entries with proper account classifications, debits, and credits based on write-off category (SBWO or Other).

**5. Technical Traceability**
System maintains references linking journal entries to source invoiced items, policies, coverages, and balance operations for audit trail completeness.


**Acceptance Criteria:**

**1. Write-Off Issuance Posting**
Given a write-off issuance transaction, When system processes WRITE_OFF_ADD event, Then GL journal entry debits write-off expense account and credits accounts receivable with transaction amount.

**2. Write-Off Reversal Posting**
Given a write-off reversal transaction, When system processes WRITE_OFF_REMOVE event, Then GL journal entry reverses original posting by debiting accounts receivable and crediting write-off expense account.

**3. Multi-Invoice Allocation**
Given write-off affects multiple invoices, When system generates journal entries, Then separate line items are created for each invoice with corresponding invoicing period and premium sequence details.

**4. Category-Based Classification**
Given write-off category classification, When journal entry is generated, Then system applies appropriate GL account codes distinguishing SBWO from Other compensation write-offs.

**5. Incomplete Transaction Rejection**
Given missing critical transaction metadata, When system attempts journal generation, Then process is prevented and transaction is flagged for resolution before posting.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=653598103"
]

---

#### Feature: Configure Write-Off Tolerance Limits by Bill Type and State
- **Role**: Billing Administrator
- **Action**: configure automated write-off tolerance thresholds for small balance invoices based on business rules and jurisdictional requirements
- **Value**: the system can automatically resolve minor outstanding balances, reducing administrative overhead and preventing unnecessary collection activities for immaterial amounts

**Description:**

As a **Billing Administrator**,
I want to **configure automated write-off tolerance thresholds for small balance invoices based on business rules and jurisdictional requirements**,
So that **the system can automatically resolve minor outstanding balances, reducing administrative overhead and preventing unnecessary collection activities for immaterial amounts**


**Key Capabilities:**

**1. Tolerance Configuration Management**
Administrator establishes tolerance parameters by defining bill type, payment allocation mode, state jurisdiction, tolerance type (SBWO), and threshold calculation methodology through configurable business rules.

**2. Automated Eligibility Evaluation**
Upon scheduled job execution, system identifies qualifying invoices by comparing remaining due amounts against configured tolerance limits for respective bill types and states.

**3. Automated Write-Off Execution**
When invoice qualifies, system generates automatic write-off transaction, updates invoice status to paid, recalculates billing account balances, and adjusts period-to-date financial records.

**4. Dynamic Reversal Processing**
If subsequent payment allocation or invoice discard occurs, system automatically reverses write-off transactions and recalculates account balances to maintain financial accuracy.


**Acceptance Criteria:**

**1. Configuration Persistence**
Given administrator defines tolerance limits by bill type and state, When configuration is saved, Then system applies these thresholds to all future automated write-off evaluations for matching invoice attributes.

**2. Threshold Compliance**
Given invoice has remaining balance, When automated job executes, Then system writes off balance only if amount is within configured tolerance limit for invoice's bill type and state.

**3. Financial Integrity**
Given write-off is applied, When transaction completes, Then invoice status becomes paid, billing account balances decrease by write-off amount, and period-to-date records reflect adjustment.

**4. Automatic Reversal**
Given write-off exists on invoice, When payment allocation or invoice discard occurs, Then system automatically reverses write-off and recalculates all associated financial balances.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=763235605"
]

---

#### Feature: Notify Stakeholders of Write-Off Events via BAM Messages
- **Role**: Billing Administrator
- **Action**: execute manual write-off adjustments to premium balances
- **Value**: I can rectify billing discrepancies and maintain accurate financial records while ensuring stakeholder transparency

**Description:**

As a **Billing Administrator**,
I want to **execute manual write-off adjustments to premium balances**,
So that **I can rectify billing discrepancies and maintain accurate financial records while ensuring stakeholder transparency**


**Key Capabilities:**

**1. Write-Off Authorization & Access**
User is able to access manual write-off functionality within the billing system upon successful authentication and permission verification.

**2. Premium Adjustment Execution**
User is able to apply manual write-off operations that adjust premium balances as documented financial adjustments.

**3. Stakeholder Notification Transmission**
When write-off is successfully processed, system automatically generates and transmits BAM messages to notify relevant stakeholders of the financial event.

**4. Financial Record Integration**
System posts write-off transactions to general ledger with appropriate accounting classifications and audit metadata.


**Acceptance Criteria:**

**1. Authorized Access Control**
Given a user with appropriate permissions, When accessing manual write-off functionality, Then system grants access to adjustment capabilities.

**2. Successful Write-Off Application**
Given valid write-off parameters, When user submits manual adjustment, Then system applies premium write-off and updates financial records.

**3. Automated Stakeholder Notification**
Given completed write-off transaction, When financial adjustment posts successfully, Then system transmits BAM messages to configured stakeholders.

**4. Audit Trail Preservation**
Given any write-off execution, When transaction completes, Then system records complete audit metadata including user identity, timestamp, and business justification.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=684557848"
]

---

#### Feature: Enforce Privilege-Based Access for Write-Off Operations
- **Role**: Billing Administrator
- **Action**: enforce role-based access controls for financial write-off operations
- **Value**: unauthorized adjustments are prevented and audit compliance is maintained

**Description:**

As a **Billing Administrator**,
I want to **enforce role-based access controls for financial write-off operations**,
So that **unauthorized adjustments are prevented and audit compliance is maintained**


**Key Capabilities:**

**1. Access Privilege Validation**
System verifies user credentials and assigned privileges before allowing write-off operations. Users without appropriate authorization are denied access to adjustment functions.

**2. Role-Based Operation Execution**
Upon successful authentication, authorized users are able to initiate write-off transactions within their privilege scope, applying adjustments to designated accounts.

**3. Audit Trail Capture**
System automatically logs all write-off activities including user identity, timestamp, adjustment amount, and justification for compliance review.


**Acceptance Criteria:**

**1. Authorization Enforcement**
Given a user lacks write-off privileges, When attempting adjustment operations, Then system blocks transaction and logs unauthorized access attempt.

**2. Privileged Access Confirmation**
Given a user possesses appropriate authorization, When initiating write-off process, Then system permits operation and captures complete audit metadata.

**3. Audit Integrity**
Given any write-off transaction occurs, When operation completes, Then system records immutable audit entry with user identity and business justification.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=685966091"
]

---

### Epic: Balance Reconciliation & Multi-Level Verification

#### Feature: Calculate Invoice-Level Balances On-the-Fly
- **Role**: Billing Analyst
- **Action**: calculate and reconcile invoice balances in real-time across multiple aggregation levels
- **Value**: accurate financial visibility and payment tracking are maintained without database redundancy

**Description:**

As a **Billing Analyst**,
I want to **calculate and reconcile invoice balances in real-time across multiple aggregation levels**,
So that **accurate financial visibility and payment tracking are maintained without database redundancy**


**Key Capabilities:**

**1. Balance Selection & Preparation**
System retrieves relevant Balance Register Operations (PTI_DISTRIBUTION, INVOICE) filtered by accounting entity linkage to establish calculation foundation.

**2. Total Allocated Computation**
System calculates payment allocation by summing incoming allocations minus unallocated reversals, aggregated per product item or invoice.

**3. Remaining Due Determination**
System computes outstanding amounts by combining current period charges, adjustments (positive/negative), write-offs, credits, and allocated payments.

**4. Multi-Level Aggregation**
System supports balance summarization at both granular product item level and consolidated invoice level based on business requirements.

**5. Cross-Period Adjustment Handling**
When adjustments span billing periods, system accurately attributes negative adjustments to original invoice and positive adjustments to current invoice.


**Acceptance Criteria:**

**1. Real-Time Balance Accuracy**
Given balance register operations exist, When calculation is triggered, Then TOTAL_ALLOCATED and REMAINING_DUE reflect current state without database retrieval lag.

**2. Aggregation Consistency**
Given multiple product items per invoice, When balances are summarized, Then invoice-level totals equal sum of corresponding product-item balances.

**3. Payment Allocation Integrity**
Given payment allocations and reversals, When TOTAL_ALLOCATED is computed, Then incoming allocations minus unallocations produce accurate net allocation.

**4. Cross-Period Adjustment Logic**
Given negative adjustment issued in subsequent period, When REMAINING_DUE is calculated, Then original invoice balance decreases while current invoice reflects positive adjustment increase.

**5. Write-Off Impact Recognition**
Given issued write-offs exist, When REMAINING_DUE is determined, Then non-reversed write-off amounts reduce outstanding balance appropriately.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=487462634"
]

---

#### Feature: Calculate Billing Account-Level Balances
- **Role**: Billing Administrator
- **Action**: retrieve and calculate comprehensive billing account balance information with automated caching and validation
- **Value**: accurate financial position is immediately available for customer service, collections, and reconciliation activities

**Description:**

As a **Billing Administrator**,
I want to **retrieve and calculate comprehensive billing account balance information with automated caching and validation**,
So that **accurate financial position is immediately available for customer service, collections, and reconciliation activities**


**Key Capabilities:**

**Balance Retrieval Initiation**
User is able to request billing account balance by specifying account identifier, triggering system validation of request parameters and account existence

**Intelligent Balance Determination**
Upon successful validation, system checks cache repository for existing balance figures; when cached data unavailable, system performs comprehensive balance calculation encompassing all financial components

**Multi-Dimensional Balance Calculation**
System computes total due, billable amount, minimum due, billed amount, total paid, prepaid amount, and suspense amount with detailed breakdowns

**Cache Management**
When new calculations complete, system records balance figures to cache repository for subsequent rapid retrieval

**Balance Data Delivery**
System returns comprehensive balance response including all calculated financial attributes and detailed payment allocations


**Acceptance Criteria:**

**Valid Account Balance Retrieval**
Given cached balance exists for specified billing account, when user requests balance information, then system returns cached balance data without recalculation

**New Balance Calculation**
Given no cached balance exists, when user requests balance information, then system calculates all balance components and stores results in cache before returning response

**Account Not Found Handling**
Given billing account identifier does not exist in system, when user submits balance request, then system prevents processing and returns account not found error

**Request Validation Failure**
Given request contains invalid parameters or structure, when user attempts balance retrieval, then system rejects request with appropriate validation error message

**Comprehensive Balance Components**
Given successful balance calculation, when system returns response, then all required financial attributes including due amounts, paid amounts, prepaid, and suspense details are included


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=252123815"
]

---

#### Feature: Calculate Product-Level Balances
- **Role**: Billing Administrator
- **Action**: calculate and reconcile product-level financial balances across hierarchical billing structures
- **Value**: accurate financial tracking and comprehensive visibility into billed, paid, and outstanding amounts at both product item and invoice levels is maintained

**Description:**

As a **Billing Administrator**,
I want to **calculate and reconcile product-level financial balances across hierarchical billing structures**,
So that **accurate financial tracking and comprehensive visibility into billed, paid, and outstanding amounts at both product item and invoice levels is maintained**


**Key Capabilities:**

**1. Initialize Hierarchical Balance Structure**
System establishes two-tier balance tracking at Billing Product Item level and Invoice level for each product in billing lifecycle

**2. Calculate Total Billed Balance**
For each amount type, system computes sum of positive invoiced items minus negative invoiced items using Balance Register Operations, then aggregates across all types

**3. Calculate Total Paid Balance**
System processes incoming payment allocations minus outgoing/voided payment items by amount type, then sums to determine total paid

**4. Determine Remaining Due Balance**
System calculates outstanding amount per type using formula (Total Billed minus Total Paid minus Small Balance Write-Off), allowing negative values for credited balances


**Acceptance Criteria:**

**1. Dual-Level Balance Integrity**
Given product has billing activity, When balances are calculated, Then system maintains consistent values at both Product Item and Invoice levels for all three balance types

**2. Amount Type Segregation**
Given multiple amount types exist, When calculation executes, Then system processes Net Premium, Policy Tax, Policy Fee, and Billing Fee separately before aggregation

**3. Total Billed Accuracy**
Given invoiced items exist, When Total Billed is computed, Then system correctly sums positive items and subtracts negative items using Balance Register Operations

**4. Overpayment Handling**
Given payments exceed billed amount, When Remaining Due is calculated, Then system produces negative value indicating credited balance


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=475871647"
]

---

#### Feature: Calculate Payment-Level Balances
- **Role**: Billing Analyst
- **Action**: retrieve and verify payment-level balance information with intelligent caching
- **Value**: I can quickly access accurate payment balance data for reconciliation and financial decision-making without recalculation delays

**Description:**

As a **Billing Analyst**,
I want to **retrieve and verify payment-level balance information with intelligent caching**,
So that **I can quickly access accurate payment balance data for reconciliation and financial decision-making without recalculation delays**


**Key Capabilities:**

**Payment Balance Request Initiation**
User is able to request payment balance data by providing payment identifier for system processing.

**Request Validation & Authorization**
System validates requester credentials and payment identifier integrity before processing.

**Intelligent Balance Retrieval**
When cached balance exists, system retrieves data immediately. Upon cache absence, system calculates balance using standard methodology and establishes cache entry.

**Comprehensive Balance Response**
System returns complete payment balance including payment amount, general suspense, billing account suspense details, and allocated payment amounts for analysis.


**Acceptance Criteria:**

**Successful Balance Retrieval with Cache**
Given cached balance data exists for the payment, When user requests payment balance, Then system retrieves and returns cached balance immediately without recalculation.

**Successful Balance Calculation without Cache**
Given no cached balance exists, When user requests payment balance, Then system calculates balance, stores to cache, and returns complete balance structure.

**Invalid Payment Identifier**
Given payment identifier does not match existing payment entity, When user submits request, Then system prevents processing and returns payment not found notification.

**Authorization Failure**
Given user lacks required credentials, When balance request is submitted, Then system denies access and returns appropriate validation error.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=266046399"
]

---

#### Feature: Determine Invoice Tolerance Limits
- **Role**: Billing Administrator
- **Action**: configure and apply tolerance calculation strategies to invoice reconciliation
- **Value**: payment discrepancies are automatically evaluated within acceptable business thresholds, reducing manual review overhead and improving financial control accuracy

**Description:**

As a Billing Administrator,
I want to configure and apply tolerance calculation strategies to invoice reconciliation,
So that payment discrepancies are automatically evaluated within acceptable business thresholds, reducing manual review overhead and improving financial control accuracy


**Key Capabilities:**

**Strategy Retrieval & Invoice Assessment**
System retrieves configured tolerance strategy from centralized rules engine and identifies the invoice current due amount for calculation baseline.

**Tolerance Calculation Execution**
Upon strategy identification, system applies appropriate calculation method: fixed amount assignment, percentage multiplication with two-decimal rounding, or minimum value selection between flat and percentage results.

**Threshold Determination & Return**
System finalizes tolerance limit based on strategy outcome and returns the calculated threshold for downstream reconciliation processes to evaluate payment variances.


**Acceptance Criteria:**

**Fixed Amount Strategy Processing**
Given strategy type is 'Flat amount', When tolerance calculation is triggered, Then system assigns configured fixed value without mathematical operations.

**Percentage-Based Calculation Accuracy**
Given strategy type is '% of invoice' with 10% rate and $2,577 current due, When calculation executes, Then system returns $257.70 rounded to two decimals.

**Minimum Strategy Comparative Logic**
Given strategy type is 'Minimum' with $10 flat or 10% configuration and $90 current due, When calculation compares $9.00 percentage result against $10 flat amount, Then system selects $9.00 as tolerance limit.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=635514193"
]

---

#### Feature: Configure Invoice Tolerance Parameters
- **Role**: Billing Administrator
- **Action**: configure tolerance parameters for invoice payment discrepancies across bill types, jurisdictions, and calculation strategies
- **Value**: the system automatically handles minor payment mismatches without triggering unnecessary delinquency processes, reducing operational overhead and improving customer experience

**Description:**

As a **Billing Administrator**,
I want to **configure tolerance parameters for invoice payment discrepancies across bill types, jurisdictions, and calculation strategies**,
So that **the system automatically handles minor payment mismatches without triggering unnecessary delinquency processes, reducing operational overhead and improving customer experience**


**Key Capabilities:**

**1. Define Tolerance Scope & Applicability**
Administrator establishes tolerance configuration dimensions including bill type classification (List Bill, Individual Premium Accounting, Direct Bill), payment allocation mode, state jurisdiction, and currency parameters.

**2. Select Tolerance Treatment Method**
Administrator designates whether qualifying discrepancies should carry forward to subsequent billing cycles or trigger small balance write-off.

**3. Configure Calculation Strategy**
Administrator selects threshold determination approach: flat currency amount, percentage of invoice current due, or minimum of both calculations. System enforces required parameters based on selected strategy.

**4. Establish Threshold Values**
Administrator defines specific tolerance amounts (flat values or percentages) that determine when discrepancies qualify for automated treatment versus delinquency escalation.


**Acceptance Criteria:**

**1. Multi-Dimensional Configuration Validation**
Given tolerance parameters are defined, When configuration spans bill types, states, and payment modes, Then system enforces complete dimensional coverage and prevents conflicting rules.

**2. Strategy-Based Threshold Calculation**
Given a calculation strategy is selected, When discrepancy evaluation occurs, Then system accurately computes threshold using flat amount, percentage calculation, or minimum logic as configured.

**3. Treatment Action Application**
Given discrepancy falls within tolerance threshold, When tolerance type is carry forward, Then balance transfers to next cycle; When type is write-off, Then balance is eliminated without delinquency trigger.

**4. Delinquency Escalation Control**
Given discrepancy exceeds configured tolerance threshold, When payment processing completes, Then system initiates standard delinquency workflow regardless of tolerance configuration.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=631129753"
]

---

#### Feature: Manage Carry Forward Tolerance Flag Calculation
- **Role**: Billing Administrator
- **Action**: manage automated tolerance flag calculation across invoices following payment activities
- **Value**: accurate invoice tolerance status is maintained to support write-off decisions and collection prioritization

**Description:**

As a **Billing Administrator**,
I want to **manage automated tolerance flag calculation across invoices following payment activities**,
So that **accurate invoice tolerance status is maintained to support write-off decisions and collection prioritization**


**Key Capabilities:**

**Trigger Tolerance Recalculation**
Upon payment allocation, unallocation, or negative adjustment issuance on any invoice within a billing account, system initiates tolerance evaluation across all account invoices regardless of direct payment involvement.

**Process Sequential Evaluation**
System evaluates invoices chronologically by due date, calculating cumulative amount due by aggregating current invoice balance with all prior unpaid invoice balances, excluding unapplied amounts.

**Apply Tolerance Determination**
When cumulative amount due meets or falls below configured tolerance limit, system assigns tolerance flag; when exceeded, system removes tolerance flag and ceases evaluation of subsequent invoices.

**Handle Status Transitions**
If invoice reaches paid status, system automatically removes tolerance flag; negative adjustments reduce invoice balance equivalently to payments in tolerance calculations.


**Acceptance Criteria:**

**Sequential Dependency Enforcement**
Given multiple partially paid invoices exist, when an invoice fails tolerance threshold, then all chronologically subsequent invoices lose tolerance eligibility and existing flags are removed.

**Comprehensive Recalculation Scope**
Given payment is allocated to single invoice, when tolerance process executes, then all billing account invoices are re-evaluated regardless of direct payment application.

**Cumulative Balance Calculation**
Given invoice is evaluated for tolerance, when calculating amount due, then system aggregates current invoice balance with all prior unpaid invoices excluding unapplied balances.

**Paid Status Handling**
Given invoice transitions to paid status, when tolerance evaluation occurs, then system removes any existing tolerance flag without impacting subsequent invoice evaluation.

**Negative Adjustment Treatment**
Given invoice has negative adjustment, when calculating tolerance, then adjustment reduces balance equivalently to payment allocation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=632624500"
]

---

#### Feature: Process Small Balance Write-Off Within Tolerance
- **Role**: Billing Administrator
- **Action**: process small balance write-offs within configured tolerance thresholds
- **Value**: invoice portfolios are automatically reconciled and administrative costs are reduced by eliminating manual handling of immaterial balances

**Description:**

As a **Billing Administrator**,
I want to **process small balance write-offs within configured tolerance thresholds**,
So that **invoice portfolios are automatically reconciled and administrative costs are reduced by eliminating manual handling of immaterial balances**


**Key Capabilities:**

**1. Balance Evaluation & Qualification**
System computes current invoice balance on-the-fly and establishes tolerance threshold using configured parameters to determine write-off eligibility

**2. Tolerance Threshold Configuration**
User is able to define and maintain default tolerance parameters through business rules engine for consistent enterprise-wide application

**3. Automated Write-Off Transaction Processing**
When invoice balance falls within tolerance limit, system automatically issues Small Balance Write-Off transaction to clear the obligation

**4. Exception Handling for Oversized Balances**
Upon balance exceeding tolerance threshold, invoice is excluded from automatic write-off and routed for standard collection workflow


**Acceptance Criteria:**

**1. Eligible Balance Write-Off**
Given an invoice with balance below tolerance threshold, When system evaluates eligibility, Then Small Balance Write-Off transaction is issued and invoice balance is cleared

**2. Ineligible Balance Exclusion**
Given an invoice with balance exceeding tolerance limit, When system evaluates eligibility, Then write-off transaction is not issued and invoice remains active

**3. Threshold Configuration Enforcement**
Given tolerance parameters are configured in business rules engine, When system evaluates any invoice, Then established thresholds are consistently applied across all transactions

**4. Balance Calculation Accuracy**
Given invoice requires write-off evaluation, When system performs on-the-fly calculation, Then current balance reflects all posted transactions accurately


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=636883636"
]

---

#### Feature: Reconcile Invoice Balances Across Payment Allocation Modes
- **Role**: Billing Administrator
- **Action**: reconcile invoice balances and resolve excessive payments when negative adjustments occur across multiple payment allocation modes
- **Value**: financial integrity is maintained, overpayments are properly unallocated, and account balances accurately reflect current obligations

**Description:**

As a **Billing Administrator**,
I want to **reconcile invoice balances and resolve excessive payments when negative adjustments occur across multiple payment allocation modes**,
So that **financial integrity is maintained, overpayments are properly unallocated, and account balances accurately reflect current obligations**


**Key Capabilities:**

**1. Negative Adjustment Detection & Matching**
Upon invoice generation or policy transaction completion, system identifies negative adjustments and matches them to corresponding positive invoice items, initiating payment status evaluation.

**2. Excessive Payment Calculation & Unallocation**
System compares paid amounts against revised to-be-paid amounts, detects overpayments, and unallocates excessive amounts to appropriate unapplied balance accounts based on allocation mode configuration.
    2.1 When Small Balance Write Off exists, system reverses SBWO transactions before processing excessive payments
    2.2 For IPA mode, system applies configuration-driven unallocation rules to Member Record overpayment accounts

**3. Balance Reconciliation & Status Updates**
System recalculates remaining dues excluding negative adjustments from payment allocation, updates billing account and Member Record balances, and adjusts invoice statuses.

**4. Automated Payment Application & Tolerance Management**
When unapplied balance exists, system automatically applies payments; when remaining due falls within tolerance limits, system issues Small Balance Write Off transactions and concludes reconciliation process.


**Acceptance Criteria:**

**1. Excessive Payment Detection**
Given an invoice with negative adjustments matched to paid positive items, When paid amount exceeds revised to-be-paid amount, Then system calculates excessive payment and unallocates to appropriate unapplied balance account per allocation mode.

**2. Small Balance Write Off Handling**
Given existing SBWO transactions on invoices with matched positive items, When negative adjustments create payment discrepancies, Then system reverses SBWO before processing excessive payments and reissues SBWO if remaining due is within tolerance.

**3. Multi-Mode Reconciliation**
Given different payment allocation modes (Group, Individual Direct, IPA), When negative adjustment reconciliation completes, Then system applies mode-specific rules for unallocation destinations and balance updates without manual intervention.

**4. Automated Payment Consumption**
Given unapplied balance greater than zero after reconciliation, When remaining invoice due exists, Then system automatically applies unapplied balance to outstanding amounts before concluding process.

**5. Tolerance-Based Closure**
Given recalculated remaining due after negative adjustment exclusion, When amount falls within configured tolerance limits, Then system issues SBWO transaction and updates invoice status to paid without requiring manual review.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=601635321"
]

---

#### Feature: Calculate Member Record Total Remaining Due and Total Paid
- **Role**: Billing Analyst
- **Action**: calculate member record total remaining due and total paid amounts based on configurable date parameters
- **Value**: I can accurately assess member financial standing and payment obligations at any point in time for reconciliation and reporting purposes

**Description:**

As a **Billing Analyst**,
I want to **calculate member record total remaining due and total paid amounts based on configurable date parameters**,
So that **I can accurately assess member financial standing and payment obligations at any point in time for reconciliation and reporting purposes**


**Key Capabilities:**

**1. Define Reconciliation Period**
User specifies 'As of date' and 'End date' parameters to establish calculation boundaries for member record financial assessment

**2. Identify Eligible Invoice Population**
System retrieves all invoices across member's billing accounts where issue date falls on or before 'As of date' and due date falls on or before 'End date'

**3. Calculate Total Remaining Due**
System computes outstanding balance by subtracting allocated payments, issued write-offs, balance adjustments, and negative payment adjustments from total billed amounts within date boundaries

**4. Calculate Total Paid Amount**
System determines cumulative paid amount using product balance calculation rules in state as of specified 'As of date'

**5. Apply Transaction Date Filters**
System includes only transactions dated on or before 'As of date' that affect identified invoices in balance calculations


**Acceptance Criteria:**

**1. Valid Date Range Processing**
Given user provides valid 'As of date' and 'End date', When calculation is triggered, Then system processes all invoices meeting date criteria across all member billing accounts

**2. Total Remaining Due Accuracy**
Given eligible invoices are identified, When system calculates remaining due, Then result equals total billed minus allocated payments minus write-offs minus balance adjustments minus negative payment adjustments as of specified date

**3. Total Paid Calculation Compliance**
Given member record and 'As of date' are provided, When total paid is calculated, Then system applies product balance calculation business rules referencing specified date

**4. Transaction Date Boundary Enforcement**
Given transactions exist for member invoices, When calculations are performed, Then only transactions dated on or before 'As of date' affecting eligible invoices are included

**5. Multi-Account Aggregation**
Given member has multiple billing accounts, When financial totals are calculated, Then system aggregates invoice and transaction data across all accounts meeting date criteria


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=707832989"
]

---

#### Feature: Calculate Member Record Total Billable Amount
- **Role**: Billing Reconciliation Analyst
- **Action**: calculate and verify the total billable amount for a member record as of a specified date through multi-step balance reconciliation
- **Value**: accurate financial position and billing integrity are maintained across all member accounts for reporting and compliance purposes

**Description:**

As a **Billing Reconciliation Analyst**,
I want to **calculate and verify the total billable amount for a member record as of a specified date through multi-step balance reconciliation**,
So that **accurate financial position and billing integrity are maintained across all member accounts for reporting and compliance purposes**


**Key Capabilities:**

**1. Invoice Identification & Scope Determination**
System identifies all invoices from full invoicing periods between member record effective date and specified calculation date across all associated billing accounts.

**2. Total Due Amount Calculation**
System calculates total due by aggregating billed amounts minus issued write-offs, balance adjustments, and negative adjustments applied to invoices as of the specified date.

**3. Projected Amount Computation**
When calculation date differs from last invoice period end date, system computes projected due amount using daily rate multiplied by days between dates with HALF_UP rounding.

**4. Payment Reconciliation**
System calculates total paid amount including member record overpayments as of the specified date.

**5. Final Billable Amount Determination**
System applies final formula combining total paid, overpayments, total due, and projected amounts to determine total billable amount for the member record.


**Acceptance Criteria:**

**1. Historical Invoice Aggregation**
Given a member record with multiple billing accounts, When calculation is requested for a specific date, Then system includes all invoices from complete periods between effective date and calculation date across all accounts.

**2. Transaction State Validation**
Given transactions affecting invoices, When calculating amounts, Then system includes only transactions dated on or before the specified calculation date.

**3. Conditional Projection Logic**
Given calculation date not matching last invoice period end, When computing total due, Then system calculates projected amount using daily rate; Otherwise projected amount is zero.

**4. Rounding Precision**
Given projected due amount calculation, When applying daily rate formula, Then system rounds result to two decimal places using HALF_UP strategy.

**5. Comprehensive Balance Formula**
Given all component amounts calculated, When determining final result, Then system applies formula: Total Paid plus Overpayments minus Total Due minus Projected Due Amount.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=811442267"
]

---

#### Feature: Provide Billing Balance Snapshots for Reporting and Analytics
- **Role**: Billing Analyst
- **Action**: Access dynamically calculated member-level billing balances for reporting and analytics
- **Value**: I can monitor financial health, track payment trends, and generate accurate financial reports based on real-time balance calculations

**Description:**

As a **Billing Analyst**,
I want to **access dynamically calculated member-level billing balances for reporting and analytics**,
So that **I can monitor financial health, track payment trends, and generate accurate financial reports based on real-time balance calculations**


**Key Capabilities:**

**1. Balance Calculation Engine**
System dynamically calculates and maintains nine balance types at member record level, including Last Payment Amount, Remaining Due, Paid to Date, Total Billed, Total Allocated, Member Record Overpayments, Amendments Not Yet Billed, and Write-Offs.

**2. Event-Driven Recalculation**
Balances automatically recalculate upon billing events: quote purchases, invoice lifecycle operations, payment allocations and transfers, small balance write-offs, and amendments updates.

**3. Multi-Allocation Balance Tracking**
When payments span multiple member records, system apportions amounts accurately; when transfers occur, balances reflect remaining non-transferred amounts only.


**Acceptance Criteria:**

**1. Real-Time Balance Availability**
Given billing events occur, When payment is allocated to member record, Then all affected balance types recalculate immediately and reflect current financial position.

**2. Multi-Member Payment Allocation**
Given payment spans multiple member records, When allocation completes, Then each member record displays only its proportional payment amount in Last Payment Amount.

**3. Payment Transfer Handling**
Given payment is partially transferred between allocation types, When transfer completes, Then Last Payment Amount reflects only remaining non-transferred balance.

**4. Comprehensive Event Trigger Coverage**
Given any supported billing action occurs, When transaction completes, Then relevant balance types recalculate per defined trigger mappings.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=589628510"
]

---

#### Feature: Manage Multi-Level Balance Granularity
- **Role**: Billing Administrator
- **Action**: manage and reconcile balance calculations across organizational hierarchy levels
- **Value**: financial accuracy is maintained through consistent aggregation rules and proper balance visibility at each business entity level

**Description:**

As a **Billing Administrator**,
I want to **manage and reconcile balance calculations across organizational hierarchy levels**,
So that **financial accuracy is maintained through consistent aggregation rules and proper balance visibility at each business entity level**


**Key Capabilities:**

**1. Hierarchical Balance Structure Maintenance**
User is able to maintain three-tier balance hierarchy with Organization Customer at top level, Billing Account at mid level, and Member Record at base level.

**2. Member Record Balance Aggregation**
Upon calculation request, system aggregates all balance operations for specific member record to determine member-level balance.

**3. Billing Account Consolidation**
System calculates billing account balance by aggregating operations across all linked member records within that account.

**4. Organization Customer Balance Rollup**
System consolidates organization customer balance by summing operations across all billing accounts and their associated member records.

**5. Unapplied Balance Special Handling**
When processing unapplied balances, system calculates exclusively at billing account level while setting member record unapplied balance to zero.


**Acceptance Criteria:**

**1. Multi-Level Balance Consistency**
Given hierarchical balance structure exists, When balance calculations execute at any level, Then totals at higher levels equal sum of all subordinate entity operations.

**2. Member Record Balance Accuracy**
Given member record contains multiple operations, When balance is calculated, Then result equals sum of all operations for that specific member record only.

**3. Billing Account Aggregation Validation**
Given billing account links multiple member records, When account balance is requested, Then system aggregates all operations from all linked member records.

**4. Organization Consolidated View**
Given organization customer contains multiple billing accounts, When organization balance is calculated, Then system sums all operations across all accounts and member records.

**5. Unapplied Balance Exception Rule**
Given unapplied balance calculation is triggered, When system processes member record level, Then unapplied balance is set to zero and calculation occurs only at billing account level.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=601635240"
]

---

#### Feature: Execute Balance Calculation Scenarios Across Transaction Types
- **Role**: Billing Administrator
- **Action**: execute balance calculation scenarios across transaction types to ensure accurate account reconciliation
- **Value**: financial integrity is maintained through automated verification of complex payment allocations, invoice adjustments, and policy amendments across multiple billing modes

**Description:**

As a **Billing Administrator**,
I want to **execute balance calculation scenarios across transaction types to ensure accurate account reconciliation**,
So that **financial integrity is maintained through automated verification of complex payment allocations, invoice adjustments, and policy amendments across multiple billing modes**


**Key Capabilities:**

**1. Baseline Balance Calculation Execution**
System calculates Account Balance using billing-mode-specific formulas: True Group/Self-Bill/Individual Direct (Due and Unpaid - Unapplied) versus Individual Premium Account (Due and Unpaid - Unapplied - Member Record Overpayment - Member Record Unapplied). Tracks Total Billed, Total Paid, Total Allocated, and Adjustments.

**2. Invoice Lifecycle Impact Processing**
Upon invoice discard after payment allocation, system adjusts Total Billed downward and converts payments to either Unapplied (True Group/Self-Bill) or Member Record Overpayment (IPA with member-level allocation), creating credit balances.

**3. Payment Variance Resolution**
When overpayments occur, system routes excess to Unapplied (True Group) or Member Record Overpayment (IPA). When underpayments occur, system maintains remainder in Due and Unpaid. Supports payment transfer, unallocation, reversal, suspense, and refund scenarios with corresponding balance recalculations.

**4. Policy Amendment Reconciliation**
If backdated amendments increase/decrease premium, system calculates Amendments Not Yet Billed for prior periods, adjusts next invoice, and manages excess payment allocation per billing mode. Handles member cancellations, reinstatements, premium waivers, and out-of-sequence transactions.

**5. Member Transfer and Portability Handling**
When member moves from List Bill to Individual Direct, system creates negative adjustment on originating account, generates new Billing Account, and tracks payments separately. Upon subsequent OOS cancellation, discards transferred member invoices and converts payments to Unapplied.

**6. Adjustment and Credit Application**
System applies write-offs (automatic small balance or manual approved) to Total Adjustments, reducing Due and Unpaid. Allocates Customer Credits from Unapplied to invoices, updating Total Allocated and Account Balance accordingly.


**Acceptance Criteria:**

**1. Mode-Specific Formula Accuracy**
Given billing mode is configured (True Group/IPA/Self-Bill/Individual Direct), When balance calculation executes, Then Account Balance reflects correct formula with appropriate Unapplied and Member Record Overpayment components per mode.

**2. Invoice Discard Credit Creation**
Given invoice is discarded after payment allocation, When discard completes in IPA mode with member-level allocation, Then Member Record Overpayment equals discarded invoice amount and Account Balance shows negative credit; When True Group mode, Then payment moves to Unapplied.

**3. Overpayment Routing Validation**
Given payment exceeds invoice amount, When processed in IPA mode, Then excess creates Member Record Overpayment and Account Balance becomes negative; When True Group mode, Then excess becomes Unapplied and Account Balance reflects credit.

**4. Backdated Amendment Reconciliation**
Given policy amendment decreases premium retroactively, When next invoice generates with negative ANYB, Then excess allocated payments convert to Member Record Overpayment (IPA) or Unapplied (True Group) and Account Balance shows credit.

**5. Member Transfer Balance Isolation**
Given member transfers from List Bill to Individual Direct, When transfer completes, Then negative adjustment appears on List Bill, new Billing Account created for Individual Direct with separate balance tracking, and payments remain isolated per account.

**6. Write-Off and Credit Impact**
Given write-off is approved or Customer Credit allocated, When applied to invoice, Then Total Adjustments increases, Due and Unpaid decreases by write-off/credit amount, and Account Balance recalculates excluding written-off/credited amounts.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=541986477"
]

---

#### Feature: Retrieve Balance Figures via REST APIs
- **Role**: Billing Administrator
- **Action**: retrieve comprehensive balance calculations for billing accounts through system integration
- **Value**: I can obtain accurate, real-time financial positions across multiple balance categories to support reconciliation and decision-making

**Description:**

As a **Billing Administrator**,
I want to **retrieve comprehensive balance calculations for billing accounts through system integration**,
So that **I can obtain accurate, real-time financial positions across multiple balance categories to support reconciliation and decision-making**


**Key Capabilities:**

**1. Balance Calculation Request Initiation**
User is able to submit balance calculation request by providing billing account identifier with authenticated credentials for system processing.

**2. Multi-Category Balance Computation**
System calculates comprehensive balance figures including billable amounts, minimum due, billed amounts, suspense, prepaid, paid, and total outstanding amounts in single operation.

**3. Balance Data Retrieval & Response**
Upon successful calculation, system returns complete balance snapshot with unique request identifier and processing confirmation flag for integration tracking.


**Acceptance Criteria:**

**1. Successful Balance Retrieval**
Given valid billing account identifier and authentication token, When balance calculation is requested, Then system returns comprehensive balance object with all calculated categories and unique request identifier.

**2. Authentication Validation**
Given missing or invalid authentication credentials, When balance calculation is attempted, Then system prevents execution and returns authentication error response.

**3. Input Validation Control**
Given invalid or missing billing account identifier, When calculation request is submitted, Then system returns validation error response without processing calculation.

**4. Comprehensive Data Completeness**
Given successful calculation execution, When balance response is generated, Then all balance categories (billable, billed, suspense, prepaid, paid, minimum due, total due) are included with processing metadata.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=252123971"
]

---

#### Feature: Validate Balance Calculation Inputs and Handle Errors
- **Role**: Billing Administrator
- **Action**: retrieve and validate invoice balance information with automated calculation and caching
- **Value**: accurate financial data is available on-demand while optimizing system performance through intelligent caching

**Description:**

As a **Billing Administrator**,
I want to **retrieve and validate invoice balance information with automated calculation and caching**,
So that **accurate financial data is available on-demand while optimizing system performance through intelligent caching**


**Key Capabilities:**

**1. Invoice Balance Request Initiation**
User initiates balance retrieval by providing invoice identifier with appropriate system authorization.

**2. Request Validation and Entity Verification**
System validates request integrity and confirms invoice entity existence in the financial repository.

**3. Balance Calculation or Cache Retrieval**
Upon validation success, system checks for cached balance data; if unavailable, performs calculation using standard methodology and stores result; if cached, retrieves existing balance figures.

**4. Balance Data Response Delivery**
System returns comprehensive balance information including billed amount, paid amount with payment details, and outstanding payable amount to the requester.


**Acceptance Criteria:**

**1. Successful Balance Retrieval from Cache**
Given cached balance exists for the invoice, When user requests balance information, Then system retrieves and returns cached data without recalculation.

**2. Successful Balance Calculation and Caching**
Given no cached balance exists, When user requests balance information, Then system calculates balance using standard methodology, stores to cache, and returns result.

**3. Invalid Request Handling**
Given request fails validation checks, When system processes the request, Then system returns appropriate validation error and terminates flow without processing.

**4. Non-Existent Invoice Handling**
Given invoice identifier does not match any entity, When system performs entity verification, Then system returns entity not found error and prevents balance calculation.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=283353347"
]

---

#### Feature: Reconcile Billing Balances for Nonforfeiture Events
- **Role**: Billing Administrator
- **Action**: reconcile outstanding billing balances through automated internal payment allocation when members elect nonforfeiture options
- **Value**: members with overdue invoices can seamlessly transition to Reduced Paid-Up, Extended Term, or Surrender options without delinquency penalties, while ensuring accurate financial settlement across integrated systems

**Description:**

As a **Billing Administrator**,
I want to **reconcile outstanding billing balances through automated internal payment allocation when members elect nonforfeiture options**,
So that **members with overdue invoices can seamlessly transition to Reduced Paid-Up, Extended Term, or Surrender options without delinquency penalties, while ensuring accurate financial settlement across integrated systems**


**Key Capabilities:**

**1. Nonforfeiture Election Initiation**
Upon customer confirmation of Reduced Paid-Up, Extended Term, or Surrender option, system triggers cross-platform reconciliation workflow and notifies integrated subsystems of pending nonforfeiture processing.

**2. Outstanding Balance Identification**
System identifies overdue invoices on member record and initiates policy cancellation request to PolicyCore while awaiting effective date arrival.

**3. Cash Availability Assessment**
When current date equals nonforfeiture effective date, Cash Management retrieves unpaid balance data and evaluates sufficiency of customer's cash account funds.
    3.1 If insufficient funds exist, system triggers payment failure event and halts reconciliation
    3.2 If effective date is future-dated, system queues reconciliation until date arrival

**4. Internal Payment Processing**
Upon successful cash transaction validation, system generates internal payment record and allocates funds to outstanding member invoices.

**5. Balance Settlement Finalization**
System reconciles debt, prevents delinquency processing, and enables policy continuation or cash account disbursement based on selected nonforfeiture option.


**Acceptance Criteria:**

**1. Reconciliation Eligibility Validation**
Given a member record with overdue invoices, when nonforfeiture option is elected and policy has been active for minimum 3 years, then system initiates automated balance reconciliation workflow for LifeProducts under List Bill or Individual Direct Billing Accounts only.

**2. Effective Date Synchronization**
Given a future-dated nonforfeiture effective date, when current system date does not match effective date, then Cash Management withholds unpaid balance request until dates align.

**3. Successful Funds Transfer**
Given sufficient cash account balance, when Cash Management validates fund availability on effective date, then system creates internal payment and automatically allocates to outstanding member invoices without manual intervention.

**4. Insufficient Funds Handling**
Given inadequate cash account balance, when fund validation fails, then system generates payment failure event and prevents debt reconciliation completion.

**5. Cross-System Notification**
Given completed reconciliation, when internal payment allocation succeeds, then system notifies PolicyCore and integrated subsystems to process corresponding nonforfeiture coverage adjustments or cash disbursements.


**Reference URLs:**

[
  "https://wiki.eisgroup.com/pages/viewpage.action?pageId=806688559"
]

---
